  [1m[36m (4.9ms)[0m  [1mCREATE TABLE "admins" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "surname" varchar, "email" varchar, "password_digest" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (5.2ms)[0m  CREATE TABLE "creationreports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "market_id" integer, "manager_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (5.2ms)[0m  [1mCREATE TABLE "managers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "surname" varchar, "yearofbirth" integer, "tel" varchar, "email" varchar, "curriculum" text, "password" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "password_digest" varchar, "market_id" integer) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (6.1ms)[0m  [1mCREATE  INDEX "index_managers_on_market_id" ON "managers" ("market_id")[0m
  [1m[35m (6.1ms)[0m  CREATE TABLE "markets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "address" varchar, "group" varchar, "info" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "latitude" float, "longitude" float, "status" boolean) 
  [1m[36m (4.8ms)[0m  [1mCREATE TABLE "micropostreports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "micropost_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (4.8ms)[0m  CREATE TABLE "microposts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "vote" integer, "user_id" integer, "market_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (5.8ms)[0m  [1mCREATE  INDEX "index_microposts_on_market_id" ON "microposts" ("market_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_microposts_on_market_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_microposts_on_market_id' AND type='index'

  [1m[36m (6.3ms)[0m  [1mCREATE  INDEX "index_microposts_on_user_id" ON "microposts" ("user_id")[0m
  [1m[35m (9.6ms)[0m  CREATE TABLE "owners" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "market_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "stock" integer, "price" float) 
  [1m[36m (4.5ms)[0m  [1mCREATE  INDEX "index_owners_on_market_id" ON "owners" ("market_id")[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_owners_on_market_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_owners_on_market_id' AND type='index'

  [1m[36m (5.9ms)[0m  [1mCREATE  INDEX "index_owners_on_product_id" ON "owners" ("product_id")[0m
  [1m[35m (6.8ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "label" varchar, "package" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (5.9ms)[0m  [1mCREATE TABLE "requests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "shopper_id" integer, "product_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (5.5ms)[0m  CREATE  INDEX "index_requests_on_product_id" ON "requests" ("product_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_requests_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_requests_on_product_id' AND type='index'
[0m
  [1m[35m (4.0ms)[0m  CREATE  INDEX "index_requests_on_shopper_id" ON "requests" ("shopper_id")
  [1m[36m (4.5ms)[0m  [1mCREATE TABLE "shoppers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (4.1ms)[0m  CREATE  INDEX "index_shoppers_on_user_id" ON "shoppers" ("user_id")
  [1m[36m (6.3ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "surname" varchar, "email" varchar, "yearofbirth" integer, "address" varchar, "latitude" float, "longitude" float, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "password" varchar, "password_digest" varchar) [0m
  [1m[35m (4.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar NOT NULL) 
  [1m[36m (3.8ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (3.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20171204164942')[0m
  [1m[35m (5.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170912102618')
  [1m[36m (20.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170912102359')[0m
  [1m[35m (20.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170906202945')
  [1m[36m (38.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170913144048')[0m
  [1m[35m (6.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170906202441')
  [1m[36m (4.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170719155029')[0m
  [1m[35m (4.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170721133145')
  [1m[36m (7.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170719134555')[0m
  [1m[35m (5.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20171204110227')
  [1m[36m (4.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170721132013')[0m
  [1m[35m (3.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170914090844')
  [1m[36m (3.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170906202651')[0m
  [1m[35m (3.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170719154331')
  [1m[36m (4.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170914090513')[0m
  [1m[35m (3.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20171204094655')
  [1m[36m (3.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170719142959')[0m
  [1m[35m (5.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170912102520')
  [1m[36m (4.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170914085606')[0m
  [1m[35m (3.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170721133211')
  [1m[36m (4.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170802150846')[0m
  [1m[35m (3.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20170719154729')
  [1m[36m (4.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170719143143')[0m
  [1m[35m (8.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20171204093654')
  [1m[36m (34.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20170721131928')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  begin transaction
Processing by SessionsaController#new as HTML
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered sessionsa/new.html.erb within layouts/application (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mAdmin Exists (0.2ms)[0m  SELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('navarro@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "pablo"], ["surname", "navarro"], ["email", "navarro@gmail.com"], ["password_digest", "$2a$04$5HSzg6lwtGhyvLLuq.vIBuYAJRLRaUGS7zv6/Ppy9ODcBVnJzfxi6"], ["created_at", "2018-01-17 16:25:09.653980"], ["updated_at", "2018-01-17 16:25:09.653980"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["yearofbirth", 1958], ["tel", "3395625489"], ["email", "rossi@gmail.com"], ["curriculum", "CurriculumRossi"], ["password_digest", "$2a$04$/MwMAWcdq2FI6xGob8uSBunU9J3/XZYSSphWDNcVe9JGVgSrVcxAG"], ["created_at", "2018-01-17 16:25:09.667727"], ["updated_at", "2018-01-17 16:25:09.667727"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:09.683321"], ["updated_at", "2018-01-17 16:25:09.683321"]]
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('rossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?  [["market_id", 1], ["updated_at", "2018-01-17 16:25:09.686511"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "creationreports" ("market_id", "manager_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["market_id", 1], ["manager_id", 1], ["created_at", "2018-01-17 16:25:09.698470"], ["updated_at", "2018-01-17 16:25:09.698470"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:09.702058"], ["updated_at", "2018-01-17 16:25:09.702058"]]
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('rossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?  [["market_id", 2], ["updated_at", "2018-01-17 16:25:09.704228"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/logina" for 127.0.0.1 at 2018-01-17 17:25:09 +0100
Processing by SessionsaController#new as HTML
  Rendered sessionsa/new.html.erb within layouts/application (12.7ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.2ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1[0m
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1
Completed 200 OK in 9027ms (Views: 9017.7ms | ActiveRecord: 0.8ms)
Started POST "/logina" for 127.0.0.1 at 2018-01-17 17:25:18 +0100
Processing by SessionsaController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"navarro@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mAdmin Load (0.4ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."email" = ? LIMIT 1[0m  [["email", "navarro@gmail.com"]]
Redirected to http://www.example.com/admins/1
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/admins/1" for 127.0.0.1 at 2018-01-17 17:25:18 +0100
Processing by AdminsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "creationreports"[0m
  [1m[35mCreationreport Load (0.1ms)[0m  SELECT "creationreports".* FROM "creationreports"
  [1m[36mManager Load (0.3ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.2ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "micropostreports"
  Rendered admins/show.html.erb within layouts/application (8.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1
Completed 200 OK in 24ms (Views: 18.1ms | ActiveRecord: 1.9ms)
Started POST "/deny" for 127.0.0.1 at 2018-01-17 17:25:18 +0100
Processing by CreationreportsController#deny as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"id"=>"1"}, "commit"=>"deny"}
  [1m[36mCreationreport Load (0.2ms)[0m  [1mSELECT  "creationreports".* FROM "creationreports" WHERE "creationreports"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "markets" SET "status" = ?, "updated_at" = ? WHERE "markets"."id" = ?  [["status", "f"], ["updated_at", "2018-01-17 16:25:18.822960"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?  [["market_id", 1], ["updated_at", "2018-01-17 16:25:18.826206"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCreationreport Load (0.2ms)[0m  SELECT  "creationreports".* FROM "creationreports" WHERE "creationreports"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "creationreports" WHERE "creationreports"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAdmin Load (0.0ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/admins/1
Completed 302 Found in 10ms (ActiveRecord: 1.7ms)
Started GET "/admins/1" for 127.0.0.1 at 2018-01-17 17:25:18 +0100
Processing by AdminsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "creationreports"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "micropostreports"[0m
  Rendered admins/show.html.erb within layouts/application (2.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.9ms)
Started DELETE "/logouta" for 127.0.0.1 at 2018-01-17 17:25:18 +0100
Processing by SessionsaController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2018-01-17 17:25:18 +0100
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (1.0ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1[0m
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.5ms)
Started GET "/loginm" for 127.0.0.1 at 2018-01-17 17:25:18 +0100
Processing by SessionsmController#new as HTML
  Rendered sessionsm/new.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.4ms)
Started POST "/loginm" for 127.0.0.1 at 2018-01-17 17:25:18 +0100
Processing by SessionsmController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"rossi@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."email" = ? LIMIT 1  [["email", "rossi@gmail.com"]]
Redirected to http://www.example.com/managers/1
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:18 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mManager Load (0.0ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered managers/show.html.erb within layouts/application (2.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 32ms (Views: 11.7ms | ActiveRecord: 1.2ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mAdmin Exists (0.3ms)[0m  SELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('navarro@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "pablo"], ["surname", "navarro"], ["email", "navarro@gmail.com"], ["password_digest", "$2a$04$g12CsZ.ImLNEKokMddt3.ORW0dF2pT5PLabyfQQzN5ZEgdUSyFBCW"], ["created_at", "2018-01-17 16:25:18.963678"], ["updated_at", "2018-01-17 16:25:18.963678"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.4ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["yearofbirth", 1958], ["tel", "3395625489"], ["email", "rossi@gmail.com"], ["curriculum", "CurriculumRossi"], ["password_digest", "$2a$04$Hh1llbe.0Yb0iXOdTnz2EuEsiIh2QguVz6kJxaYtsSqQOTvceAzTe"], ["created_at", "2018-01-17 16:25:18.970837"], ["updated_at", "2018-01-17 16:25:18.970837"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:18.974831"], ["updated_at", "2018-01-17 16:25:18.974831"]]
  [1m[36mManager Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('rossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?  [["market_id", 1], ["updated_at", "2018-01-17 16:25:18.978171"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "creationreports" ("market_id", "manager_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["market_id", 1], ["manager_id", 1], ["created_at", "2018-01-17 16:25:18.980908"], ["updated_at", "2018-01-17 16:25:18.980908"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:18.985346"], ["updated_at", "2018-01-17 16:25:18.985346"]]
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('rossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?  [["market_id", 2], ["updated_at", "2018-01-17 16:25:18.989806"], ["id", 1]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/logina" for 127.0.0.1 at 2018-01-17 17:25:18 +0100
Processing by SessionsaController#new as HTML
  Rendered sessionsa/new.html.erb within layouts/application (1.2ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1[0m
  [1m[35mAdmin Load (0.4ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 1.1ms)
Started POST "/logina" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by SessionsaController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"navarro@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."email" = ? LIMIT 1[0m  [["email", "navarro@gmail.com"]]
Redirected to http://www.example.com/admins/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/admins/1" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by AdminsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "creationreports"[0m
  [1m[35mCreationreport Load (0.1ms)[0m  SELECT "creationreports".* FROM "creationreports"
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "micropostreports"
  Rendered admins/show.html.erb within layouts/application (3.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 1.4ms)
Started POST "/confirm" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by CreationreportsController#confirm as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"id"=>"1"}, "commit"=>"confirm"}
  [1m[36mCreationreport Load (0.1ms)[0m  [1mSELECT  "creationreports".* FROM "creationreports" WHERE "creationreports"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "markets" SET "status" = ?, "updated_at" = ? WHERE "markets"."id" = ?  [["status", "t"], ["updated_at", "2018-01-17 16:25:19.042058"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Load (0.0ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?  [["market_id", 1], ["updated_at", "2018-01-17 16:25:19.044462"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCreationreport Load (0.1ms)[0m  SELECT  "creationreports".* FROM "creationreports" WHERE "creationreports"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "creationreports" WHERE "creationreports"."id" = ?  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/admins/1
Completed 302 Found in 12ms (ActiveRecord: 2.3ms)
Started GET "/admins/1" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by AdminsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "creationreports"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "micropostreports"[0m
  Rendered admins/show.html.erb within layouts/application (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.7ms)
Started DELETE "/logouta" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by SessionsaController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (0.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1[0m
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.6ms)
Started GET "/loginm" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by SessionsmController#new as HTML
  Rendered sessionsm/new.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.5ms)
Started POST "/loginm" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by SessionsmController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"rossi@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."email" = ? LIMIT 1  [["email", "rossi@gmail.com"]]
Redirected to http://www.example.com/managers/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mManager Load (0.0ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mOwner Load (0.2ms)[0m  SELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?  [["market_id", 1]]
  Rendered managers/show.html.erb within layouts/application (8.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 15ms (Views: 11.0ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$rM2fHspZnDm36njcXZ7P7esk7rIiOqUuSYbYVsdbBmp0359Dx4hky"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:19.135792"], ["updated_at", "2018-01-17 16:25:19.135792"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Mezze Penne"], ["label", "Barilla"], ["package", "500gr"], ["id", 1], ["created_at", "2018-01-17 16:25:19.143953"], ["updated_at", "2018-01-17 16:25:19.143953"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Olio Extra Vergine"], ["label", "Monini"], ["package", "1L"], ["id", 2], ["created_at", "2018-01-17 16:25:19.146811"], ["updated_at", "2018-01-17 16:25:19.146811"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Passata Di Pomodoro"], ["label", "Mutti"], ["package", "400gr"], ["id", 3], ["created_at", "2018-01-17 16:25:19.149155"], ["updated_at", "2018-01-17 16:25:19.149155"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Caffe"], ["label", "Lavazza"], ["package", "250gr"], ["id", 4], ["created_at", "2018-01-17 16:25:19.152515"], ["updated_at", "2018-01-17 16:25:19.152515"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Birra"], ["label", "Peroni"], ["package", "0.66L"], ["id", 5], ["created_at", "2018-01-17 16:25:19.156003"], ["updated_at", "2018-01-17 16:25:19.156003"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Dentifricio"], ["label", "Mentadent"], ["package", "75ml"], ["id", 6], ["created_at", "2018-01-17 16:25:19.157856"], ["updated_at", "2018-01-17 16:25:19.157856"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Fazzoletti"], ["label", "Scala"], ["package", "12 Pezzi"], ["id", 7], ["created_at", "2018-01-17 16:25:19.159435"], ["updated_at", "2018-01-17 16:25:19.159435"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Detergente Per Vetri"], ["label", "Vetril"], ["package", "650ml"], ["id", 8], ["created_at", "2018-01-17 16:25:19.161230"], ["updated_at", "2018-01-17 16:25:19.161230"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Tovaglioli"], ["label", "Regina"], ["package", "50 Pezzi"], ["id", 9], ["created_at", "2018-01-17 16:25:19.163438"], ["updated_at", "2018-01-17 16:25:19.163438"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Smacchiatore"], ["label", "Omino Bianco"], ["package", "1L"], ["id", 10], ["created_at", "2018-01-17 16:25:19.165285"], ["updated_at", "2018-01-17 16:25:19.165285"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["status", "t"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:19.167676"], ["updated_at", "2018-01-17 16:25:19.167676"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "via risorgimento, 4, 03030 Piedimonte San Germano FR"], ["group", "Gecop"], ["info", "Aperto dalla Domenica al venerdi//08.00-20.00"], ["status", "t"], ["latitude", 41.496175], ["longitude", 13.749178], ["created_at", "2018-01-17 16:25:19.170121"], ["updated_at", "2018-01-17 16:25:19.170121"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "corso achille spatuzzi, 1, 03047 San Giorgio A Liri FR"], ["group", "Sigma"], ["info", "Aperto dal lunedi al sabato//08.00-20.00 martedi riposo"], ["status", "t"], ["latitude", 41.4075891], ["longitude", 13.765525], ["created_at", "2018-01-17 16:25:19.173349"], ["updated_at", "2018-01-17 16:25:19.173349"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "strada statale casilina, 1, 03030 Piedimonte San Germano FR"], ["group", "Carrefour"], ["info", "si rispetteranno gli orari del centro commerciale"], ["status", "t"], ["latitude", 41.492449], ["longitude", 13.761081], ["created_at", "2018-01-17 16:25:19.175662"], ["updated_at", "2018-01-17 16:25:19.175662"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via melfi urbana, 1, 03037 Pontecorvo FR"], ["group", "Lidl"], ["info", "Aperto dal lunedi al sabato//08.00-20.30"], ["status", "t"], ["latitude", 41.4635807], ["longitude", 13.6649785], ["created_at", "2018-01-17 16:25:19.177758"], ["updated_at", "2018-01-17 16:25:19.177758"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 1], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:19.185267"], ["updated_at", "2018-01-17 16:25:19.185267"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:19.189135"], ["updated_at", "2018-01-17 16:25:19.189135"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 3], ["stock", 50], ["price", 0.99], ["created_at", "2018-01-17 16:25:19.192184"], ["updated_at", "2018-01-17 16:25:19.192184"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 4], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:19.195499"], ["updated_at", "2018-01-17 16:25:19.195499"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 5], ["stock", 50], ["price", 0.89], ["created_at", "2018-01-17 16:25:19.198190"], ["updated_at", "2018-01-17 16:25:19.198190"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 6], ["stock", 50], ["price", 1.33], ["created_at", "2018-01-17 16:25:19.201013"], ["updated_at", "2018-01-17 16:25:19.201013"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 7], ["stock", 50], ["price", 0.51], ["created_at", "2018-01-17 16:25:19.204210"], ["updated_at", "2018-01-17 16:25:19.204210"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:19.207730"], ["updated_at", "2018-01-17 16:25:19.207730"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 9], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:19.211918"], ["updated_at", "2018-01-17 16:25:19.211918"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:19.214516"], ["updated_at", "2018-01-17 16:25:19.214516"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:19.217336"], ["updated_at", "2018-01-17 16:25:19.217336"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:19.220865"], ["updated_at", "2018-01-17 16:25:19.220865"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 4], ["stock", 50], ["price", 3.25], ["created_at", "2018-01-17 16:25:19.223480"], ["updated_at", "2018-01-17 16:25:19.223480"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 5], ["stock", 50], ["price", 0.9], ["created_at", "2018-01-17 16:25:19.226507"], ["updated_at", "2018-01-17 16:25:19.226507"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 6], ["stock", 50], ["price", 1.34], ["created_at", "2018-01-17 16:25:19.229785"], ["updated_at", "2018-01-17 16:25:19.229785"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 7], ["stock", 50], ["price", 0.54], ["created_at", "2018-01-17 16:25:19.233203"], ["updated_at", "2018-01-17 16:25:19.233203"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 8], ["stock", 50], ["price", 1.9], ["created_at", "2018-01-17 16:25:19.236787"], ["updated_at", "2018-01-17 16:25:19.236787"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 9], ["stock", 50], ["price", 2.1], ["created_at", "2018-01-17 16:25:19.240545"], ["updated_at", "2018-01-17 16:25:19.240545"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 10], ["stock", 50], ["price", 3.0], ["created_at", "2018-01-17 16:25:19.243655"], ["updated_at", "2018-01-17 16:25:19.243655"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:19.247110"], ["updated_at", "2018-01-17 16:25:19.247110"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 2], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:19.250110"], ["updated_at", "2018-01-17 16:25:19.250110"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 3], ["stock", 50], ["price", 0.52], ["created_at", "2018-01-17 16:25:19.253797"], ["updated_at", "2018-01-17 16:25:19.253797"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.3ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 4], ["stock", 50], ["price", 2.78], ["created_at", "2018-01-17 16:25:19.257274"], ["updated_at", "2018-01-17 16:25:19.257274"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 5], ["stock", 50], ["price", 1.25], ["created_at", "2018-01-17 16:25:19.260390"], ["updated_at", "2018-01-17 16:25:19.260390"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 6], ["stock", 50], ["price", 1.35], ["created_at", "2018-01-17 16:25:19.263107"], ["updated_at", "2018-01-17 16:25:19.263107"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 7], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:19.265786"], ["updated_at", "2018-01-17 16:25:19.265786"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 8], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:19.269003"], ["updated_at", "2018-01-17 16:25:19.269003"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 9], ["stock", 50], ["price", 2.11], ["created_at", "2018-01-17 16:25:19.271690"], ["updated_at", "2018-01-17 16:25:19.271690"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 10], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:19.274505"], ["updated_at", "2018-01-17 16:25:19.274505"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 1], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:19.277620"], ["updated_at", "2018-01-17 16:25:19.277620"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 2], ["stock", 50], ["price", 5.99], ["created_at", "2018-01-17 16:25:19.282263"], ["updated_at", "2018-01-17 16:25:19.282263"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:19.285476"], ["updated_at", "2018-01-17 16:25:19.285476"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 4], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:19.288455"], ["updated_at", "2018-01-17 16:25:19.288455"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 5], ["stock", 50], ["price", 1.0], ["created_at", "2018-01-17 16:25:19.291625"], ["updated_at", "2018-01-17 16:25:19.291625"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 6], ["stock", 50], ["price", 1.29], ["created_at", "2018-01-17 16:25:19.294823"], ["updated_at", "2018-01-17 16:25:19.294823"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 7], ["stock", 50], ["price", 0.6], ["created_at", "2018-01-17 16:25:19.297865"], ["updated_at", "2018-01-17 16:25:19.297865"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 8], ["stock", 50], ["price", 1.87], ["created_at", "2018-01-17 16:25:19.300639"], ["updated_at", "2018-01-17 16:25:19.300639"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 9], ["stock", 50], ["price", 1.99], ["created_at", "2018-01-17 16:25:19.303827"], ["updated_at", "2018-01-17 16:25:19.303827"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 10], ["stock", 50], ["price", 5.0], ["created_at", "2018-01-17 16:25:19.306975"], ["updated_at", "2018-01-17 16:25:19.306975"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.6ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 1], ["stock", 50], ["price", 0.72], ["created_at", "2018-01-17 16:25:19.310822"], ["updated_at", "2018-01-17 16:25:19.310822"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 2], ["stock", 50], ["price", 6.02], ["created_at", "2018-01-17 16:25:19.314602"], ["updated_at", "2018-01-17 16:25:19.314602"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 3], ["stock", 50], ["price", 1.12], ["created_at", "2018-01-17 16:25:19.317634"], ["updated_at", "2018-01-17 16:25:19.317634"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 4], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:19.320421"], ["updated_at", "2018-01-17 16:25:19.320421"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 5], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:19.323235"], ["updated_at", "2018-01-17 16:25:19.323235"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 6], ["stock", 50], ["price", 1.1], ["created_at", "2018-01-17 16:25:19.325996"], ["updated_at", "2018-01-17 16:25:19.325996"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 7], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:19.328978"], ["updated_at", "2018-01-17 16:25:19.328978"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:19.332861"], ["updated_at", "2018-01-17 16:25:19.332861"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 9], ["stock", 50], ["price", 2.05], ["created_at", "2018-01-17 16:25:19.336602"], ["updated_at", "2018-01-17 16:25:19.336602"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 11ms (Views: 10.6ms | ActiveRecord: 0.4ms)
Started POST "/login" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"flavioasdf@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "flavioasdf@gmail.com"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/users/1" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  Rendered users/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 14ms (Views: 10.1ms | ActiveRecord: 1.3ms)
Started POST "/links/check" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by LinksController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"address"=>"via saudoni, 42, 03030 Castrocielo FR", "range"=>"30"}, "commit"=>"SMART SHOPPING"}
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.3ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", "2018-01-17 16:25:19.421769"], ["updated_at", "2018-01-17 16:25:19.421769"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.2ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.1ms)
Completed 200 OK in 26ms (Views: 14.4ms | ActiveRecord: 2.2ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"1", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:19.461107"], ["updated_at", "2018-01-17 16:25:19.461107"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.2ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (6.3ms)
Completed 200 OK in 11ms (Views: 8.1ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"2", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 2], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:19.487477"], ["updated_at", "2018-01-17 16:25:19.487477"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (4.0ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.4ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"3", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 3], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:19.509940"], ["updated_at", "2018-01-17 16:25:19.509940"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (5.6ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.5ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"4", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:19.531801"], ["updated_at", "2018-01-17 16:25:19.531801"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (5.6ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.9ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"5", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:19.554657"], ["updated_at", "2018-01-17 16:25:19.554657"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (5.2ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.6ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"6", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 6], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:19.576802"], ["updated_at", "2018-01-17 16:25:19.576802"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (5.2ms)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"7", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 7], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:19.599271"], ["updated_at", "2018-01-17 16:25:19.599271"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (5.8ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"8", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 8], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:19.622162"], ["updated_at", "2018-01-17 16:25:19.622162"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (10.3ms)
Completed 200 OK in 14ms (Views: 11.9ms | ActiveRecord: 1.1ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"9", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 9], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:19.649184"], ["updated_at", "2018-01-17 16:25:19.649184"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (8.8ms)
Completed 200 OK in 13ms (Views: 10.1ms | ActiveRecord: 0.9ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"10", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 10], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:19.675460"], ["updated_at", "2018-01-17 16:25:19.675460"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.7ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 10]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (8.2ms)
Completed 200 OK in 12ms (Views: 8.9ms | ActiveRecord: 1.5ms)
Started POST "/links_third/check" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by LinksThirdController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"count"=>"5"}, "commit"=>"Go to smart shopping"}
Redirected to http://www.example.com/smart_shopping_cf
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/smart_shopping_cf" for 127.0.0.1 at 2018-01-17 17:25:19 +0100
Processing by SmartShoppingController#corefunction as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mMarket Load (0.3ms)[0m  [1mSELECT markets.*, (111.19492664455873 * ABS(markets.latitude - 41.4729934) * 0.7071067811865475) + (96.29763124613503 * ABS(markets.longitude - 13.6842442) * 0.7071067811865475) AS distance, CASE WHEN (markets.latitude >= 41.4729934 AND markets.longitude >= 13.6842442) THEN  45.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude >= 13.6842442) THEN 135.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude <  13.6842442) THEN 225.0 WHEN (markets.latitude >= 41.4729934 AND markets.longitude <  13.6842442) THEN 315.0 END AS bearing FROM "markets" WHERE (markets.latitude BETWEEN 41.20319691822438 AND 41.74278988177562 AND markets.longitude BETWEEN 13.324164103253342 AND 14.044324296746659)  ORDER BY distance ASC[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mOwner Load (0.2ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 5]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 4]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 3]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 4]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 3]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 5]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 4]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 3]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 2]]
  [1m[36mOwner Load (0.2ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 4]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 3]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 5]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 4]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 3]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 2]]
  [1m[36mOwner Load (0.2ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 4]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 3]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 5]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 4]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 3]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 4]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 3]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 5]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 2]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 4]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 3]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 4]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMarket Load (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mMarket Load (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 2]]
  Rendered smart_shopping/corefunction.html.erb within layouts/application (19.4ms)
Completed 200 OK in 55ms (Views: 22.7ms | ActiveRecord: 5.3ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$h/x.VCOGEPvF7f/LbHlY9uaSmYnMVJtm1DnuQTL3Nz3xH7LeVnhyy"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:19.809424"], ["updated_at", "2018-01-17 16:25:19.809424"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Mezze Penne"], ["label", "Barilla"], ["package", "500gr"], ["id", 1], ["created_at", "2018-01-17 16:25:19.812948"], ["updated_at", "2018-01-17 16:25:19.812948"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Olio Extra Vergine"], ["label", "Monini"], ["package", "1L"], ["id", 2], ["created_at", "2018-01-17 16:25:19.815501"], ["updated_at", "2018-01-17 16:25:19.815501"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Passata Di Pomodoro"], ["label", "Mutti"], ["package", "400gr"], ["id", 3], ["created_at", "2018-01-17 16:25:19.817492"], ["updated_at", "2018-01-17 16:25:19.817492"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Caffe"], ["label", "Lavazza"], ["package", "250gr"], ["id", 4], ["created_at", "2018-01-17 16:25:19.820336"], ["updated_at", "2018-01-17 16:25:19.820336"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Birra"], ["label", "Peroni"], ["package", "0.66L"], ["id", 5], ["created_at", "2018-01-17 16:25:19.822323"], ["updated_at", "2018-01-17 16:25:19.822323"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dentifricio"], ["label", "Mentadent"], ["package", "75ml"], ["id", 6], ["created_at", "2018-01-17 16:25:19.824181"], ["updated_at", "2018-01-17 16:25:19.824181"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Fazzoletti"], ["label", "Scala"], ["package", "12 Pezzi"], ["id", 7], ["created_at", "2018-01-17 16:25:19.826137"], ["updated_at", "2018-01-17 16:25:19.826137"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Detergente Per Vetri"], ["label", "Vetril"], ["package", "650ml"], ["id", 8], ["created_at", "2018-01-17 16:25:19.828479"], ["updated_at", "2018-01-17 16:25:19.828479"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Tovaglioli"], ["label", "Regina"], ["package", "50 Pezzi"], ["id", 9], ["created_at", "2018-01-17 16:25:19.832163"], ["updated_at", "2018-01-17 16:25:19.832163"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Smacchiatore"], ["label", "Omino Bianco"], ["package", "1L"], ["id", 10], ["created_at", "2018-01-17 16:25:19.835111"], ["updated_at", "2018-01-17 16:25:19.835111"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["status", "t"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:19.839158"], ["updated_at", "2018-01-17 16:25:19.839158"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via risorgimento, 4, 03030 Piedimonte San Germano FR"], ["group", "Gecop"], ["info", "Aperto dalla Domenica al venerdi//08.00-20.00"], ["status", "t"], ["latitude", 41.496175], ["longitude", 13.749178], ["created_at", "2018-01-17 16:25:19.842214"], ["updated_at", "2018-01-17 16:25:19.842214"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "corso achille spatuzzi, 1, 03047 San Giorgio A Liri FR"], ["group", "Sigma"], ["info", "Aperto dal lunedi al sabato//08.00-20.00 martedi riposo"], ["status", "t"], ["latitude", 41.4075891], ["longitude", 13.765525], ["created_at", "2018-01-17 16:25:19.845540"], ["updated_at", "2018-01-17 16:25:19.845540"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "strada statale casilina, 1, 03030 Piedimonte San Germano FR"], ["group", "Carrefour"], ["info", "si rispetteranno gli orari del centro commerciale"], ["status", "t"], ["latitude", 41.492449], ["longitude", 13.761081], ["created_at", "2018-01-17 16:25:19.848534"], ["updated_at", "2018-01-17 16:25:19.848534"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "via melfi urbana, 1, 03037 Pontecorvo FR"], ["group", "Lidl"], ["info", "Aperto dal lunedi al sabato//08.00-20.30"], ["status", "t"], ["latitude", 41.4635807], ["longitude", 13.6649785], ["created_at", "2018-01-17 16:25:19.852728"], ["updated_at", "2018-01-17 16:25:19.852728"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 1], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:19.856554"], ["updated_at", "2018-01-17 16:25:19.856554"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:19.859726"], ["updated_at", "2018-01-17 16:25:19.859726"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 3], ["stock", 50], ["price", 0.99], ["created_at", "2018-01-17 16:25:19.862716"], ["updated_at", "2018-01-17 16:25:19.862716"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 4], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:19.867156"], ["updated_at", "2018-01-17 16:25:19.867156"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 5], ["stock", 50], ["price", 0.89], ["created_at", "2018-01-17 16:25:19.870282"], ["updated_at", "2018-01-17 16:25:19.870282"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 6], ["stock", 50], ["price", 1.33], ["created_at", "2018-01-17 16:25:19.874196"], ["updated_at", "2018-01-17 16:25:19.874196"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 7], ["stock", 50], ["price", 0.51], ["created_at", "2018-01-17 16:25:19.877101"], ["updated_at", "2018-01-17 16:25:19.877101"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:19.880383"], ["updated_at", "2018-01-17 16:25:19.880383"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 9], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:19.883759"], ["updated_at", "2018-01-17 16:25:19.883759"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:19.887832"], ["updated_at", "2018-01-17 16:25:19.887832"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:19.890377"], ["updated_at", "2018-01-17 16:25:19.890377"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:19.893251"], ["updated_at", "2018-01-17 16:25:19.893251"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 4], ["stock", 50], ["price", 3.25], ["created_at", "2018-01-17 16:25:19.896588"], ["updated_at", "2018-01-17 16:25:19.896588"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 5], ["stock", 50], ["price", 0.9], ["created_at", "2018-01-17 16:25:19.900742"], ["updated_at", "2018-01-17 16:25:19.900742"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 6], ["stock", 50], ["price", 1.34], ["created_at", "2018-01-17 16:25:19.904492"], ["updated_at", "2018-01-17 16:25:19.904492"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 7], ["stock", 50], ["price", 0.54], ["created_at", "2018-01-17 16:25:19.908638"], ["updated_at", "2018-01-17 16:25:19.908638"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 8], ["stock", 50], ["price", 1.9], ["created_at", "2018-01-17 16:25:19.912381"], ["updated_at", "2018-01-17 16:25:19.912381"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 9], ["stock", 50], ["price", 2.1], ["created_at", "2018-01-17 16:25:19.915997"], ["updated_at", "2018-01-17 16:25:19.915997"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 10], ["stock", 50], ["price", 3.0], ["created_at", "2018-01-17 16:25:19.919752"], ["updated_at", "2018-01-17 16:25:19.919752"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:19.923026"], ["updated_at", "2018-01-17 16:25:19.923026"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 2], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:19.926837"], ["updated_at", "2018-01-17 16:25:19.926837"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 3], ["stock", 50], ["price", 0.52], ["created_at", "2018-01-17 16:25:19.930177"], ["updated_at", "2018-01-17 16:25:19.930177"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 4], ["stock", 50], ["price", 2.78], ["created_at", "2018-01-17 16:25:19.933501"], ["updated_at", "2018-01-17 16:25:19.933501"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 5], ["stock", 50], ["price", 1.25], ["created_at", "2018-01-17 16:25:19.937074"], ["updated_at", "2018-01-17 16:25:19.937074"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 6], ["stock", 50], ["price", 1.35], ["created_at", "2018-01-17 16:25:19.941627"], ["updated_at", "2018-01-17 16:25:19.941627"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 7], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:19.946066"], ["updated_at", "2018-01-17 16:25:19.946066"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 8], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:19.949500"], ["updated_at", "2018-01-17 16:25:19.949500"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 9], ["stock", 50], ["price", 2.11], ["created_at", "2018-01-17 16:25:19.953230"], ["updated_at", "2018-01-17 16:25:19.953230"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 10], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:19.957419"], ["updated_at", "2018-01-17 16:25:19.957419"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 1], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:19.960609"], ["updated_at", "2018-01-17 16:25:19.960609"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 2], ["stock", 50], ["price", 5.99], ["created_at", "2018-01-17 16:25:19.965673"], ["updated_at", "2018-01-17 16:25:19.965673"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:19.969823"], ["updated_at", "2018-01-17 16:25:19.969823"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 4], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:19.972295"], ["updated_at", "2018-01-17 16:25:19.972295"]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 5], ["stock", 50], ["price", 1.0], ["created_at", "2018-01-17 16:25:19.976731"], ["updated_at", "2018-01-17 16:25:19.976731"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 6], ["stock", 50], ["price", 1.29], ["created_at", "2018-01-17 16:25:19.981509"], ["updated_at", "2018-01-17 16:25:19.981509"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 7], ["stock", 50], ["price", 0.6], ["created_at", "2018-01-17 16:25:19.987491"], ["updated_at", "2018-01-17 16:25:19.987491"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 8], ["stock", 50], ["price", 1.87], ["created_at", "2018-01-17 16:25:19.992360"], ["updated_at", "2018-01-17 16:25:19.992360"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 9], ["stock", 50], ["price", 1.99], ["created_at", "2018-01-17 16:25:19.997493"], ["updated_at", "2018-01-17 16:25:19.997493"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 10], ["stock", 50], ["price", 5.0], ["created_at", "2018-01-17 16:25:20.001246"], ["updated_at", "2018-01-17 16:25:20.001246"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 1], ["stock", 50], ["price", 0.72], ["created_at", "2018-01-17 16:25:20.003850"], ["updated_at", "2018-01-17 16:25:20.003850"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 2], ["stock", 50], ["price", 6.02], ["created_at", "2018-01-17 16:25:20.007935"], ["updated_at", "2018-01-17 16:25:20.007935"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 3], ["stock", 50], ["price", 1.12], ["created_at", "2018-01-17 16:25:20.011110"], ["updated_at", "2018-01-17 16:25:20.011110"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 4], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:20.014617"], ["updated_at", "2018-01-17 16:25:20.014617"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 5], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:20.020423"], ["updated_at", "2018-01-17 16:25:20.020423"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 6], ["stock", 50], ["price", 1.1], ["created_at", "2018-01-17 16:25:20.024034"], ["updated_at", "2018-01-17 16:25:20.024034"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 7], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:20.028686"], ["updated_at", "2018-01-17 16:25:20.028686"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:20.033076"], ["updated_at", "2018-01-17 16:25:20.033076"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 9], ["stock", 50], ["price", 2.05], ["created_at", "2018-01-17 16:25:20.038747"], ["updated_at", "2018-01-17 16:25:20.038747"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.4ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1[0m
  [1m[35mAdmin Load (0.4ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 1.6ms)
Started POST "/login" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"flavioasdf@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "flavioasdf@gmail.com"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/users/1" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  Rendered users/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.2ms)
Started POST "/links/check" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by LinksController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"address"=>"via saudoni, 42, 03030 Castrocielo FR", "range"=>"30"}, "commit"=>"SMART SHOPPING"}
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.2ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2018-01-17 16:25:20.096749"], ["updated_at", "2018-01-17 16:25:20.096749"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (4.4ms)
Completed 200 OK in 13ms (Views: 7.4ms | ActiveRecord: 1.2ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"1", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 1], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:20.118871"], ["updated_at", "2018-01-17 16:25:20.118871"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.2ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (6.0ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.8ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"2", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:20.149975"], ["updated_at", "2018-01-17 16:25:20.149975"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.9ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (5.3ms)
Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 1.4ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"3", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 3], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:20.175345"], ["updated_at", "2018-01-17 16:25:20.175345"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.7ms)
Completed 200 OK in 13ms (Views: 10.1ms | ActiveRecord: 0.9ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"4", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 4], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:20.202227"], ["updated_at", "2018-01-17 16:25:20.202227"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.6ms)
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"5", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 5], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:20.232160"], ["updated_at", "2018-01-17 16:25:20.232160"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (8.4ms)
Completed 200 OK in 15ms (Views: 11.5ms | ActiveRecord: 0.9ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"6", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:20.263125"], ["updated_at", "2018-01-17 16:25:20.263125"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (8.7ms)
Completed 200 OK in 15ms (Views: 12.4ms | ActiveRecord: 0.8ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"7", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 7], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:20.304537"], ["updated_at", "2018-01-17 16:25:20.304537"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.8ms)
Completed 200 OK in 15ms (Views: 11.4ms | ActiveRecord: 0.8ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"8", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 8], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:20.333292"], ["updated_at", "2018-01-17 16:25:20.333292"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (9.0ms)
Completed 200 OK in 14ms (Views: 11.1ms | ActiveRecord: 0.8ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"9", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 9], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:20.363489"], ["updated_at", "2018-01-17 16:25:20.363489"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (10.3ms)
Completed 200 OK in 16ms (Views: 12.8ms | ActiveRecord: 1.0ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"10", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 10], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:20.394590"], ["updated_at", "2018-01-17 16:25:20.394590"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (11.3ms)
Completed 200 OK in 16ms (Views: 12.9ms | ActiveRecord: 1.1ms)
Started POST "/links_third/check" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by LinksThirdController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"count"=>"4"}, "commit"=>"Go to smart shopping"}
Redirected to http://www.example.com/smart_shopping_cf
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/smart_shopping_cf" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SmartShoppingController#corefunction as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mMarket Load (0.3ms)[0m  SELECT markets.*, (111.19492664455873 * ABS(markets.latitude - 41.4729934) * 0.7071067811865475) + (96.29763124613503 * ABS(markets.longitude - 13.6842442) * 0.7071067811865475) AS distance, CASE WHEN (markets.latitude >= 41.4729934 AND markets.longitude >= 13.6842442) THEN  45.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude >= 13.6842442) THEN 135.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude <  13.6842442) THEN 225.0 WHEN (markets.latitude >= 41.4729934 AND markets.longitude <  13.6842442) THEN 315.0 END AS bearing FROM "markets" WHERE (markets.latitude BETWEEN 41.20319691822438 AND 41.74278988177562 AND markets.longitude BETWEEN 13.324164103253342 AND 14.044324296746659)  ORDER BY distance ASC
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mOwner Load (0.3ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 4]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 4]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 4]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 5]]
  [1m[36mOwner Load (0.3ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 4]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 4]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 4]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 4]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 4]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 4]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 2]]
  [1m[36mOwner Load (0.2ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 1]]
  [1m[35mCACHE (0.3ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 5]]
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 2]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMarket Load (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mMarket Load (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mMarket Load (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered smart_shopping/corefunction.html.erb within layouts/application (16.1ms)
Completed 200 OK in 74ms (Views: 17.4ms | ActiveRecord: 8.7ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$yocRrOuC0pL4DmJiIvJhf.O0ksIygl1QUNAKw8t9MfrxgzFhDQAtK"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:20.535155"], ["updated_at", "2018-01-17 16:25:20.535155"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Mezze Penne"], ["label", "Barilla"], ["package", "500gr"], ["id", 1], ["created_at", "2018-01-17 16:25:20.538141"], ["updated_at", "2018-01-17 16:25:20.538141"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Olio Extra Vergine"], ["label", "Monini"], ["package", "1L"], ["id", 2], ["created_at", "2018-01-17 16:25:20.540454"], ["updated_at", "2018-01-17 16:25:20.540454"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Passata Di Pomodoro"], ["label", "Mutti"], ["package", "400gr"], ["id", 3], ["created_at", "2018-01-17 16:25:20.543997"], ["updated_at", "2018-01-17 16:25:20.543997"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Caffe"], ["label", "Lavazza"], ["package", "250gr"], ["id", 4], ["created_at", "2018-01-17 16:25:20.545853"], ["updated_at", "2018-01-17 16:25:20.545853"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Birra"], ["label", "Peroni"], ["package", "0.66L"], ["id", 5], ["created_at", "2018-01-17 16:25:20.548460"], ["updated_at", "2018-01-17 16:25:20.548460"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Dentifricio"], ["label", "Mentadent"], ["package", "75ml"], ["id", 6], ["created_at", "2018-01-17 16:25:20.550158"], ["updated_at", "2018-01-17 16:25:20.550158"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Fazzoletti"], ["label", "Scala"], ["package", "12 Pezzi"], ["id", 7], ["created_at", "2018-01-17 16:25:20.552354"], ["updated_at", "2018-01-17 16:25:20.552354"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Detergente Per Vetri"], ["label", "Vetril"], ["package", "650ml"], ["id", 8], ["created_at", "2018-01-17 16:25:20.554649"], ["updated_at", "2018-01-17 16:25:20.554649"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Tovaglioli"], ["label", "Regina"], ["package", "50 Pezzi"], ["id", 9], ["created_at", "2018-01-17 16:25:20.557306"], ["updated_at", "2018-01-17 16:25:20.557306"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Smacchiatore"], ["label", "Omino Bianco"], ["package", "1L"], ["id", 10], ["created_at", "2018-01-17 16:25:20.561042"], ["updated_at", "2018-01-17 16:25:20.561042"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["status", "t"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:20.564747"], ["updated_at", "2018-01-17 16:25:20.564747"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "via risorgimento, 4, 03030 Piedimonte San Germano FR"], ["group", "Gecop"], ["info", "Aperto dalla Domenica al venerdi//08.00-20.00"], ["status", "t"], ["latitude", 41.496175], ["longitude", 13.749178], ["created_at", "2018-01-17 16:25:20.568748"], ["updated_at", "2018-01-17 16:25:20.568748"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "corso achille spatuzzi, 1, 03047 San Giorgio A Liri FR"], ["group", "Sigma"], ["info", "Aperto dal lunedi al sabato//08.00-20.00 martedi riposo"], ["status", "t"], ["latitude", 41.4075891], ["longitude", 13.765525], ["created_at", "2018-01-17 16:25:20.571722"], ["updated_at", "2018-01-17 16:25:20.571722"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "strada statale casilina, 1, 03030 Piedimonte San Germano FR"], ["group", "Carrefour"], ["info", "si rispetteranno gli orari del centro commerciale"], ["status", "t"], ["latitude", 41.492449], ["longitude", 13.761081], ["created_at", "2018-01-17 16:25:20.575568"], ["updated_at", "2018-01-17 16:25:20.575568"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via melfi urbana, 1, 03037 Pontecorvo FR"], ["group", "Lidl"], ["info", "Aperto dal lunedi al sabato//08.00-20.30"], ["status", "t"], ["latitude", 41.4635807], ["longitude", 13.6649785], ["created_at", "2018-01-17 16:25:20.579704"], ["updated_at", "2018-01-17 16:25:20.579704"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 1], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:20.586361"], ["updated_at", "2018-01-17 16:25:20.586361"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:20.590998"], ["updated_at", "2018-01-17 16:25:20.590998"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 3], ["stock", 50], ["price", 0.99], ["created_at", "2018-01-17 16:25:20.595152"], ["updated_at", "2018-01-17 16:25:20.595152"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 4], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:20.598531"], ["updated_at", "2018-01-17 16:25:20.598531"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 5], ["stock", 50], ["price", 0.89], ["created_at", "2018-01-17 16:25:20.603520"], ["updated_at", "2018-01-17 16:25:20.603520"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 6], ["stock", 50], ["price", 1.33], ["created_at", "2018-01-17 16:25:20.607804"], ["updated_at", "2018-01-17 16:25:20.607804"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 7], ["stock", 50], ["price", 0.51], ["created_at", "2018-01-17 16:25:20.612011"], ["updated_at", "2018-01-17 16:25:20.612011"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:20.616281"], ["updated_at", "2018-01-17 16:25:20.616281"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 9], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:20.621358"], ["updated_at", "2018-01-17 16:25:20.621358"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:20.625316"], ["updated_at", "2018-01-17 16:25:20.625316"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:20.629342"], ["updated_at", "2018-01-17 16:25:20.629342"]]
  [1m[35m (4.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:20.639032"], ["updated_at", "2018-01-17 16:25:20.639032"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 4], ["stock", 50], ["price", 3.25], ["created_at", "2018-01-17 16:25:20.643901"], ["updated_at", "2018-01-17 16:25:20.643901"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 5], ["stock", 50], ["price", 0.9], ["created_at", "2018-01-17 16:25:20.647981"], ["updated_at", "2018-01-17 16:25:20.647981"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 6], ["stock", 50], ["price", 1.34], ["created_at", "2018-01-17 16:25:20.654564"], ["updated_at", "2018-01-17 16:25:20.654564"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 7], ["stock", 50], ["price", 0.54], ["created_at", "2018-01-17 16:25:20.659505"], ["updated_at", "2018-01-17 16:25:20.659505"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 8], ["stock", 50], ["price", 1.9], ["created_at", "2018-01-17 16:25:20.664713"], ["updated_at", "2018-01-17 16:25:20.664713"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 9], ["stock", 50], ["price", 2.1], ["created_at", "2018-01-17 16:25:20.669765"], ["updated_at", "2018-01-17 16:25:20.669765"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 10], ["stock", 50], ["price", 3.0], ["created_at", "2018-01-17 16:25:20.675869"], ["updated_at", "2018-01-17 16:25:20.675869"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:20.681221"], ["updated_at", "2018-01-17 16:25:20.681221"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 2], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:20.686022"], ["updated_at", "2018-01-17 16:25:20.686022"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 3], ["stock", 50], ["price", 0.52], ["created_at", "2018-01-17 16:25:20.690734"], ["updated_at", "2018-01-17 16:25:20.690734"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 4], ["stock", 50], ["price", 2.78], ["created_at", "2018-01-17 16:25:20.695753"], ["updated_at", "2018-01-17 16:25:20.695753"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 5], ["stock", 50], ["price", 1.25], ["created_at", "2018-01-17 16:25:20.699907"], ["updated_at", "2018-01-17 16:25:20.699907"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 6], ["stock", 50], ["price", 1.35], ["created_at", "2018-01-17 16:25:20.703113"], ["updated_at", "2018-01-17 16:25:20.703113"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 7], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:20.706367"], ["updated_at", "2018-01-17 16:25:20.706367"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.4ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 8], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:20.710433"], ["updated_at", "2018-01-17 16:25:20.710433"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 9], ["stock", 50], ["price", 2.11], ["created_at", "2018-01-17 16:25:20.715142"], ["updated_at", "2018-01-17 16:25:20.715142"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 10], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:20.719004"], ["updated_at", "2018-01-17 16:25:20.719004"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 1], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:20.722970"], ["updated_at", "2018-01-17 16:25:20.722970"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 2], ["stock", 50], ["price", 5.99], ["created_at", "2018-01-17 16:25:20.726445"], ["updated_at", "2018-01-17 16:25:20.726445"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:20.729565"], ["updated_at", "2018-01-17 16:25:20.729565"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 4], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:20.732914"], ["updated_at", "2018-01-17 16:25:20.732914"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 5], ["stock", 50], ["price", 1.0], ["created_at", "2018-01-17 16:25:20.737264"], ["updated_at", "2018-01-17 16:25:20.737264"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 6], ["stock", 50], ["price", 1.29], ["created_at", "2018-01-17 16:25:20.740525"], ["updated_at", "2018-01-17 16:25:20.740525"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 7], ["stock", 50], ["price", 0.6], ["created_at", "2018-01-17 16:25:20.744851"], ["updated_at", "2018-01-17 16:25:20.744851"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 8], ["stock", 50], ["price", 1.87], ["created_at", "2018-01-17 16:25:20.748053"], ["updated_at", "2018-01-17 16:25:20.748053"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 9], ["stock", 50], ["price", 1.99], ["created_at", "2018-01-17 16:25:20.752865"], ["updated_at", "2018-01-17 16:25:20.752865"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 10], ["stock", 50], ["price", 5.0], ["created_at", "2018-01-17 16:25:20.756495"], ["updated_at", "2018-01-17 16:25:20.756495"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 1], ["stock", 50], ["price", 0.72], ["created_at", "2018-01-17 16:25:20.760745"], ["updated_at", "2018-01-17 16:25:20.760745"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 2], ["stock", 50], ["price", 6.02], ["created_at", "2018-01-17 16:25:20.764849"], ["updated_at", "2018-01-17 16:25:20.764849"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 3], ["stock", 50], ["price", 1.12], ["created_at", "2018-01-17 16:25:20.768617"], ["updated_at", "2018-01-17 16:25:20.768617"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 4], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:20.772616"], ["updated_at", "2018-01-17 16:25:20.772616"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.0ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 5], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:20.775788"], ["updated_at", "2018-01-17 16:25:20.775788"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.3ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 6], ["stock", 50], ["price", 1.1], ["created_at", "2018-01-17 16:25:20.779027"], ["updated_at", "2018-01-17 16:25:20.779027"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 7], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:20.783244"], ["updated_at", "2018-01-17 16:25:20.783244"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:20.787109"], ["updated_at", "2018-01-17 16:25:20.787109"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 9], ["stock", 50], ["price", 2.05], ["created_at", "2018-01-17 16:25:20.790413"], ["updated_at", "2018-01-17 16:25:20.790413"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.3ms)
Started POST "/login" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"flavioasdf@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "flavioasdf@gmail.com"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/users/1" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  Rendered users/show.html.erb within layouts/application (1.9ms)
Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 0.1ms)
Started POST "/links/check" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by LinksController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"address"=>"via saudoni, 42, 03030 Castrocielo FR", "range"=>"30"}, "commit"=>"SMART SHOPPING"}
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", "2018-01-17 16:25:20.844558"], ["updated_at", "2018-01-17 16:25:20.844558"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (2.8ms)
Completed 200 OK in 9ms (Views: 5.1ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"1", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:20.862626"], ["updated_at", "2018-01-17 16:25:20.862626"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (3.6ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.5ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"2", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 2], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:20.883394"], ["updated_at", "2018-01-17 16:25:20.883394"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (4.8ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.5ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"3", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 3], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:20.903106"], ["updated_at", "2018-01-17 16:25:20.903106"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (5.4ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.6ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"4", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:20.924214"], ["updated_at", "2018-01-17 16:25:20.924214"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (5.3ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 0.5ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"5", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:20.948403"], ["updated_at", "2018-01-17 16:25:20.948403"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.3ms)
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"6", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 6], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:20.974843"], ["updated_at", "2018-01-17 16:25:20.974843"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.1ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.8ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:20 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"7", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 7], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:20.999518"], ["updated_at", "2018-01-17 16:25:20.999518"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (10.4ms)
Completed 200 OK in 15ms (Views: 12.3ms | ActiveRecord: 1.2ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"8", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 8], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:21.028954"], ["updated_at", "2018-01-17 16:25:21.028954"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.6ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"9", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 9], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:21.054163"], ["updated_at", "2018-01-17 16:25:21.054163"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.8ms)
Completed 200 OK in 13ms (Views: 10.2ms | ActiveRecord: 0.9ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"10", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 10], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:21.081379"], ["updated_at", "2018-01-17 16:25:21.081379"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 10]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (8.1ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.8ms)
Started POST "/links_third/check" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by LinksThirdController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"count"=>"3"}, "commit"=>"Go to smart shopping"}
Redirected to http://www.example.com/smart_shopping_cf
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/smart_shopping_cf" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by SmartShoppingController#corefunction as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mMarket Load (0.3ms)[0m  [1mSELECT markets.*, (111.19492664455873 * ABS(markets.latitude - 41.4729934) * 0.7071067811865475) + (96.29763124613503 * ABS(markets.longitude - 13.6842442) * 0.7071067811865475) AS distance, CASE WHEN (markets.latitude >= 41.4729934 AND markets.longitude >= 13.6842442) THEN  45.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude >= 13.6842442) THEN 135.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude <  13.6842442) THEN 225.0 WHEN (markets.latitude >= 41.4729934 AND markets.longitude <  13.6842442) THEN 315.0 END AS bearing FROM "markets" WHERE (markets.latitude BETWEEN 41.20319691822438 AND 41.74278988177562 AND markets.longitude BETWEEN 13.324164103253342 AND 14.044324296746659)  ORDER BY distance ASC[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mOwner Load (0.5ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 5]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 1]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 2]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 5]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 5]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 1]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 2]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 5]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 1]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 2]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 5]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 1]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 1]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 1]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 1]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 1]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 2]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 3]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 4]]
  [1m[35mCACHE (0.2ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMarket Load (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mMarket Load (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 2]]
  Rendered smart_shopping/corefunction.html.erb within layouts/application (11.9ms)
Completed 200 OK in 91ms (Views: 12.9ms | ActiveRecord: 9.3ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$48UvRfxFVlI5AaV3TNu4n.PN7ejPoMFyO1EaLTG2FyXESDneaTwWm"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:21.225866"], ["updated_at", "2018-01-17 16:25:21.225866"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Mezze Penne"], ["label", "Barilla"], ["package", "500gr"], ["id", 1], ["created_at", "2018-01-17 16:25:21.227969"], ["updated_at", "2018-01-17 16:25:21.227969"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Olio Extra Vergine"], ["label", "Monini"], ["package", "1L"], ["id", 2], ["created_at", "2018-01-17 16:25:21.230882"], ["updated_at", "2018-01-17 16:25:21.230882"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Passata Di Pomodoro"], ["label", "Mutti"], ["package", "400gr"], ["id", 3], ["created_at", "2018-01-17 16:25:21.232944"], ["updated_at", "2018-01-17 16:25:21.232944"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Caffe"], ["label", "Lavazza"], ["package", "250gr"], ["id", 4], ["created_at", "2018-01-17 16:25:21.235145"], ["updated_at", "2018-01-17 16:25:21.235145"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Birra"], ["label", "Peroni"], ["package", "0.66L"], ["id", 5], ["created_at", "2018-01-17 16:25:21.237493"], ["updated_at", "2018-01-17 16:25:21.237493"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dentifricio"], ["label", "Mentadent"], ["package", "75ml"], ["id", 6], ["created_at", "2018-01-17 16:25:21.239444"], ["updated_at", "2018-01-17 16:25:21.239444"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Fazzoletti"], ["label", "Scala"], ["package", "12 Pezzi"], ["id", 7], ["created_at", "2018-01-17 16:25:21.241353"], ["updated_at", "2018-01-17 16:25:21.241353"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Detergente Per Vetri"], ["label", "Vetril"], ["package", "650ml"], ["id", 8], ["created_at", "2018-01-17 16:25:21.243129"], ["updated_at", "2018-01-17 16:25:21.243129"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Tovaglioli"], ["label", "Regina"], ["package", "50 Pezzi"], ["id", 9], ["created_at", "2018-01-17 16:25:21.244928"], ["updated_at", "2018-01-17 16:25:21.244928"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Smacchiatore"], ["label", "Omino Bianco"], ["package", "1L"], ["id", 10], ["created_at", "2018-01-17 16:25:21.246788"], ["updated_at", "2018-01-17 16:25:21.246788"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["status", "t"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:21.250025"], ["updated_at", "2018-01-17 16:25:21.250025"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via risorgimento, 4, 03030 Piedimonte San Germano FR"], ["group", "Gecop"], ["info", "Aperto dalla Domenica al venerdi//08.00-20.00"], ["status", "t"], ["latitude", 41.496175], ["longitude", 13.749178], ["created_at", "2018-01-17 16:25:21.252813"], ["updated_at", "2018-01-17 16:25:21.252813"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "corso achille spatuzzi, 1, 03047 San Giorgio A Liri FR"], ["group", "Sigma"], ["info", "Aperto dal lunedi al sabato//08.00-20.00 martedi riposo"], ["status", "t"], ["latitude", 41.4075891], ["longitude", 13.765525], ["created_at", "2018-01-17 16:25:21.255901"], ["updated_at", "2018-01-17 16:25:21.255901"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "strada statale casilina, 1, 03030 Piedimonte San Germano FR"], ["group", "Carrefour"], ["info", "si rispetteranno gli orari del centro commerciale"], ["status", "t"], ["latitude", 41.492449], ["longitude", 13.761081], ["created_at", "2018-01-17 16:25:21.258603"], ["updated_at", "2018-01-17 16:25:21.258603"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "via melfi urbana, 1, 03037 Pontecorvo FR"], ["group", "Lidl"], ["info", "Aperto dal lunedi al sabato//08.00-20.30"], ["status", "t"], ["latitude", 41.4635807], ["longitude", 13.6649785], ["created_at", "2018-01-17 16:25:21.260660"], ["updated_at", "2018-01-17 16:25:21.260660"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 1], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:21.263671"], ["updated_at", "2018-01-17 16:25:21.263671"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:21.266738"], ["updated_at", "2018-01-17 16:25:21.266738"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 3], ["stock", 50], ["price", 0.99], ["created_at", "2018-01-17 16:25:21.270003"], ["updated_at", "2018-01-17 16:25:21.270003"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 4], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:21.272909"], ["updated_at", "2018-01-17 16:25:21.272909"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 5], ["stock", 50], ["price", 0.89], ["created_at", "2018-01-17 16:25:21.275540"], ["updated_at", "2018-01-17 16:25:21.275540"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 6], ["stock", 50], ["price", 1.33], ["created_at", "2018-01-17 16:25:21.278135"], ["updated_at", "2018-01-17 16:25:21.278135"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 7], ["stock", 50], ["price", 0.51], ["created_at", "2018-01-17 16:25:21.280821"], ["updated_at", "2018-01-17 16:25:21.280821"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:21.285399"], ["updated_at", "2018-01-17 16:25:21.285399"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 9], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:21.288702"], ["updated_at", "2018-01-17 16:25:21.288702"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:21.292632"], ["updated_at", "2018-01-17 16:25:21.292632"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:21.296305"], ["updated_at", "2018-01-17 16:25:21.296305"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:21.300997"], ["updated_at", "2018-01-17 16:25:21.300997"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 4], ["stock", 50], ["price", 3.25], ["created_at", "2018-01-17 16:25:21.304957"], ["updated_at", "2018-01-17 16:25:21.304957"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 5], ["stock", 50], ["price", 0.9], ["created_at", "2018-01-17 16:25:21.308283"], ["updated_at", "2018-01-17 16:25:21.308283"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 6], ["stock", 50], ["price", 1.34], ["created_at", "2018-01-17 16:25:21.313348"], ["updated_at", "2018-01-17 16:25:21.313348"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 7], ["stock", 50], ["price", 0.54], ["created_at", "2018-01-17 16:25:21.316792"], ["updated_at", "2018-01-17 16:25:21.316792"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 8], ["stock", 50], ["price", 1.9], ["created_at", "2018-01-17 16:25:21.320520"], ["updated_at", "2018-01-17 16:25:21.320520"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 9], ["stock", 50], ["price", 2.1], ["created_at", "2018-01-17 16:25:21.323907"], ["updated_at", "2018-01-17 16:25:21.323907"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 10], ["stock", 50], ["price", 3.0], ["created_at", "2018-01-17 16:25:21.327111"], ["updated_at", "2018-01-17 16:25:21.327111"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:21.330427"], ["updated_at", "2018-01-17 16:25:21.330427"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 2], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:21.333290"], ["updated_at", "2018-01-17 16:25:21.333290"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 3], ["stock", 50], ["price", 0.52], ["created_at", "2018-01-17 16:25:21.336787"], ["updated_at", "2018-01-17 16:25:21.336787"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 4], ["stock", 50], ["price", 2.78], ["created_at", "2018-01-17 16:25:21.340843"], ["updated_at", "2018-01-17 16:25:21.340843"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 5], ["stock", 50], ["price", 1.25], ["created_at", "2018-01-17 16:25:21.343361"], ["updated_at", "2018-01-17 16:25:21.343361"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 6], ["stock", 50], ["price", 1.35], ["created_at", "2018-01-17 16:25:21.345761"], ["updated_at", "2018-01-17 16:25:21.345761"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 7], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:21.349301"], ["updated_at", "2018-01-17 16:25:21.349301"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 8], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:21.351787"], ["updated_at", "2018-01-17 16:25:21.351787"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 9], ["stock", 50], ["price", 2.11], ["created_at", "2018-01-17 16:25:21.354543"], ["updated_at", "2018-01-17 16:25:21.354543"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 10], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:21.357345"], ["updated_at", "2018-01-17 16:25:21.357345"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 1], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:21.360446"], ["updated_at", "2018-01-17 16:25:21.360446"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 2], ["stock", 50], ["price", 5.99], ["created_at", "2018-01-17 16:25:21.362814"], ["updated_at", "2018-01-17 16:25:21.362814"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:21.365621"], ["updated_at", "2018-01-17 16:25:21.365621"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 4], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:21.368953"], ["updated_at", "2018-01-17 16:25:21.368953"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 5], ["stock", 50], ["price", 1.0], ["created_at", "2018-01-17 16:25:21.371705"], ["updated_at", "2018-01-17 16:25:21.371705"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 6], ["stock", 50], ["price", 1.29], ["created_at", "2018-01-17 16:25:21.374015"], ["updated_at", "2018-01-17 16:25:21.374015"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 7], ["stock", 50], ["price", 0.6], ["created_at", "2018-01-17 16:25:21.377204"], ["updated_at", "2018-01-17 16:25:21.377204"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 8], ["stock", 50], ["price", 1.87], ["created_at", "2018-01-17 16:25:21.379672"], ["updated_at", "2018-01-17 16:25:21.379672"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 9], ["stock", 50], ["price", 1.99], ["created_at", "2018-01-17 16:25:21.382036"], ["updated_at", "2018-01-17 16:25:21.382036"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 10], ["stock", 50], ["price", 5.0], ["created_at", "2018-01-17 16:25:21.385060"], ["updated_at", "2018-01-17 16:25:21.385060"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 1], ["stock", 50], ["price", 0.72], ["created_at", "2018-01-17 16:25:21.387722"], ["updated_at", "2018-01-17 16:25:21.387722"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 2], ["stock", 50], ["price", 6.02], ["created_at", "2018-01-17 16:25:21.390335"], ["updated_at", "2018-01-17 16:25:21.390335"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 3], ["stock", 50], ["price", 1.12], ["created_at", "2018-01-17 16:25:21.393586"], ["updated_at", "2018-01-17 16:25:21.393586"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 4], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:21.396199"], ["updated_at", "2018-01-17 16:25:21.396199"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 5], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:21.399015"], ["updated_at", "2018-01-17 16:25:21.399015"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 6], ["stock", 50], ["price", 1.1], ["created_at", "2018-01-17 16:25:21.401531"], ["updated_at", "2018-01-17 16:25:21.401531"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 7], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:21.404486"], ["updated_at", "2018-01-17 16:25:21.404486"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:21.407126"], ["updated_at", "2018-01-17 16:25:21.407126"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 9], ["stock", 50], ["price", 2.05], ["created_at", "2018-01-17 16:25:21.409890"], ["updated_at", "2018-01-17 16:25:21.409890"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1[0m
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.4ms)
Started POST "/login" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"flavioasdf@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "flavioasdf@gmail.com"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/users/1" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  Rendered users/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.2ms)
Started POST "/links/check" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by LinksController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"address"=>"via saudoni, 42, 03030 Castrocielo FR", "range"=>"30"}, "commit"=>"SMART SHOPPING"}
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.2ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2018-01-17 16:25:21.456504"], ["updated_at", "2018-01-17 16:25:21.456504"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (3.0ms)
Completed 200 OK in 10ms (Views: 5.5ms | ActiveRecord: 1.9ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"1", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 1], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:21.474944"], ["updated_at", "2018-01-17 16:25:21.474944"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (5.2ms)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"2", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:21.500078"], ["updated_at", "2018-01-17 16:25:21.500078"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (4.3ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.5ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"3", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 3], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:21.523064"], ["updated_at", "2018-01-17 16:25:21.523064"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (5.0ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.6ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"4", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 4], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:21.546058"], ["updated_at", "2018-01-17 16:25:21.546058"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (1.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.3ms)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 1.6ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"5", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 5], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:21.573973"], ["updated_at", "2018-01-17 16:25:21.573973"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (6.1ms)
Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"6", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:21.598748"], ["updated_at", "2018-01-17 16:25:21.598748"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (8.3ms)
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 1.0ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"7", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 7], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:21.628272"], ["updated_at", "2018-01-17 16:25:21.628272"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (10.7ms)
Completed 200 OK in 18ms (Views: 14.6ms | ActiveRecord: 1.1ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"8", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 8], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:21.662644"], ["updated_at", "2018-01-17 16:25:21.662644"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (8.8ms)
Completed 200 OK in 13ms (Views: 10.7ms | ActiveRecord: 0.8ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"9", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 9], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:21.688519"], ["updated_at", "2018-01-17 16:25:21.688519"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (9.0ms)
Completed 200 OK in 14ms (Views: 11.0ms | ActiveRecord: 1.0ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"10", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 10], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:21.717118"], ["updated_at", "2018-01-17 16:25:21.717118"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (8.9ms)
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 1.1ms)
Started POST "/links_third/check" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by LinksThirdController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"count"=>"2"}, "commit"=>"Go to smart shopping"}
Redirected to http://www.example.com/smart_shopping_cf
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/smart_shopping_cf" for 127.0.0.1 at 2018-01-17 17:25:21 +0100
Processing by SmartShoppingController#corefunction as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mMarket Load (0.3ms)[0m  SELECT markets.*, (111.19492664455873 * ABS(markets.latitude - 41.4729934) * 0.7071067811865475) + (96.29763124613503 * ABS(markets.longitude - 13.6842442) * 0.7071067811865475) AS distance, CASE WHEN (markets.latitude >= 41.4729934 AND markets.longitude >= 13.6842442) THEN  45.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude >= 13.6842442) THEN 135.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude <  13.6842442) THEN 225.0 WHEN (markets.latitude >= 41.4729934 AND markets.longitude <  13.6842442) THEN 315.0 END AS bearing FROM "markets" WHERE (markets.latitude BETWEEN 41.20319691822438 AND 41.74278988177562 AND markets.longitude BETWEEN 13.324164103253342 AND 14.044324296746659)  ORDER BY distance ASC
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 5]]
  [1m[36mOwner Load (0.2ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 3]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 4]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMarket Load (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered smart_shopping/corefunction.html.erb within layouts/application (12.8ms)
Completed 200 OK in 72ms (Views: 14.9ms | ActiveRecord: 7.6ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$1s4HYRVZ5/MK4T/370hKhehawdoAIeHJ1xvB0a6Px8/4lFNjXH8.2"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:21.846796"], ["updated_at", "2018-01-17 16:25:21.846796"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Mezze Penne"], ["label", "Barilla"], ["package", "500gr"], ["id", 1], ["created_at", "2018-01-17 16:25:21.849605"], ["updated_at", "2018-01-17 16:25:21.849605"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Olio Extra Vergine"], ["label", "Monini"], ["package", "1L"], ["id", 2], ["created_at", "2018-01-17 16:25:21.852845"], ["updated_at", "2018-01-17 16:25:21.852845"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Passata Di Pomodoro"], ["label", "Mutti"], ["package", "400gr"], ["id", 3], ["created_at", "2018-01-17 16:25:21.855136"], ["updated_at", "2018-01-17 16:25:21.855136"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Caffe"], ["label", "Lavazza"], ["package", "250gr"], ["id", 4], ["created_at", "2018-01-17 16:25:21.857115"], ["updated_at", "2018-01-17 16:25:21.857115"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Birra"], ["label", "Peroni"], ["package", "0.66L"], ["id", 5], ["created_at", "2018-01-17 16:25:21.859162"], ["updated_at", "2018-01-17 16:25:21.859162"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Dentifricio"], ["label", "Mentadent"], ["package", "75ml"], ["id", 6], ["created_at", "2018-01-17 16:25:21.860981"], ["updated_at", "2018-01-17 16:25:21.860981"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Fazzoletti"], ["label", "Scala"], ["package", "12 Pezzi"], ["id", 7], ["created_at", "2018-01-17 16:25:21.863434"], ["updated_at", "2018-01-17 16:25:21.863434"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Detergente Per Vetri"], ["label", "Vetril"], ["package", "650ml"], ["id", 8], ["created_at", "2018-01-17 16:25:21.865761"], ["updated_at", "2018-01-17 16:25:21.865761"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Tovaglioli"], ["label", "Regina"], ["package", "50 Pezzi"], ["id", 9], ["created_at", "2018-01-17 16:25:21.867733"], ["updated_at", "2018-01-17 16:25:21.867733"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Smacchiatore"], ["label", "Omino Bianco"], ["package", "1L"], ["id", 10], ["created_at", "2018-01-17 16:25:21.870577"], ["updated_at", "2018-01-17 16:25:21.870577"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["status", "t"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:21.873437"], ["updated_at", "2018-01-17 16:25:21.873437"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "via risorgimento, 4, 03030 Piedimonte San Germano FR"], ["group", "Gecop"], ["info", "Aperto dalla Domenica al venerdi//08.00-20.00"], ["status", "t"], ["latitude", 41.496175], ["longitude", 13.749178], ["created_at", "2018-01-17 16:25:21.875682"], ["updated_at", "2018-01-17 16:25:21.875682"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "corso achille spatuzzi, 1, 03047 San Giorgio A Liri FR"], ["group", "Sigma"], ["info", "Aperto dal lunedi al sabato//08.00-20.00 martedi riposo"], ["status", "t"], ["latitude", 41.4075891], ["longitude", 13.765525], ["created_at", "2018-01-17 16:25:21.877839"], ["updated_at", "2018-01-17 16:25:21.877839"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "strada statale casilina, 1, 03030 Piedimonte San Germano FR"], ["group", "Carrefour"], ["info", "si rispetteranno gli orari del centro commerciale"], ["status", "t"], ["latitude", 41.492449], ["longitude", 13.761081], ["created_at", "2018-01-17 16:25:21.881656"], ["updated_at", "2018-01-17 16:25:21.881656"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via melfi urbana, 1, 03037 Pontecorvo FR"], ["group", "Lidl"], ["info", "Aperto dal lunedi al sabato//08.00-20.30"], ["status", "t"], ["latitude", 41.4635807], ["longitude", 13.6649785], ["created_at", "2018-01-17 16:25:21.885106"], ["updated_at", "2018-01-17 16:25:21.885106"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 1], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:21.888343"], ["updated_at", "2018-01-17 16:25:21.888343"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:21.891058"], ["updated_at", "2018-01-17 16:25:21.891058"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 3], ["stock", 50], ["price", 0.99], ["created_at", "2018-01-17 16:25:21.894208"], ["updated_at", "2018-01-17 16:25:21.894208"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 4], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:21.896825"], ["updated_at", "2018-01-17 16:25:21.896825"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 5], ["stock", 50], ["price", 0.89], ["created_at", "2018-01-17 16:25:21.900423"], ["updated_at", "2018-01-17 16:25:21.900423"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 6], ["stock", 50], ["price", 1.33], ["created_at", "2018-01-17 16:25:21.903794"], ["updated_at", "2018-01-17 16:25:21.903794"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 7], ["stock", 50], ["price", 0.51], ["created_at", "2018-01-17 16:25:21.906419"], ["updated_at", "2018-01-17 16:25:21.906419"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:21.909604"], ["updated_at", "2018-01-17 16:25:21.909604"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 9], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:21.912379"], ["updated_at", "2018-01-17 16:25:21.912379"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:21.915916"], ["updated_at", "2018-01-17 16:25:21.915916"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:21.918699"], ["updated_at", "2018-01-17 16:25:21.918699"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:21.921242"], ["updated_at", "2018-01-17 16:25:21.921242"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 4], ["stock", 50], ["price", 3.25], ["created_at", "2018-01-17 16:25:21.924338"], ["updated_at", "2018-01-17 16:25:21.924338"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 5], ["stock", 50], ["price", 0.9], ["created_at", "2018-01-17 16:25:21.927005"], ["updated_at", "2018-01-17 16:25:21.927005"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 6], ["stock", 50], ["price", 1.34], ["created_at", "2018-01-17 16:25:21.930596"], ["updated_at", "2018-01-17 16:25:21.930596"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 7], ["stock", 50], ["price", 0.54], ["created_at", "2018-01-17 16:25:21.933237"], ["updated_at", "2018-01-17 16:25:21.933237"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 8], ["stock", 50], ["price", 1.9], ["created_at", "2018-01-17 16:25:21.935531"], ["updated_at", "2018-01-17 16:25:21.935531"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 9], ["stock", 50], ["price", 2.1], ["created_at", "2018-01-17 16:25:21.938379"], ["updated_at", "2018-01-17 16:25:21.938379"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 10], ["stock", 50], ["price", 3.0], ["created_at", "2018-01-17 16:25:21.941162"], ["updated_at", "2018-01-17 16:25:21.941162"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:21.944494"], ["updated_at", "2018-01-17 16:25:21.944494"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 2], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:21.947114"], ["updated_at", "2018-01-17 16:25:21.947114"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 3], ["stock", 50], ["price", 0.52], ["created_at", "2018-01-17 16:25:21.949697"], ["updated_at", "2018-01-17 16:25:21.949697"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 4], ["stock", 50], ["price", 2.78], ["created_at", "2018-01-17 16:25:21.952152"], ["updated_at", "2018-01-17 16:25:21.952152"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 5], ["stock", 50], ["price", 1.25], ["created_at", "2018-01-17 16:25:21.954831"], ["updated_at", "2018-01-17 16:25:21.954831"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 6], ["stock", 50], ["price", 1.35], ["created_at", "2018-01-17 16:25:21.958075"], ["updated_at", "2018-01-17 16:25:21.958075"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 7], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:21.960208"], ["updated_at", "2018-01-17 16:25:21.960208"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 8], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:21.963922"], ["updated_at", "2018-01-17 16:25:21.963922"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 9], ["stock", 50], ["price", 2.11], ["created_at", "2018-01-17 16:25:21.968584"], ["updated_at", "2018-01-17 16:25:21.968584"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 10], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:21.971118"], ["updated_at", "2018-01-17 16:25:21.971118"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 1], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:21.973567"], ["updated_at", "2018-01-17 16:25:21.973567"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 2], ["stock", 50], ["price", 5.99], ["created_at", "2018-01-17 16:25:21.976230"], ["updated_at", "2018-01-17 16:25:21.976230"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:21.979117"], ["updated_at", "2018-01-17 16:25:21.979117"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 4], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:21.981716"], ["updated_at", "2018-01-17 16:25:21.981716"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 5], ["stock", 50], ["price", 1.0], ["created_at", "2018-01-17 16:25:21.984539"], ["updated_at", "2018-01-17 16:25:21.984539"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 6], ["stock", 50], ["price", 1.29], ["created_at", "2018-01-17 16:25:21.987647"], ["updated_at", "2018-01-17 16:25:21.987647"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 7], ["stock", 50], ["price", 0.6], ["created_at", "2018-01-17 16:25:21.991599"], ["updated_at", "2018-01-17 16:25:21.991599"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 8], ["stock", 50], ["price", 1.87], ["created_at", "2018-01-17 16:25:21.994350"], ["updated_at", "2018-01-17 16:25:21.994350"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 9], ["stock", 50], ["price", 1.99], ["created_at", "2018-01-17 16:25:22.006081"], ["updated_at", "2018-01-17 16:25:22.006081"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 10], ["stock", 50], ["price", 5.0], ["created_at", "2018-01-17 16:25:22.008762"], ["updated_at", "2018-01-17 16:25:22.008762"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 1], ["stock", 50], ["price", 0.72], ["created_at", "2018-01-17 16:25:22.012300"], ["updated_at", "2018-01-17 16:25:22.012300"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 2], ["stock", 50], ["price", 6.02], ["created_at", "2018-01-17 16:25:22.015108"], ["updated_at", "2018-01-17 16:25:22.015108"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 3], ["stock", 50], ["price", 1.12], ["created_at", "2018-01-17 16:25:22.018465"], ["updated_at", "2018-01-17 16:25:22.018465"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 4], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:22.022055"], ["updated_at", "2018-01-17 16:25:22.022055"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 5], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:22.025865"], ["updated_at", "2018-01-17 16:25:22.025865"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 6], ["stock", 50], ["price", 1.1], ["created_at", "2018-01-17 16:25:22.028440"], ["updated_at", "2018-01-17 16:25:22.028440"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 7], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:22.032023"], ["updated_at", "2018-01-17 16:25:22.032023"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:22.034686"], ["updated_at", "2018-01-17 16:25:22.034686"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.3ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 9], ["stock", 50], ["price", 2.05], ["created_at", "2018-01-17 16:25:22.037999"], ["updated_at", "2018-01-17 16:25:22.037999"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
  [1m[35mManager Load (0.2ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.6ms)
Started POST "/login" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"flavioasdf@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "flavioasdf@gmail.com"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/users/1" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  Rendered users/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.1ms)
Started POST "/links/check" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by LinksController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"address"=>"via saudoni, 42, 03030 Castrocielo FR", "range"=>"30"}, "commit"=>"SMART SHOPPING"}
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.2ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", "2018-01-17 16:25:22.088977"], ["updated_at", "2018-01-17 16:25:22.088977"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (3.1ms)
Completed 200 OK in 10ms (Views: 5.3ms | ActiveRecord: 1.1ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"1", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:22.108137"], ["updated_at", "2018-01-17 16:25:22.108137"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (1.0ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (4.9ms)
Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 1.5ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"2", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 2], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:22.133321"], ["updated_at", "2018-01-17 16:25:22.133321"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.8ms)
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 1.2ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"3", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 3], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:22.163903"], ["updated_at", "2018-01-17 16:25:22.163903"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (5.6ms)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.6ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"4", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:22.189840"], ["updated_at", "2018-01-17 16:25:22.189840"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (5.9ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"5", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:22.213049"], ["updated_at", "2018-01-17 16:25:22.213049"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (6.2ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.6ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"6", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 6], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:22.238479"], ["updated_at", "2018-01-17 16:25:22.238479"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.2ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.2ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (10.3ms)
Completed 200 OK in 17ms (Views: 12.8ms | ActiveRecord: 1.3ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"7", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 7], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:22.271989"], ["updated_at", "2018-01-17 16:25:22.271989"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (9.9ms)
Completed 200 OK in 16ms (Views: 12.6ms | ActiveRecord: 0.9ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"8", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 8], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:22.305724"], ["updated_at", "2018-01-17 16:25:22.305724"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (9.1ms)
Completed 200 OK in 13ms (Views: 10.7ms | ActiveRecord: 1.2ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"9", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 9], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:22.332897"], ["updated_at", "2018-01-17 16:25:22.332897"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (8.4ms)
Completed 200 OK in 13ms (Views: 10.3ms | ActiveRecord: 0.8ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"10", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 10], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:22.358557"], ["updated_at", "2018-01-17 16:25:22.358557"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.2ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 10]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (8.9ms)
Completed 200 OK in 14ms (Views: 11.3ms | ActiveRecord: 1.0ms)
Started POST "/links_third/check" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by LinksThirdController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"count"=>"1"}, "commit"=>"Go to smart shopping"}
Redirected to http://www.example.com/smart_shopping_cf
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/smart_shopping_cf" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#corefunction as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mMarket Load (0.4ms)[0m  [1mSELECT markets.*, (111.19492664455873 * ABS(markets.latitude - 41.4729934) * 0.7071067811865475) + (96.29763124613503 * ABS(markets.longitude - 13.6842442) * 0.7071067811865475) AS distance, CASE WHEN (markets.latitude >= 41.4729934 AND markets.longitude >= 13.6842442) THEN  45.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude >= 13.6842442) THEN 135.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude <  13.6842442) THEN 225.0 WHEN (markets.latitude >= 41.4729934 AND markets.longitude <  13.6842442) THEN 315.0 END AS bearing FROM "markets" WHERE (markets.latitude BETWEEN 41.20319691822438 AND 41.74278988177562 AND markets.longitude BETWEEN 13.324164103253342 AND 14.044324296746659)  ORDER BY distance ASC[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 5]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 5]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 5]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 5]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 5]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 1]]
  [1m[35mOwner Load (0.2ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 2]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 2]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 2]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 4]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 4]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 4]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 4]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 4]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 4]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 4]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 4]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 4]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 4]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 3]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 3]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 3]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 3]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 3]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 3]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 3]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 3]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 3]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (1.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.3ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  Rendered smart_shopping/corefunction.html.erb within layouts/application (12.8ms)
Completed 200 OK in 37ms (Views: 13.0ms | ActiveRecord: 6.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$4XfT3ebIIBsQMDLEhqN3GeeaH9nAPzwNPwZfzalcb0ScF.AjcSfOK"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:22.451392"], ["updated_at", "2018-01-17 16:25:22.451392"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Mezze Penne"], ["label", "Barilla"], ["package", "500gr"], ["id", 1], ["created_at", "2018-01-17 16:25:22.454144"], ["updated_at", "2018-01-17 16:25:22.454144"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Olio Extra Vergine"], ["label", "Monini"], ["package", "1L"], ["id", 2], ["created_at", "2018-01-17 16:25:22.456025"], ["updated_at", "2018-01-17 16:25:22.456025"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Passata Di Pomodoro"], ["label", "Mutti"], ["package", "400gr"], ["id", 3], ["created_at", "2018-01-17 16:25:22.458378"], ["updated_at", "2018-01-17 16:25:22.458378"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Caffe"], ["label", "Lavazza"], ["package", "250gr"], ["id", 4], ["created_at", "2018-01-17 16:25:22.461228"], ["updated_at", "2018-01-17 16:25:22.461228"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Birra"], ["label", "Peroni"], ["package", "0.66L"], ["id", 5], ["created_at", "2018-01-17 16:25:22.463690"], ["updated_at", "2018-01-17 16:25:22.463690"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dentifricio"], ["label", "Mentadent"], ["package", "75ml"], ["id", 6], ["created_at", "2018-01-17 16:25:22.466520"], ["updated_at", "2018-01-17 16:25:22.466520"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Fazzoletti"], ["label", "Scala"], ["package", "12 Pezzi"], ["id", 7], ["created_at", "2018-01-17 16:25:22.468592"], ["updated_at", "2018-01-17 16:25:22.468592"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Detergente Per Vetri"], ["label", "Vetril"], ["package", "650ml"], ["id", 8], ["created_at", "2018-01-17 16:25:22.470588"], ["updated_at", "2018-01-17 16:25:22.470588"]]
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Tovaglioli"], ["label", "Regina"], ["package", "50 Pezzi"], ["id", 9], ["created_at", "2018-01-17 16:25:22.474249"], ["updated_at", "2018-01-17 16:25:22.474249"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Smacchiatore"], ["label", "Omino Bianco"], ["package", "1L"], ["id", 10], ["created_at", "2018-01-17 16:25:22.477115"], ["updated_at", "2018-01-17 16:25:22.477115"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["status", "t"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:22.480025"], ["updated_at", "2018-01-17 16:25:22.480025"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via risorgimento, 4, 03030 Piedimonte San Germano FR"], ["group", "Gecop"], ["info", "Aperto dalla Domenica al venerdi//08.00-20.00"], ["status", "t"], ["latitude", 41.496175], ["longitude", 13.749178], ["created_at", "2018-01-17 16:25:22.483248"], ["updated_at", "2018-01-17 16:25:22.483248"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "corso achille spatuzzi, 1, 03047 San Giorgio A Liri FR"], ["group", "Sigma"], ["info", "Aperto dal lunedi al sabato//08.00-20.00 martedi riposo"], ["status", "t"], ["latitude", 41.4075891], ["longitude", 13.765525], ["created_at", "2018-01-17 16:25:22.485596"], ["updated_at", "2018-01-17 16:25:22.485596"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "strada statale casilina, 1, 03030 Piedimonte San Germano FR"], ["group", "Carrefour"], ["info", "si rispetteranno gli orari del centro commerciale"], ["status", "t"], ["latitude", 41.492449], ["longitude", 13.761081], ["created_at", "2018-01-17 16:25:22.487650"], ["updated_at", "2018-01-17 16:25:22.487650"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "via melfi urbana, 1, 03037 Pontecorvo FR"], ["group", "Lidl"], ["info", "Aperto dal lunedi al sabato//08.00-20.30"], ["status", "t"], ["latitude", 41.4635807], ["longitude", 13.6649785], ["created_at", "2018-01-17 16:25:22.490116"], ["updated_at", "2018-01-17 16:25:22.490116"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 1], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:22.494573"], ["updated_at", "2018-01-17 16:25:22.494573"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:22.498690"], ["updated_at", "2018-01-17 16:25:22.498690"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 3], ["stock", 50], ["price", 0.99], ["created_at", "2018-01-17 16:25:22.503116"], ["updated_at", "2018-01-17 16:25:22.503116"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 4], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:22.507098"], ["updated_at", "2018-01-17 16:25:22.507098"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 5], ["stock", 50], ["price", 0.89], ["created_at", "2018-01-17 16:25:22.510682"], ["updated_at", "2018-01-17 16:25:22.510682"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 6], ["stock", 50], ["price", 1.33], ["created_at", "2018-01-17 16:25:22.515142"], ["updated_at", "2018-01-17 16:25:22.515142"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 7], ["stock", 50], ["price", 0.51], ["created_at", "2018-01-17 16:25:22.519867"], ["updated_at", "2018-01-17 16:25:22.519867"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:22.524877"], ["updated_at", "2018-01-17 16:25:22.524877"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 9], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:22.528983"], ["updated_at", "2018-01-17 16:25:22.528983"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:22.531972"], ["updated_at", "2018-01-17 16:25:22.531972"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:22.535108"], ["updated_at", "2018-01-17 16:25:22.535108"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:22.538172"], ["updated_at", "2018-01-17 16:25:22.538172"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 4], ["stock", 50], ["price", 3.25], ["created_at", "2018-01-17 16:25:22.541524"], ["updated_at", "2018-01-17 16:25:22.541524"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 5], ["stock", 50], ["price", 0.9], ["created_at", "2018-01-17 16:25:22.544693"], ["updated_at", "2018-01-17 16:25:22.544693"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 6], ["stock", 50], ["price", 1.34], ["created_at", "2018-01-17 16:25:22.548092"], ["updated_at", "2018-01-17 16:25:22.548092"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 7], ["stock", 50], ["price", 0.54], ["created_at", "2018-01-17 16:25:22.552014"], ["updated_at", "2018-01-17 16:25:22.552014"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 8], ["stock", 50], ["price", 1.9], ["created_at", "2018-01-17 16:25:22.555130"], ["updated_at", "2018-01-17 16:25:22.555130"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 9], ["stock", 50], ["price", 2.1], ["created_at", "2018-01-17 16:25:22.558979"], ["updated_at", "2018-01-17 16:25:22.558979"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 10], ["stock", 50], ["price", 3.0], ["created_at", "2018-01-17 16:25:22.566195"], ["updated_at", "2018-01-17 16:25:22.566195"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:22.569952"], ["updated_at", "2018-01-17 16:25:22.569952"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 2], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:22.576356"], ["updated_at", "2018-01-17 16:25:22.576356"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 3], ["stock", 50], ["price", 0.52], ["created_at", "2018-01-17 16:25:22.581189"], ["updated_at", "2018-01-17 16:25:22.581189"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 4], ["stock", 50], ["price", 2.78], ["created_at", "2018-01-17 16:25:22.587199"], ["updated_at", "2018-01-17 16:25:22.587199"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 5], ["stock", 50], ["price", 1.25], ["created_at", "2018-01-17 16:25:22.593345"], ["updated_at", "2018-01-17 16:25:22.593345"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 6], ["stock", 50], ["price", 1.35], ["created_at", "2018-01-17 16:25:22.599133"], ["updated_at", "2018-01-17 16:25:22.599133"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 7], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:22.603887"], ["updated_at", "2018-01-17 16:25:22.603887"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 8], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:22.608435"], ["updated_at", "2018-01-17 16:25:22.608435"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 9], ["stock", 50], ["price", 2.11], ["created_at", "2018-01-17 16:25:22.612993"], ["updated_at", "2018-01-17 16:25:22.612993"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 10], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:22.618440"], ["updated_at", "2018-01-17 16:25:22.618440"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 1], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:22.622970"], ["updated_at", "2018-01-17 16:25:22.622970"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 2], ["stock", 50], ["price", 5.99], ["created_at", "2018-01-17 16:25:22.627329"], ["updated_at", "2018-01-17 16:25:22.627329"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:22.630356"], ["updated_at", "2018-01-17 16:25:22.630356"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 4], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:22.640025"], ["updated_at", "2018-01-17 16:25:22.640025"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 5], ["stock", 50], ["price", 1.0], ["created_at", "2018-01-17 16:25:22.644238"], ["updated_at", "2018-01-17 16:25:22.644238"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 6], ["stock", 50], ["price", 1.29], ["created_at", "2018-01-17 16:25:22.648544"], ["updated_at", "2018-01-17 16:25:22.648544"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 7], ["stock", 50], ["price", 0.6], ["created_at", "2018-01-17 16:25:22.655642"], ["updated_at", "2018-01-17 16:25:22.655642"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 8], ["stock", 50], ["price", 1.87], ["created_at", "2018-01-17 16:25:22.659765"], ["updated_at", "2018-01-17 16:25:22.659765"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 9], ["stock", 50], ["price", 1.99], ["created_at", "2018-01-17 16:25:22.663909"], ["updated_at", "2018-01-17 16:25:22.663909"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 10], ["stock", 50], ["price", 5.0], ["created_at", "2018-01-17 16:25:22.667417"], ["updated_at", "2018-01-17 16:25:22.667417"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 1], ["stock", 50], ["price", 0.72], ["created_at", "2018-01-17 16:25:22.670535"], ["updated_at", "2018-01-17 16:25:22.670535"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 2], ["stock", 50], ["price", 6.02], ["created_at", "2018-01-17 16:25:22.674157"], ["updated_at", "2018-01-17 16:25:22.674157"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 3], ["stock", 50], ["price", 1.12], ["created_at", "2018-01-17 16:25:22.677548"], ["updated_at", "2018-01-17 16:25:22.677548"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 4], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:22.681577"], ["updated_at", "2018-01-17 16:25:22.681577"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 5], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:22.685604"], ["updated_at", "2018-01-17 16:25:22.685604"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 6], ["stock", 50], ["price", 1.1], ["created_at", "2018-01-17 16:25:22.696593"], ["updated_at", "2018-01-17 16:25:22.696593"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 7], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:22.701847"], ["updated_at", "2018-01-17 16:25:22.701847"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:22.705052"], ["updated_at", "2018-01-17 16:25:22.705052"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 9], ["stock", 50], ["price", 2.05], ["created_at", "2018-01-17 16:25:22.707890"], ["updated_at", "2018-01-17 16:25:22.707890"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1[0m
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.5ms)
Started POST "/login" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"flavioasdf@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "flavioasdf@gmail.com"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/users/1" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  Rendered users/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.3ms)
Started POST "/links/check" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by LinksController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"address"=>"via saudoni, 42, 03030 Castrocielo FR", "range"=>"3"}, "commit"=>"SMART SHOPPING"}
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.2ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2018-01-17 16:25:22.761776"], ["updated_at", "2018-01-17 16:25:22.761776"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (3.8ms)
Completed 200 OK in 11ms (Views: 6.2ms | ActiveRecord: 0.8ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"1", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 1], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:22.782285"], ["updated_at", "2018-01-17 16:25:22.782285"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (4.8ms)
Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 0.6ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"2", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:22.806908"], ["updated_at", "2018-01-17 16:25:22.806908"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (5.5ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.4ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"3", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 3], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:22.831310"], ["updated_at", "2018-01-17 16:25:22.831310"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (5.8ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.6ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"4", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 4], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:22.855849"], ["updated_at", "2018-01-17 16:25:22.855849"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.2ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (6.4ms)
Completed 200 OK in 12ms (Views: 8.6ms | ActiveRecord: 0.9ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"5", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 5], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:22.884871"], ["updated_at", "2018-01-17 16:25:22.884871"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.9ms)
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"6", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:22.913039"], ["updated_at", "2018-01-17 16:25:22.913039"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (6.9ms)
Completed 200 OK in 12ms (Views: 9.4ms | ActiveRecord: 1.1ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"7", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 7], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:22.938863"], ["updated_at", "2018-01-17 16:25:22.938863"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (9.6ms)
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 0.8ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"8", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 8], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:22.968498"], ["updated_at", "2018-01-17 16:25:22.968498"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (8.7ms)
Completed 200 OK in 13ms (Views: 10.2ms | ActiveRecord: 0.9ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"9", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 9], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:22.994160"], ["updated_at", "2018-01-17 16:25:22.994160"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:22 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.4ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.9ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"10", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 10], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:23.017619"], ["updated_at", "2018-01-17 16:25:23.017619"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.8ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (11.0ms)
Completed 200 OK in 16ms (Views: 12.9ms | ActiveRecord: 1.9ms)
Started POST "/links_third/check" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by LinksThirdController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"count"=>"5"}, "commit"=>"Go to smart shopping"}
Redirected to http://www.example.com/smart_shopping_cf
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/smart_shopping_cf" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SmartShoppingController#corefunction as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mMarket Load (0.3ms)[0m  SELECT markets.*, (111.19492664455873 * ABS(markets.latitude - 41.4729934) * 0.7071067811865475) + (96.29763124613503 * ABS(markets.longitude - 13.6842442) * 0.7071067811865475) AS distance, CASE WHEN (markets.latitude >= 41.4729934 AND markets.longitude >= 13.6842442) THEN  45.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude >= 13.6842442) THEN 135.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude <  13.6842442) THEN 225.0 WHEN (markets.latitude >= 41.4729934 AND markets.longitude <  13.6842442) THEN 315.0 END AS bearing FROM "markets" WHERE (markets.latitude BETWEEN 41.44601375182244 AND 41.49997304817756 AND markets.longitude BETWEEN 13.648236190325335 AND 13.720252209674666)  ORDER BY distance ASC
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 10ms (ActiveRecord: 1.3ms)
Started GET "/users/1" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  Rendered users/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$tn2MrySszKujru9G6fW/6OnuBshJTlIRN4M8gEkmWWJtRIO0cn05C"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:23.089129"], ["updated_at", "2018-01-17 16:25:23.089129"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Mezze Penne"], ["label", "Barilla"], ["package", "500gr"], ["id", 1], ["created_at", "2018-01-17 16:25:23.091141"], ["updated_at", "2018-01-17 16:25:23.091141"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Olio Extra Vergine"], ["label", "Monini"], ["package", "1L"], ["id", 2], ["created_at", "2018-01-17 16:25:23.093289"], ["updated_at", "2018-01-17 16:25:23.093289"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Passata Di Pomodoro"], ["label", "Mutti"], ["package", "400gr"], ["id", 3], ["created_at", "2018-01-17 16:25:23.094958"], ["updated_at", "2018-01-17 16:25:23.094958"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Caffe"], ["label", "Lavazza"], ["package", "250gr"], ["id", 4], ["created_at", "2018-01-17 16:25:23.097345"], ["updated_at", "2018-01-17 16:25:23.097345"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Birra"], ["label", "Peroni"], ["package", "0.66L"], ["id", 5], ["created_at", "2018-01-17 16:25:23.099952"], ["updated_at", "2018-01-17 16:25:23.099952"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dentifricio"], ["label", "Mentadent"], ["package", "75ml"], ["id", 6], ["created_at", "2018-01-17 16:25:23.101909"], ["updated_at", "2018-01-17 16:25:23.101909"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Fazzoletti"], ["label", "Scala"], ["package", "12 Pezzi"], ["id", 7], ["created_at", "2018-01-17 16:25:23.103551"], ["updated_at", "2018-01-17 16:25:23.103551"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Detergente Per Vetri"], ["label", "Vetril"], ["package", "650ml"], ["id", 8], ["created_at", "2018-01-17 16:25:23.105214"], ["updated_at", "2018-01-17 16:25:23.105214"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Tovaglioli"], ["label", "Regina"], ["package", "50 Pezzi"], ["id", 9], ["created_at", "2018-01-17 16:25:23.106864"], ["updated_at", "2018-01-17 16:25:23.106864"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Smacchiatore"], ["label", "Omino Bianco"], ["package", "1L"], ["id", 10], ["created_at", "2018-01-17 16:25:23.109745"], ["updated_at", "2018-01-17 16:25:23.109745"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["status", "t"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:23.112799"], ["updated_at", "2018-01-17 16:25:23.112799"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via risorgimento, 4, 03030 Piedimonte San Germano FR"], ["group", "Gecop"], ["info", "Aperto dalla Domenica al venerdi//08.00-20.00"], ["status", "t"], ["latitude", 41.496175], ["longitude", 13.749178], ["created_at", "2018-01-17 16:25:23.116001"], ["updated_at", "2018-01-17 16:25:23.116001"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "corso achille spatuzzi, 1, 03047 San Giorgio A Liri FR"], ["group", "Sigma"], ["info", "Aperto dal lunedi al sabato//08.00-20.00 martedi riposo"], ["status", "t"], ["latitude", 41.4075891], ["longitude", 13.765525], ["created_at", "2018-01-17 16:25:23.118383"], ["updated_at", "2018-01-17 16:25:23.118383"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "strada statale casilina, 1, 03030 Piedimonte San Germano FR"], ["group", "Carrefour"], ["info", "si rispetteranno gli orari del centro commerciale"], ["status", "t"], ["latitude", 41.492449], ["longitude", 13.761081], ["created_at", "2018-01-17 16:25:23.121034"], ["updated_at", "2018-01-17 16:25:23.121034"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "via melfi urbana, 1, 03037 Pontecorvo FR"], ["group", "Lidl"], ["info", "Aperto dal lunedi al sabato//08.00-20.30"], ["status", "t"], ["latitude", 41.4635807], ["longitude", 13.6649785], ["created_at", "2018-01-17 16:25:23.122789"], ["updated_at", "2018-01-17 16:25:23.122789"]]
  [1m[36m (0.9ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 1], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:23.126330"], ["updated_at", "2018-01-17 16:25:23.126330"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:23.129128"], ["updated_at", "2018-01-17 16:25:23.129128"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 3], ["stock", 50], ["price", 0.99], ["created_at", "2018-01-17 16:25:23.132331"], ["updated_at", "2018-01-17 16:25:23.132331"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 4], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:23.135603"], ["updated_at", "2018-01-17 16:25:23.135603"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 5], ["stock", 50], ["price", 0.89], ["created_at", "2018-01-17 16:25:23.140319"], ["updated_at", "2018-01-17 16:25:23.140319"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 6], ["stock", 50], ["price", 1.33], ["created_at", "2018-01-17 16:25:23.143569"], ["updated_at", "2018-01-17 16:25:23.143569"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 7], ["stock", 50], ["price", 0.51], ["created_at", "2018-01-17 16:25:23.146236"], ["updated_at", "2018-01-17 16:25:23.146236"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:23.150323"], ["updated_at", "2018-01-17 16:25:23.150323"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 9], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:23.153747"], ["updated_at", "2018-01-17 16:25:23.153747"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:23.156989"], ["updated_at", "2018-01-17 16:25:23.156989"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:23.159481"], ["updated_at", "2018-01-17 16:25:23.159481"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:23.162216"], ["updated_at", "2018-01-17 16:25:23.162216"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 4], ["stock", 50], ["price", 3.25], ["created_at", "2018-01-17 16:25:23.165353"], ["updated_at", "2018-01-17 16:25:23.165353"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 5], ["stock", 50], ["price", 0.9], ["created_at", "2018-01-17 16:25:23.167961"], ["updated_at", "2018-01-17 16:25:23.167961"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 6], ["stock", 50], ["price", 1.34], ["created_at", "2018-01-17 16:25:23.170595"], ["updated_at", "2018-01-17 16:25:23.170595"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 7], ["stock", 50], ["price", 0.54], ["created_at", "2018-01-17 16:25:23.173008"], ["updated_at", "2018-01-17 16:25:23.173008"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 8], ["stock", 50], ["price", 1.9], ["created_at", "2018-01-17 16:25:23.175533"], ["updated_at", "2018-01-17 16:25:23.175533"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 9], ["stock", 50], ["price", 2.1], ["created_at", "2018-01-17 16:25:23.178089"], ["updated_at", "2018-01-17 16:25:23.178089"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 10], ["stock", 50], ["price", 3.0], ["created_at", "2018-01-17 16:25:23.181595"], ["updated_at", "2018-01-17 16:25:23.181595"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:23.184018"], ["updated_at", "2018-01-17 16:25:23.184018"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 2], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:23.186666"], ["updated_at", "2018-01-17 16:25:23.186666"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 3], ["stock", 50], ["price", 0.52], ["created_at", "2018-01-17 16:25:23.190095"], ["updated_at", "2018-01-17 16:25:23.190095"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 4], ["stock", 50], ["price", 2.78], ["created_at", "2018-01-17 16:25:23.192282"], ["updated_at", "2018-01-17 16:25:23.192282"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 5], ["stock", 50], ["price", 1.25], ["created_at", "2018-01-17 16:25:23.195046"], ["updated_at", "2018-01-17 16:25:23.195046"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 6], ["stock", 50], ["price", 1.35], ["created_at", "2018-01-17 16:25:23.197179"], ["updated_at", "2018-01-17 16:25:23.197179"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 7], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:23.200309"], ["updated_at", "2018-01-17 16:25:23.200309"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 8], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:23.203748"], ["updated_at", "2018-01-17 16:25:23.203748"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 9], ["stock", 50], ["price", 2.11], ["created_at", "2018-01-17 16:25:23.206188"], ["updated_at", "2018-01-17 16:25:23.206188"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 10], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:23.208752"], ["updated_at", "2018-01-17 16:25:23.208752"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 1], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:23.211647"], ["updated_at", "2018-01-17 16:25:23.211647"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 2], ["stock", 50], ["price", 5.99], ["created_at", "2018-01-17 16:25:23.215910"], ["updated_at", "2018-01-17 16:25:23.215910"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:23.219571"], ["updated_at", "2018-01-17 16:25:23.219571"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 4], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:23.222246"], ["updated_at", "2018-01-17 16:25:23.222246"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 5], ["stock", 50], ["price", 1.0], ["created_at", "2018-01-17 16:25:23.224885"], ["updated_at", "2018-01-17 16:25:23.224885"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 6], ["stock", 50], ["price", 1.29], ["created_at", "2018-01-17 16:25:23.227546"], ["updated_at", "2018-01-17 16:25:23.227546"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 7], ["stock", 50], ["price", 0.6], ["created_at", "2018-01-17 16:25:23.230063"], ["updated_at", "2018-01-17 16:25:23.230063"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 8], ["stock", 50], ["price", 1.87], ["created_at", "2018-01-17 16:25:23.233734"], ["updated_at", "2018-01-17 16:25:23.233734"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 9], ["stock", 50], ["price", 1.99], ["created_at", "2018-01-17 16:25:23.237271"], ["updated_at", "2018-01-17 16:25:23.237271"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 10], ["stock", 50], ["price", 5.0], ["created_at", "2018-01-17 16:25:23.240317"], ["updated_at", "2018-01-17 16:25:23.240317"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 1], ["stock", 50], ["price", 0.72], ["created_at", "2018-01-17 16:25:23.243244"], ["updated_at", "2018-01-17 16:25:23.243244"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 2], ["stock", 50], ["price", 6.02], ["created_at", "2018-01-17 16:25:23.246724"], ["updated_at", "2018-01-17 16:25:23.246724"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 3], ["stock", 50], ["price", 1.12], ["created_at", "2018-01-17 16:25:23.249816"], ["updated_at", "2018-01-17 16:25:23.249816"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 4], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:23.253721"], ["updated_at", "2018-01-17 16:25:23.253721"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 5], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:23.255768"], ["updated_at", "2018-01-17 16:25:23.255768"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 6], ["stock", 50], ["price", 1.1], ["created_at", "2018-01-17 16:25:23.259159"], ["updated_at", "2018-01-17 16:25:23.259159"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 7], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:23.261529"], ["updated_at", "2018-01-17 16:25:23.261529"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:23.263835"], ["updated_at", "2018-01-17 16:25:23.263835"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 9], ["stock", 50], ["price", 2.05], ["created_at", "2018-01-17 16:25:23.267162"], ["updated_at", "2018-01-17 16:25:23.267162"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1[0m
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1
Completed 200 OK in 15ms (Views: 14.5ms | ActiveRecord: 0.3ms)
Started POST "/login" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"flavioasdf@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "flavioasdf@gmail.com"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/users/1" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  Rendered users/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.1ms)
Started POST "/links/check" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by LinksController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"address"=>"via saudoni, 42, 03030 Castrocielo FR", "range"=>"3"}, "commit"=>"SMART SHOPPING"}
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.2ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2018-01-17 16:25:23.321599"], ["updated_at", "2018-01-17 16:25:23.321599"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (3.2ms)
Completed 200 OK in 10ms (Views: 5.4ms | ActiveRecord: 0.8ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"1", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 1], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:23.341663"], ["updated_at", "2018-01-17 16:25:23.341663"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (4.0ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.5ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"2", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:23.363096"], ["updated_at", "2018-01-17 16:25:23.363096"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (6.0ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"3", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 3], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:23.388065"], ["updated_at", "2018-01-17 16:25:23.388065"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.3ms)
Completed 200 OK in 12ms (Views: 9.2ms | ActiveRecord: 1.3ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"4", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 4], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:23.416355"], ["updated_at", "2018-01-17 16:25:23.416355"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (5.3ms)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"5", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 5], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:23.440531"], ["updated_at", "2018-01-17 16:25:23.440531"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (9.3ms)
Completed 200 OK in 14ms (Views: 11.3ms | ActiveRecord: 0.8ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"6", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:23.469395"], ["updated_at", "2018-01-17 16:25:23.469395"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (9.1ms)
Completed 200 OK in 15ms (Views: 12.3ms | ActiveRecord: 0.9ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"7", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 7], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:23.503985"], ["updated_at", "2018-01-17 16:25:23.503985"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (11.1ms)
Completed 200 OK in 17ms (Views: 13.7ms | ActiveRecord: 1.2ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"8", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 8], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:23.537415"], ["updated_at", "2018-01-17 16:25:23.537415"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 1.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (8.3ms)
Completed 200 OK in 13ms (Views: 10.3ms | ActiveRecord: 0.9ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"9", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 9], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:23.565632"], ["updated_at", "2018-01-17 16:25:23.565632"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (9.0ms)
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 1.0ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"10", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 10], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:23.594742"], ["updated_at", "2018-01-17 16:25:23.594742"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (8.2ms)
Completed 200 OK in 13ms (Views: 9.8ms | ActiveRecord: 0.9ms)
Started POST "/links_third/check" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by LinksThirdController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"count"=>"5"}, "commit"=>"Go to smart shopping"}
Redirected to http://www.example.com/smart_shopping_cf
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/smart_shopping_cf" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SmartShoppingController#corefunction as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mMarket Load (0.4ms)[0m  SELECT markets.*, (111.19492664455873 * ABS(markets.latitude - 41.4729934) * 0.7071067811865475) + (96.29763124613503 * ABS(markets.longitude - 13.6842442) * 0.7071067811865475) AS distance, CASE WHEN (markets.latitude >= 41.4729934 AND markets.longitude >= 13.6842442) THEN  45.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude >= 13.6842442) THEN 135.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude <  13.6842442) THEN 225.0 WHEN (markets.latitude >= 41.4729934 AND markets.longitude <  13.6842442) THEN 315.0 END AS bearing FROM "markets" WHERE (markets.latitude BETWEEN 41.44601375182244 AND 41.49997304817756 AND markets.longitude BETWEEN 13.648236190325335 AND 13.720252209674666)  ORDER BY distance ASC
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mOwner Load (0.2ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 14ms (ActiveRecord: 2.0ms)
Started GET "/users/1" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  Rendered users/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$1xSgm1YQVP7hh88Bl9.aLux2XdqC4rW/8i2xm/3e529dK51Z9X8TS"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:23.681933"], ["updated_at", "2018-01-17 16:25:23.681933"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Mezze Penne"], ["label", "Barilla"], ["package", "500gr"], ["id", 1], ["created_at", "2018-01-17 16:25:23.685090"], ["updated_at", "2018-01-17 16:25:23.685090"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Olio Extra Vergine"], ["label", "Monini"], ["package", "1L"], ["id", 2], ["created_at", "2018-01-17 16:25:23.687134"], ["updated_at", "2018-01-17 16:25:23.687134"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Passata Di Pomodoro"], ["label", "Mutti"], ["package", "400gr"], ["id", 3], ["created_at", "2018-01-17 16:25:23.689131"], ["updated_at", "2018-01-17 16:25:23.689131"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Caffe"], ["label", "Lavazza"], ["package", "250gr"], ["id", 4], ["created_at", "2018-01-17 16:25:23.691122"], ["updated_at", "2018-01-17 16:25:23.691122"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Birra"], ["label", "Peroni"], ["package", "0.66L"], ["id", 5], ["created_at", "2018-01-17 16:25:23.693162"], ["updated_at", "2018-01-17 16:25:23.693162"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dentifricio"], ["label", "Mentadent"], ["package", "75ml"], ["id", 6], ["created_at", "2018-01-17 16:25:23.695139"], ["updated_at", "2018-01-17 16:25:23.695139"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Fazzoletti"], ["label", "Scala"], ["package", "12 Pezzi"], ["id", 7], ["created_at", "2018-01-17 16:25:23.697235"], ["updated_at", "2018-01-17 16:25:23.697235"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Detergente Per Vetri"], ["label", "Vetril"], ["package", "650ml"], ["id", 8], ["created_at", "2018-01-17 16:25:23.701163"], ["updated_at", "2018-01-17 16:25:23.701163"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Tovaglioli"], ["label", "Regina"], ["package", "50 Pezzi"], ["id", 9], ["created_at", "2018-01-17 16:25:23.702949"], ["updated_at", "2018-01-17 16:25:23.702949"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Smacchiatore"], ["label", "Omino Bianco"], ["package", "1L"], ["id", 10], ["created_at", "2018-01-17 16:25:23.706385"], ["updated_at", "2018-01-17 16:25:23.706385"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["status", "t"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:23.709243"], ["updated_at", "2018-01-17 16:25:23.709243"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via risorgimento, 4, 03030 Piedimonte San Germano FR"], ["group", "Gecop"], ["info", "Aperto dalla Domenica al venerdi//08.00-20.00"], ["status", "t"], ["latitude", 41.496175], ["longitude", 13.749178], ["created_at", "2018-01-17 16:25:23.711753"], ["updated_at", "2018-01-17 16:25:23.711753"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "corso achille spatuzzi, 1, 03047 San Giorgio A Liri FR"], ["group", "Sigma"], ["info", "Aperto dal lunedi al sabato//08.00-20.00 martedi riposo"], ["status", "t"], ["latitude", 41.4075891], ["longitude", 13.765525], ["created_at", "2018-01-17 16:25:23.714238"], ["updated_at", "2018-01-17 16:25:23.714238"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "strada statale casilina, 1, 03030 Piedimonte San Germano FR"], ["group", "Carrefour"], ["info", "si rispetteranno gli orari del centro commerciale"], ["status", "t"], ["latitude", 41.492449], ["longitude", 13.761081], ["created_at", "2018-01-17 16:25:23.716530"], ["updated_at", "2018-01-17 16:25:23.716530"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "via melfi urbana, 1, 03037 Pontecorvo FR"], ["group", "Lidl"], ["info", "Aperto dal lunedi al sabato//08.00-20.30"], ["status", "t"], ["latitude", 41.4635807], ["longitude", 13.6649785], ["created_at", "2018-01-17 16:25:23.718665"], ["updated_at", "2018-01-17 16:25:23.718665"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 1], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:23.722358"], ["updated_at", "2018-01-17 16:25:23.722358"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:23.726328"], ["updated_at", "2018-01-17 16:25:23.726328"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 3], ["stock", 50], ["price", 0.99], ["created_at", "2018-01-17 16:25:23.728939"], ["updated_at", "2018-01-17 16:25:23.728939"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 4], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:23.733546"], ["updated_at", "2018-01-17 16:25:23.733546"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 5], ["stock", 50], ["price", 0.89], ["created_at", "2018-01-17 16:25:23.736492"], ["updated_at", "2018-01-17 16:25:23.736492"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 6], ["stock", 50], ["price", 1.33], ["created_at", "2018-01-17 16:25:23.739566"], ["updated_at", "2018-01-17 16:25:23.739566"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 7], ["stock", 50], ["price", 0.51], ["created_at", "2018-01-17 16:25:23.743600"], ["updated_at", "2018-01-17 16:25:23.743600"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:23.746724"], ["updated_at", "2018-01-17 16:25:23.746724"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 9], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:23.749464"], ["updated_at", "2018-01-17 16:25:23.749464"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:23.752809"], ["updated_at", "2018-01-17 16:25:23.752809"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:23.756982"], ["updated_at", "2018-01-17 16:25:23.756982"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:23.759717"], ["updated_at", "2018-01-17 16:25:23.759717"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 4], ["stock", 50], ["price", 3.25], ["created_at", "2018-01-17 16:25:23.762664"], ["updated_at", "2018-01-17 16:25:23.762664"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 5], ["stock", 50], ["price", 0.9], ["created_at", "2018-01-17 16:25:23.765402"], ["updated_at", "2018-01-17 16:25:23.765402"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 6], ["stock", 50], ["price", 1.34], ["created_at", "2018-01-17 16:25:23.769508"], ["updated_at", "2018-01-17 16:25:23.769508"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 7], ["stock", 50], ["price", 0.54], ["created_at", "2018-01-17 16:25:23.772416"], ["updated_at", "2018-01-17 16:25:23.772416"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 8], ["stock", 50], ["price", 1.9], ["created_at", "2018-01-17 16:25:23.775175"], ["updated_at", "2018-01-17 16:25:23.775175"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 9], ["stock", 50], ["price", 2.1], ["created_at", "2018-01-17 16:25:23.778195"], ["updated_at", "2018-01-17 16:25:23.778195"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 10], ["stock", 50], ["price", 3.0], ["created_at", "2018-01-17 16:25:23.780926"], ["updated_at", "2018-01-17 16:25:23.780926"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:23.784656"], ["updated_at", "2018-01-17 16:25:23.784656"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 2], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:23.787602"], ["updated_at", "2018-01-17 16:25:23.787602"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 3], ["stock", 50], ["price", 0.52], ["created_at", "2018-01-17 16:25:23.790393"], ["updated_at", "2018-01-17 16:25:23.790393"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 4], ["stock", 50], ["price", 2.78], ["created_at", "2018-01-17 16:25:23.793026"], ["updated_at", "2018-01-17 16:25:23.793026"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 5], ["stock", 50], ["price", 1.25], ["created_at", "2018-01-17 16:25:23.796771"], ["updated_at", "2018-01-17 16:25:23.796771"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 6], ["stock", 50], ["price", 1.35], ["created_at", "2018-01-17 16:25:23.800524"], ["updated_at", "2018-01-17 16:25:23.800524"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 7], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:23.804421"], ["updated_at", "2018-01-17 16:25:23.804421"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 8], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:23.807112"], ["updated_at", "2018-01-17 16:25:23.807112"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 9], ["stock", 50], ["price", 2.11], ["created_at", "2018-01-17 16:25:23.809915"], ["updated_at", "2018-01-17 16:25:23.809915"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 10], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:23.813069"], ["updated_at", "2018-01-17 16:25:23.813069"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 1], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:23.816247"], ["updated_at", "2018-01-17 16:25:23.816247"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 2], ["stock", 50], ["price", 5.99], ["created_at", "2018-01-17 16:25:23.819428"], ["updated_at", "2018-01-17 16:25:23.819428"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:23.822024"], ["updated_at", "2018-01-17 16:25:23.822024"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 4], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:23.824814"], ["updated_at", "2018-01-17 16:25:23.824814"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 5], ["stock", 50], ["price", 1.0], ["created_at", "2018-01-17 16:25:23.828524"], ["updated_at", "2018-01-17 16:25:23.828524"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 6], ["stock", 50], ["price", 1.29], ["created_at", "2018-01-17 16:25:23.831126"], ["updated_at", "2018-01-17 16:25:23.831126"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 7], ["stock", 50], ["price", 0.6], ["created_at", "2018-01-17 16:25:23.834087"], ["updated_at", "2018-01-17 16:25:23.834087"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 8], ["stock", 50], ["price", 1.87], ["created_at", "2018-01-17 16:25:23.838962"], ["updated_at", "2018-01-17 16:25:23.838962"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 9], ["stock", 50], ["price", 1.99], ["created_at", "2018-01-17 16:25:23.842659"], ["updated_at", "2018-01-17 16:25:23.842659"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 10], ["stock", 50], ["price", 5.0], ["created_at", "2018-01-17 16:25:23.847181"], ["updated_at", "2018-01-17 16:25:23.847181"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 1], ["stock", 50], ["price", 0.72], ["created_at", "2018-01-17 16:25:23.851119"], ["updated_at", "2018-01-17 16:25:23.851119"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 2], ["stock", 50], ["price", 6.02], ["created_at", "2018-01-17 16:25:23.854104"], ["updated_at", "2018-01-17 16:25:23.854104"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 3], ["stock", 50], ["price", 1.12], ["created_at", "2018-01-17 16:25:23.856981"], ["updated_at", "2018-01-17 16:25:23.856981"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 4], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:23.859765"], ["updated_at", "2018-01-17 16:25:23.859765"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 5], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:23.862506"], ["updated_at", "2018-01-17 16:25:23.862506"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 6], ["stock", 50], ["price", 1.1], ["created_at", "2018-01-17 16:25:23.866857"], ["updated_at", "2018-01-17 16:25:23.866857"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 7], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:23.869702"], ["updated_at", "2018-01-17 16:25:23.869702"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:23.873445"], ["updated_at", "2018-01-17 16:25:23.873445"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 9], ["stock", 50], ["price", 2.05], ["created_at", "2018-01-17 16:25:23.877255"], ["updated_at", "2018-01-17 16:25:23.877255"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.2ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1[0m
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.6ms)
Started POST "/login" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"flavioasdf@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "flavioasdf@gmail.com"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/users/1" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  Rendered users/show.html.erb within layouts/application (1.4ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.1ms)
Started POST "/links/check" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by LinksController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"address"=>"via saudoni, 42, 03030 Castrocielo FR", "range"=>"6"}, "commit"=>"SMART SHOPPING"}
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2018-01-17 16:25:23.925870"], ["updated_at", "2018-01-17 16:25:23.925870"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (3.2ms)
Completed 200 OK in 12ms (Views: 5.7ms | ActiveRecord: 1.0ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"1", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 1], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:23.945895"], ["updated_at", "2018-01-17 16:25:23.945895"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (1.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (4.8ms)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 1.5ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"2", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:23.970002"], ["updated_at", "2018-01-17 16:25:23.970002"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (4.7ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.5ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"3", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 3], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:23.994097"], ["updated_at", "2018-01-17 16:25:23.994097"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:23 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.3ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.9ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.0ms)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 1.8ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"4", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 4], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:24.019498"], ["updated_at", "2018-01-17 16:25:24.019498"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (6.0ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"5", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 5], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:24.046383"], ["updated_at", "2018-01-17 16:25:24.046383"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (6.5ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"6", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:24.072054"], ["updated_at", "2018-01-17 16:25:24.072054"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.0ms)
Completed 200 OK in 12ms (Views: 9.3ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"7", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 7], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:24.097965"], ["updated_at", "2018-01-17 16:25:24.097965"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (9.0ms)
Completed 200 OK in 13ms (Views: 11.0ms | ActiveRecord: 0.9ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"8", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 8], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:24.125170"], ["updated_at", "2018-01-17 16:25:24.125170"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.9ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.2ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (12.9ms)
Completed 200 OK in 20ms (Views: 15.7ms | ActiveRecord: 2.0ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"9", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 9], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:24.161292"], ["updated_at", "2018-01-17 16:25:24.161292"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (9.9ms)
Completed 200 OK in 16ms (Views: 13.7ms | ActiveRecord: 1.0ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"10", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 10], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:24.191619"], ["updated_at", "2018-01-17 16:25:24.191619"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (10.1ms)
Completed 200 OK in 15ms (Views: 11.6ms | ActiveRecord: 1.3ms)
Started POST "/links_third/check" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by LinksThirdController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"count"=>"5"}, "commit"=>"Go to smart shopping"}
Redirected to http://www.example.com/smart_shopping_cf
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/smart_shopping_cf" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SmartShoppingController#corefunction as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mMarket Load (0.3ms)[0m  SELECT markets.*, (111.19492664455873 * ABS(markets.latitude - 41.4729934) * 0.7071067811865475) + (96.29763124613503 * ABS(markets.longitude - 13.6842442) * 0.7071067811865475) AS distance, CASE WHEN (markets.latitude >= 41.4729934 AND markets.longitude >= 13.6842442) THEN  45.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude >= 13.6842442) THEN 135.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude <  13.6842442) THEN 225.0 WHEN (markets.latitude >= 41.4729934 AND markets.longitude <  13.6842442) THEN 315.0 END AS bearing FROM "markets" WHERE (markets.latitude BETWEEN 41.419034103644876 AND 41.526952696355124 AND markets.longitude BETWEEN 13.612228180650668 AND 13.756260219349333)  ORDER BY distance ASC
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 5]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 5]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 2]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 5]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 1]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 5]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 5]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMarket Load (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mMarket Load (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered smart_shopping/corefunction.html.erb within layouts/application (12.8ms)
Completed 200 OK in 27ms (Views: 13.8ms | ActiveRecord: 3.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$EKwsV0jU1dsuASWTgu14cORIgrAoOfrCF6W3SVicRdf/J1l90gLlC"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:24.276445"], ["updated_at", "2018-01-17 16:25:24.276445"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Mezze Penne"], ["label", "Barilla"], ["package", "500gr"], ["id", 1], ["created_at", "2018-01-17 16:25:24.278825"], ["updated_at", "2018-01-17 16:25:24.278825"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Olio Extra Vergine"], ["label", "Monini"], ["package", "1L"], ["id", 2], ["created_at", "2018-01-17 16:25:24.281445"], ["updated_at", "2018-01-17 16:25:24.281445"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Passata Di Pomodoro"], ["label", "Mutti"], ["package", "400gr"], ["id", 3], ["created_at", "2018-01-17 16:25:24.284246"], ["updated_at", "2018-01-17 16:25:24.284246"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Caffe"], ["label", "Lavazza"], ["package", "250gr"], ["id", 4], ["created_at", "2018-01-17 16:25:24.286019"], ["updated_at", "2018-01-17 16:25:24.286019"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Birra"], ["label", "Peroni"], ["package", "0.66L"], ["id", 5], ["created_at", "2018-01-17 16:25:24.288402"], ["updated_at", "2018-01-17 16:25:24.288402"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Dentifricio"], ["label", "Mentadent"], ["package", "75ml"], ["id", 6], ["created_at", "2018-01-17 16:25:24.291173"], ["updated_at", "2018-01-17 16:25:24.291173"]]
  [1m[36m (0.9ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Fazzoletti"], ["label", "Scala"], ["package", "12 Pezzi"], ["id", 7], ["created_at", "2018-01-17 16:25:24.294051"], ["updated_at", "2018-01-17 16:25:24.294051"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Detergente Per Vetri"], ["label", "Vetril"], ["package", "650ml"], ["id", 8], ["created_at", "2018-01-17 16:25:24.296337"], ["updated_at", "2018-01-17 16:25:24.296337"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Tovaglioli"], ["label", "Regina"], ["package", "50 Pezzi"], ["id", 9], ["created_at", "2018-01-17 16:25:24.298218"], ["updated_at", "2018-01-17 16:25:24.298218"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Smacchiatore"], ["label", "Omino Bianco"], ["package", "1L"], ["id", 10], ["created_at", "2018-01-17 16:25:24.300155"], ["updated_at", "2018-01-17 16:25:24.300155"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["status", "t"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:24.302606"], ["updated_at", "2018-01-17 16:25:24.302606"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "via risorgimento, 4, 03030 Piedimonte San Germano FR"], ["group", "Gecop"], ["info", "Aperto dalla Domenica al venerdi//08.00-20.00"], ["status", "t"], ["latitude", 41.496175], ["longitude", 13.749178], ["created_at", "2018-01-17 16:25:24.305005"], ["updated_at", "2018-01-17 16:25:24.305005"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "corso achille spatuzzi, 1, 03047 San Giorgio A Liri FR"], ["group", "Sigma"], ["info", "Aperto dal lunedi al sabato//08.00-20.00 martedi riposo"], ["status", "t"], ["latitude", 41.4075891], ["longitude", 13.765525], ["created_at", "2018-01-17 16:25:24.306925"], ["updated_at", "2018-01-17 16:25:24.306925"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "strada statale casilina, 1, 03030 Piedimonte San Germano FR"], ["group", "Carrefour"], ["info", "si rispetteranno gli orari del centro commerciale"], ["status", "t"], ["latitude", 41.492449], ["longitude", 13.761081], ["created_at", "2018-01-17 16:25:24.310060"], ["updated_at", "2018-01-17 16:25:24.310060"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via melfi urbana, 1, 03037 Pontecorvo FR"], ["group", "Lidl"], ["info", "Aperto dal lunedi al sabato//08.00-20.30"], ["status", "t"], ["latitude", 41.4635807], ["longitude", 13.6649785], ["created_at", "2018-01-17 16:25:24.312559"], ["updated_at", "2018-01-17 16:25:24.312559"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 1], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:24.316769"], ["updated_at", "2018-01-17 16:25:24.316769"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:24.319580"], ["updated_at", "2018-01-17 16:25:24.319580"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 3], ["stock", 50], ["price", 0.99], ["created_at", "2018-01-17 16:25:24.323642"], ["updated_at", "2018-01-17 16:25:24.323642"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 4], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:24.326199"], ["updated_at", "2018-01-17 16:25:24.326199"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 5], ["stock", 50], ["price", 0.89], ["created_at", "2018-01-17 16:25:24.328769"], ["updated_at", "2018-01-17 16:25:24.328769"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 6], ["stock", 50], ["price", 1.33], ["created_at", "2018-01-17 16:25:24.331671"], ["updated_at", "2018-01-17 16:25:24.331671"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 7], ["stock", 50], ["price", 0.51], ["created_at", "2018-01-17 16:25:24.334401"], ["updated_at", "2018-01-17 16:25:24.334401"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:24.337049"], ["updated_at", "2018-01-17 16:25:24.337049"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 9], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:24.340327"], ["updated_at", "2018-01-17 16:25:24.340327"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:24.342887"], ["updated_at", "2018-01-17 16:25:24.342887"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:24.345293"], ["updated_at", "2018-01-17 16:25:24.345293"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:24.348220"], ["updated_at", "2018-01-17 16:25:24.348220"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 4], ["stock", 50], ["price", 3.25], ["created_at", "2018-01-17 16:25:24.351140"], ["updated_at", "2018-01-17 16:25:24.351140"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 5], ["stock", 50], ["price", 0.9], ["created_at", "2018-01-17 16:25:24.354458"], ["updated_at", "2018-01-17 16:25:24.354458"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 6], ["stock", 50], ["price", 1.34], ["created_at", "2018-01-17 16:25:24.357465"], ["updated_at", "2018-01-17 16:25:24.357465"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 7], ["stock", 50], ["price", 0.54], ["created_at", "2018-01-17 16:25:24.359839"], ["updated_at", "2018-01-17 16:25:24.359839"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 8], ["stock", 50], ["price", 1.9], ["created_at", "2018-01-17 16:25:24.362454"], ["updated_at", "2018-01-17 16:25:24.362454"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 9], ["stock", 50], ["price", 2.1], ["created_at", "2018-01-17 16:25:24.365266"], ["updated_at", "2018-01-17 16:25:24.365266"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 10], ["stock", 50], ["price", 3.0], ["created_at", "2018-01-17 16:25:24.368635"], ["updated_at", "2018-01-17 16:25:24.368635"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:24.371503"], ["updated_at", "2018-01-17 16:25:24.371503"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 2], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:24.374005"], ["updated_at", "2018-01-17 16:25:24.374005"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 3], ["stock", 50], ["price", 0.52], ["created_at", "2018-01-17 16:25:24.376903"], ["updated_at", "2018-01-17 16:25:24.376903"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 4], ["stock", 50], ["price", 2.78], ["created_at", "2018-01-17 16:25:24.379584"], ["updated_at", "2018-01-17 16:25:24.379584"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 5], ["stock", 50], ["price", 1.25], ["created_at", "2018-01-17 16:25:24.382431"], ["updated_at", "2018-01-17 16:25:24.382431"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 6], ["stock", 50], ["price", 1.35], ["created_at", "2018-01-17 16:25:24.385000"], ["updated_at", "2018-01-17 16:25:24.385000"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.9ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 7], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:24.388215"], ["updated_at", "2018-01-17 16:25:24.388215"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 8], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:24.390706"], ["updated_at", "2018-01-17 16:25:24.390706"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 9], ["stock", 50], ["price", 2.11], ["created_at", "2018-01-17 16:25:24.393241"], ["updated_at", "2018-01-17 16:25:24.393241"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 10], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:24.395533"], ["updated_at", "2018-01-17 16:25:24.395533"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 1], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:24.398284"], ["updated_at", "2018-01-17 16:25:24.398284"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 2], ["stock", 50], ["price", 5.99], ["created_at", "2018-01-17 16:25:24.400934"], ["updated_at", "2018-01-17 16:25:24.400934"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:24.403434"], ["updated_at", "2018-01-17 16:25:24.403434"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 4], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:24.406038"], ["updated_at", "2018-01-17 16:25:24.406038"]]
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 5], ["stock", 50], ["price", 1.0], ["created_at", "2018-01-17 16:25:24.409631"], ["updated_at", "2018-01-17 16:25:24.409631"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 6], ["stock", 50], ["price", 1.29], ["created_at", "2018-01-17 16:25:24.412328"], ["updated_at", "2018-01-17 16:25:24.412328"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 7], ["stock", 50], ["price", 0.6], ["created_at", "2018-01-17 16:25:24.414940"], ["updated_at", "2018-01-17 16:25:24.414940"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 8], ["stock", 50], ["price", 1.87], ["created_at", "2018-01-17 16:25:24.417224"], ["updated_at", "2018-01-17 16:25:24.417224"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 9], ["stock", 50], ["price", 1.99], ["created_at", "2018-01-17 16:25:24.420350"], ["updated_at", "2018-01-17 16:25:24.420350"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 10], ["stock", 50], ["price", 5.0], ["created_at", "2018-01-17 16:25:24.423000"], ["updated_at", "2018-01-17 16:25:24.423000"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 1], ["stock", 50], ["price", 0.72], ["created_at", "2018-01-17 16:25:24.425255"], ["updated_at", "2018-01-17 16:25:24.425255"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 2], ["stock", 50], ["price", 6.02], ["created_at", "2018-01-17 16:25:24.428504"], ["updated_at", "2018-01-17 16:25:24.428504"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 3], ["stock", 50], ["price", 1.12], ["created_at", "2018-01-17 16:25:24.431147"], ["updated_at", "2018-01-17 16:25:24.431147"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 4], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:24.434004"], ["updated_at", "2018-01-17 16:25:24.434004"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 5], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:24.436315"], ["updated_at", "2018-01-17 16:25:24.436315"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 6], ["stock", 50], ["price", 1.1], ["created_at", "2018-01-17 16:25:24.438929"], ["updated_at", "2018-01-17 16:25:24.438929"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 7], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:24.441903"], ["updated_at", "2018-01-17 16:25:24.441903"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:24.444652"], ["updated_at", "2018-01-17 16:25:24.444652"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 9], ["stock", 50], ["price", 2.05], ["created_at", "2018-01-17 16:25:24.447103"], ["updated_at", "2018-01-17 16:25:24.447103"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.4ms)
Started POST "/login" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"flavioasdf@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "flavioasdf@gmail.com"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/users/1" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  Rendered users/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.1ms)
Started POST "/links/check" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by LinksController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"address"=>"via saudoni, 42, 03030 Castrocielo FR", "range"=>"7"}, "commit"=>"SMART SHOPPING"}
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", "2018-01-17 16:25:24.498696"], ["updated_at", "2018-01-17 16:25:24.498696"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (2.8ms)
Completed 200 OK in 20ms (Views: 6.0ms | ActiveRecord: 0.8ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"1", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:24.517966"], ["updated_at", "2018-01-17 16:25:24.517966"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (4.8ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.5ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"2", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 2], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:24.541026"], ["updated_at", "2018-01-17 16:25:24.541026"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (5.4ms)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.5ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"3", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 3], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:24.566338"], ["updated_at", "2018-01-17 16:25:24.566338"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.5ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"4", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:24.592050"], ["updated_at", "2018-01-17 16:25:24.592050"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.9ms)
Completed 200 OK in 14ms (Views: 11.5ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"5", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:24.622052"], ["updated_at", "2018-01-17 16:25:24.622052"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.9ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (11.8ms)
Completed 200 OK in 18ms (Views: 14.7ms | ActiveRecord: 1.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"6", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 6], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:24.660311"], ["updated_at", "2018-01-17 16:25:24.660311"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.1ms)
Completed 200 OK in 13ms (Views: 9.5ms | ActiveRecord: 0.8ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"7", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 7], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:24.692913"], ["updated_at", "2018-01-17 16:25:24.692913"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (12.6ms)
Completed 200 OK in 18ms (Views: 14.9ms | ActiveRecord: 1.6ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"8", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 8], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:24.726797"], ["updated_at", "2018-01-17 16:25:24.726797"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (10.6ms)
Completed 200 OK in 16ms (Views: 13.1ms | ActiveRecord: 1.0ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"9", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 9], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:24.758974"], ["updated_at", "2018-01-17 16:25:24.758974"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (1.1ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (9.8ms)
Completed 200 OK in 15ms (Views: 11.1ms | ActiveRecord: 1.8ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"10", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 10], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:24.791327"], ["updated_at", "2018-01-17 16:25:24.791327"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 10]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (8.7ms)
Completed 200 OK in 14ms (Views: 11.0ms | ActiveRecord: 0.9ms)
Started POST "/links_third/check" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by LinksThirdController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"count"=>"5"}, "commit"=>"Go to smart shopping"}
Redirected to http://www.example.com/smart_shopping_cf
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/smart_shopping_cf" for 127.0.0.1 at 2018-01-17 17:25:24 +0100
Processing by SmartShoppingController#corefunction as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mMarket Load (0.3ms)[0m  [1mSELECT markets.*, (111.19492664455873 * ABS(markets.latitude - 41.4729934) * 0.7071067811865475) + (96.29763124613503 * ABS(markets.longitude - 13.6842442) * 0.7071067811865475) AS distance, CASE WHEN (markets.latitude >= 41.4729934 AND markets.longitude >= 13.6842442) THEN  45.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude >= 13.6842442) THEN 135.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude <  13.6842442) THEN 225.0 WHEN (markets.latitude >= 41.4729934 AND markets.longitude <  13.6842442) THEN 315.0 END AS bearing FROM "markets" WHERE (markets.latitude BETWEEN 41.41004088758569 AND 41.53594591241431 AND markets.longitude BETWEEN 13.600225510759113 AND 13.768262889240887)  ORDER BY distance ASC[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 5]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 1]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 2]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 4]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 5]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 4]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 5]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 4]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 5]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 1]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 4]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 5]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 1]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 4]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 5]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 4]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 5]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 4]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 5]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 4]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 5]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 4]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 5]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.9ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mMarket Load (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mMarket Load (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 2]]
  Rendered smart_shopping/corefunction.html.erb within layouts/application (13.3ms)
Completed 200 OK in 33ms (Views: 14.0ms | ActiveRecord: 4.7ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$lH70hmRlynb2kTPdsIE9Y.0CE2yEmaxt4mco/v2LWuE0u7eG8ZMPW"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:24.882692"], ["updated_at", "2018-01-17 16:25:24.882692"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Mezze Penne"], ["label", "Barilla"], ["package", "500gr"], ["id", 1], ["created_at", "2018-01-17 16:25:24.885483"], ["updated_at", "2018-01-17 16:25:24.885483"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Olio Extra Vergine"], ["label", "Monini"], ["package", "1L"], ["id", 2], ["created_at", "2018-01-17 16:25:24.887562"], ["updated_at", "2018-01-17 16:25:24.887562"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Passata Di Pomodoro"], ["label", "Mutti"], ["package", "400gr"], ["id", 3], ["created_at", "2018-01-17 16:25:24.889700"], ["updated_at", "2018-01-17 16:25:24.889700"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Caffe"], ["label", "Lavazza"], ["package", "250gr"], ["id", 4], ["created_at", "2018-01-17 16:25:24.892722"], ["updated_at", "2018-01-17 16:25:24.892722"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Birra"], ["label", "Peroni"], ["package", "0.66L"], ["id", 5], ["created_at", "2018-01-17 16:25:24.894651"], ["updated_at", "2018-01-17 16:25:24.894651"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dentifricio"], ["label", "Mentadent"], ["package", "75ml"], ["id", 6], ["created_at", "2018-01-17 16:25:24.896684"], ["updated_at", "2018-01-17 16:25:24.896684"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Fazzoletti"], ["label", "Scala"], ["package", "12 Pezzi"], ["id", 7], ["created_at", "2018-01-17 16:25:24.898475"], ["updated_at", "2018-01-17 16:25:24.898475"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Detergente Per Vetri"], ["label", "Vetril"], ["package", "650ml"], ["id", 8], ["created_at", "2018-01-17 16:25:24.900643"], ["updated_at", "2018-01-17 16:25:24.900643"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Tovaglioli"], ["label", "Regina"], ["package", "50 Pezzi"], ["id", 9], ["created_at", "2018-01-17 16:25:24.902730"], ["updated_at", "2018-01-17 16:25:24.902730"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Smacchiatore"], ["label", "Omino Bianco"], ["package", "1L"], ["id", 10], ["created_at", "2018-01-17 16:25:24.905956"], ["updated_at", "2018-01-17 16:25:24.905956"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["status", "t"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:24.908510"], ["updated_at", "2018-01-17 16:25:24.908510"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via risorgimento, 4, 03030 Piedimonte San Germano FR"], ["group", "Gecop"], ["info", "Aperto dalla Domenica al venerdi//08.00-20.00"], ["status", "t"], ["latitude", 41.496175], ["longitude", 13.749178], ["created_at", "2018-01-17 16:25:24.911685"], ["updated_at", "2018-01-17 16:25:24.911685"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "corso achille spatuzzi, 1, 03047 San Giorgio A Liri FR"], ["group", "Sigma"], ["info", "Aperto dal lunedi al sabato//08.00-20.00 martedi riposo"], ["status", "t"], ["latitude", 41.4075891], ["longitude", 13.765525], ["created_at", "2018-01-17 16:25:24.914763"], ["updated_at", "2018-01-17 16:25:24.914763"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "strada statale casilina, 1, 03030 Piedimonte San Germano FR"], ["group", "Carrefour"], ["info", "si rispetteranno gli orari del centro commerciale"], ["status", "t"], ["latitude", 41.492449], ["longitude", 13.761081], ["created_at", "2018-01-17 16:25:24.917026"], ["updated_at", "2018-01-17 16:25:24.917026"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "via melfi urbana, 1, 03037 Pontecorvo FR"], ["group", "Lidl"], ["info", "Aperto dal lunedi al sabato//08.00-20.30"], ["status", "t"], ["latitude", 41.4635807], ["longitude", 13.6649785], ["created_at", "2018-01-17 16:25:24.919121"], ["updated_at", "2018-01-17 16:25:24.919121"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 1], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:24.923580"], ["updated_at", "2018-01-17 16:25:24.923580"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:24.926577"], ["updated_at", "2018-01-17 16:25:24.926577"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 3], ["stock", 50], ["price", 0.99], ["created_at", "2018-01-17 16:25:24.931108"], ["updated_at", "2018-01-17 16:25:24.931108"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 4], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:24.934546"], ["updated_at", "2018-01-17 16:25:24.934546"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 5], ["stock", 50], ["price", 0.89], ["created_at", "2018-01-17 16:25:24.938179"], ["updated_at", "2018-01-17 16:25:24.938179"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 6], ["stock", 50], ["price", 1.33], ["created_at", "2018-01-17 16:25:24.940816"], ["updated_at", "2018-01-17 16:25:24.940816"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 7], ["stock", 50], ["price", 0.51], ["created_at", "2018-01-17 16:25:24.943781"], ["updated_at", "2018-01-17 16:25:24.943781"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:24.947352"], ["updated_at", "2018-01-17 16:25:24.947352"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 9], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:24.950290"], ["updated_at", "2018-01-17 16:25:24.950290"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:24.952985"], ["updated_at", "2018-01-17 16:25:24.952985"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:24.956287"], ["updated_at", "2018-01-17 16:25:24.956287"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:24.959109"], ["updated_at", "2018-01-17 16:25:24.959109"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 4], ["stock", 50], ["price", 3.25], ["created_at", "2018-01-17 16:25:24.962114"], ["updated_at", "2018-01-17 16:25:24.962114"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 5], ["stock", 50], ["price", 0.9], ["created_at", "2018-01-17 16:25:24.966014"], ["updated_at", "2018-01-17 16:25:24.966014"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 6], ["stock", 50], ["price", 1.34], ["created_at", "2018-01-17 16:25:24.968881"], ["updated_at", "2018-01-17 16:25:24.968881"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 7], ["stock", 50], ["price", 0.54], ["created_at", "2018-01-17 16:25:24.972211"], ["updated_at", "2018-01-17 16:25:24.972211"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 8], ["stock", 50], ["price", 1.9], ["created_at", "2018-01-17 16:25:24.975135"], ["updated_at", "2018-01-17 16:25:24.975135"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 9], ["stock", 50], ["price", 2.1], ["created_at", "2018-01-17 16:25:24.978232"], ["updated_at", "2018-01-17 16:25:24.978232"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 2], ["product_id", 10], ["stock", 50], ["price", 3.0], ["created_at", "2018-01-17 16:25:24.981063"], ["updated_at", "2018-01-17 16:25:24.981063"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:24.984405"], ["updated_at", "2018-01-17 16:25:24.984405"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 2], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:24.987577"], ["updated_at", "2018-01-17 16:25:24.987577"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 3], ["stock", 50], ["price", 0.52], ["created_at", "2018-01-17 16:25:24.990671"], ["updated_at", "2018-01-17 16:25:24.990671"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 4], ["stock", 50], ["price", 2.78], ["created_at", "2018-01-17 16:25:24.993604"], ["updated_at", "2018-01-17 16:25:24.993604"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 5], ["stock", 50], ["price", 1.25], ["created_at", "2018-01-17 16:25:24.996458"], ["updated_at", "2018-01-17 16:25:24.996458"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 6], ["stock", 50], ["price", 1.35], ["created_at", "2018-01-17 16:25:24.999547"], ["updated_at", "2018-01-17 16:25:24.999547"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 7], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:25.002549"], ["updated_at", "2018-01-17 16:25:25.002549"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 8], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:25.005525"], ["updated_at", "2018-01-17 16:25:25.005525"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 9], ["stock", 50], ["price", 2.11], ["created_at", "2018-01-17 16:25:25.008998"], ["updated_at", "2018-01-17 16:25:25.008998"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 3) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 3], ["product_id", 10], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:25.011738"], ["updated_at", "2018-01-17 16:25:25.011738"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 1], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:25.014570"], ["updated_at", "2018-01-17 16:25:25.014570"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 2], ["stock", 50], ["price", 5.99], ["created_at", "2018-01-17 16:25:25.017628"], ["updated_at", "2018-01-17 16:25:25.017628"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:25.021767"], ["updated_at", "2018-01-17 16:25:25.021767"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 4], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:25.024411"], ["updated_at", "2018-01-17 16:25:25.024411"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 5], ["stock", 50], ["price", 1.0], ["created_at", "2018-01-17 16:25:25.027112"], ["updated_at", "2018-01-17 16:25:25.027112"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 6], ["stock", 50], ["price", 1.29], ["created_at", "2018-01-17 16:25:25.030316"], ["updated_at", "2018-01-17 16:25:25.030316"]]
  [1m[36m (0.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 7], ["stock", 50], ["price", 0.6], ["created_at", "2018-01-17 16:25:25.034722"], ["updated_at", "2018-01-17 16:25:25.034722"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 8], ["stock", 50], ["price", 1.87], ["created_at", "2018-01-17 16:25:25.037804"], ["updated_at", "2018-01-17 16:25:25.037804"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 9], ["stock", 50], ["price", 1.99], ["created_at", "2018-01-17 16:25:25.041733"], ["updated_at", "2018-01-17 16:25:25.041733"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 4], ["product_id", 10], ["stock", 50], ["price", 5.0], ["created_at", "2018-01-17 16:25:25.044889"], ["updated_at", "2018-01-17 16:25:25.044889"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 1], ["stock", 50], ["price", 0.72], ["created_at", "2018-01-17 16:25:25.047971"], ["updated_at", "2018-01-17 16:25:25.047971"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 2], ["stock", 50], ["price", 6.02], ["created_at", "2018-01-17 16:25:25.050783"], ["updated_at", "2018-01-17 16:25:25.050783"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 3], ["stock", 50], ["price", 1.12], ["created_at", "2018-01-17 16:25:25.054413"], ["updated_at", "2018-01-17 16:25:25.054413"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 4], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:25.057951"], ["updated_at", "2018-01-17 16:25:25.057951"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 5], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:25.060821"], ["updated_at", "2018-01-17 16:25:25.060821"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 6], ["stock", 50], ["price", 1.1], ["created_at", "2018-01-17 16:25:25.064420"], ["updated_at", "2018-01-17 16:25:25.064420"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 7], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:25.067124"], ["updated_at", "2018-01-17 16:25:25.067124"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:25.070363"], ["updated_at", "2018-01-17 16:25:25.070363"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 5) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 5], ["product_id", 9], ["stock", 50], ["price", 2.05], ["created_at", "2018-01-17 16:25:25.073206"], ["updated_at", "2018-01-17 16:25:25.073206"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1[0m
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.5ms)
Started POST "/login" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"flavioasdf@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "flavioasdf@gmail.com"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  Rendered users/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.2ms)
Started POST "/links/check" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by LinksController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"address"=>"via saudoni, 42, 03030 Castrocielo FR", "range"=>"8"}, "commit"=>"SMART SHOPPING"}
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.2ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2018-01-17 16:25:25.121674"], ["updated_at", "2018-01-17 16:25:25.121674"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (3.3ms)
Completed 200 OK in 12ms (Views: 6.6ms | ActiveRecord: 0.9ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"1", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 1], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:25.146105"], ["updated_at", "2018-01-17 16:25:25.146105"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (5.5ms)
Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 0.6ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"2", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:25.171112"], ["updated_at", "2018-01-17 16:25:25.171112"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (5.5ms)
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"3", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 3], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:25.194390"], ["updated_at", "2018-01-17 16:25:25.194390"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.0ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (4.9ms)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.5ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"4", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 4], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:25.219447"], ["updated_at", "2018-01-17 16:25:25.219447"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (6.3ms)
Completed 200 OK in 11ms (Views: 8.4ms | ActiveRecord: 0.5ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"5", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 5], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:25.244253"], ["updated_at", "2018-01-17 16:25:25.244253"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.2ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.8ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"6", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:25.270312"], ["updated_at", "2018-01-17 16:25:25.270312"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.2ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.2ms)
Completed 200 OK in 14ms (Views: 10.5ms | ActiveRecord: 0.9ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"7", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 7], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:25.299461"], ["updated_at", "2018-01-17 16:25:25.299461"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (8.7ms)
Completed 200 OK in 15ms (Views: 12.0ms | ActiveRecord: 0.9ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"8", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 8], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:25.328739"], ["updated_at", "2018-01-17 16:25:25.328739"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (9.0ms)
Completed 200 OK in 14ms (Views: 11.6ms | ActiveRecord: 0.8ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"9", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 9], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:25.357852"], ["updated_at", "2018-01-17 16:25:25.357852"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.2ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (11.2ms)
Completed 200 OK in 15ms (Views: 12.8ms | ActiveRecord: 1.2ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"10", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 10], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:25.387726"], ["updated_at", "2018-01-17 16:25:25.387726"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.3ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (12.5ms)
Completed 200 OK in 17ms (Views: 13.6ms | ActiveRecord: 1.4ms)
Started POST "/links_third/check" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by LinksThirdController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"count"=>"5"}, "commit"=>"Go to smart shopping"}
Redirected to http://www.example.com/smart_shopping_cf
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/smart_shopping_cf" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by SmartShoppingController#corefunction as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mMarket Load (0.3ms)[0m  SELECT markets.*, (111.19492664455873 * ABS(markets.latitude - 41.4729934) * 0.7071067811865475) + (96.29763124613503 * ABS(markets.longitude - 13.6842442) * 0.7071067811865475) AS distance, CASE WHEN (markets.latitude >= 41.4729934 AND markets.longitude >= 13.6842442) THEN  45.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude >= 13.6842442) THEN 135.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude <  13.6842442) THEN 225.0 WHEN (markets.latitude >= 41.4729934 AND markets.longitude <  13.6842442) THEN 315.0 END AS bearing FROM "markets" WHERE (markets.latitude BETWEEN 41.4010476715265 AND 41.5449391284735 AND markets.longitude BETWEEN 13.588222840867557 AND 13.780265559132443)  ORDER BY distance ASC
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 4]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 3]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 5]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 4]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 3]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 4]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 3]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 5]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 1]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 2]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 4]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 3]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 4]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 3]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 5]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 2]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 4]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 3]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 4]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 3]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 5]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 4]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 3]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 2]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 4]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 3]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 5]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 1]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 2]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 4]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMarket Load (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mMarket Load (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mMarket Load (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered smart_shopping/corefunction.html.erb within layouts/application (14.6ms)
Completed 200 OK in 37ms (Views: 15.4ms | ActiveRecord: 5.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$DRuJkjpkRmuR81y9ZudVJO0P5hDbQZWuSX33FL/rotBgq5wTO6OVu"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:25.488433"], ["updated_at", "2018-01-17 16:25:25.488433"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Mezze Penne"], ["label", "Barilla"], ["package", "500gr"], ["id", 1], ["created_at", "2018-01-17 16:25:25.491755"], ["updated_at", "2018-01-17 16:25:25.491755"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Olio Extra Vergine"], ["label", "Monini"], ["package", "1L"], ["id", 2], ["created_at", "2018-01-17 16:25:25.494472"], ["updated_at", "2018-01-17 16:25:25.494472"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Passata Di Pomodoro"], ["label", "Mutti"], ["package", "400gr"], ["id", 3], ["created_at", "2018-01-17 16:25:25.497389"], ["updated_at", "2018-01-17 16:25:25.497389"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Caffe"], ["label", "Lavazza"], ["package", "250gr"], ["id", 4], ["created_at", "2018-01-17 16:25:25.499468"], ["updated_at", "2018-01-17 16:25:25.499468"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Birra"], ["label", "Peroni"], ["package", "0.66L"], ["id", 5], ["created_at", "2018-01-17 16:25:25.501445"], ["updated_at", "2018-01-17 16:25:25.501445"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Dentifricio"], ["label", "Mentadent"], ["package", "75ml"], ["id", 6], ["created_at", "2018-01-17 16:25:25.504104"], ["updated_at", "2018-01-17 16:25:25.504104"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Fazzoletti"], ["label", "Scala"], ["package", "12 Pezzi"], ["id", 7], ["created_at", "2018-01-17 16:25:25.506338"], ["updated_at", "2018-01-17 16:25:25.506338"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Detergente Per Vetri"], ["label", "Vetril"], ["package", "650ml"], ["id", 8], ["created_at", "2018-01-17 16:25:25.509443"], ["updated_at", "2018-01-17 16:25:25.509443"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Tovaglioli"], ["label", "Regina"], ["package", "50 Pezzi"], ["id", 9], ["created_at", "2018-01-17 16:25:25.512461"], ["updated_at", "2018-01-17 16:25:25.512461"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Smacchiatore"], ["label", "Omino Bianco"], ["package", "1L"], ["id", 10], ["created_at", "2018-01-17 16:25:25.514770"], ["updated_at", "2018-01-17 16:25:25.514770"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["status", "t"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:25.518514"], ["updated_at", "2018-01-17 16:25:25.518514"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "via risorgimento, 4, 03030 Piedimonte San Germano FR"], ["group", "Gecop"], ["info", "Aperto dalla Domenica al venerdi//08.00-20.00"], ["status", "t"], ["latitude", 41.496175], ["longitude", 13.749178], ["created_at", "2018-01-17 16:25:25.521338"], ["updated_at", "2018-01-17 16:25:25.521338"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "corso achille spatuzzi, 1, 03047 San Giorgio A Liri FR"], ["group", "Sigma"], ["info", "Aperto dal lunedi al sabato//08.00-20.00 martedi riposo"], ["status", "t"], ["latitude", 41.4075891], ["longitude", 13.765525], ["created_at", "2018-01-17 16:25:25.524080"], ["updated_at", "2018-01-17 16:25:25.524080"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "strada statale casilina, 1, 03030 Piedimonte San Germano FR"], ["group", "Carrefour"], ["info", "si rispetteranno gli orari del centro commerciale"], ["status", "t"], ["latitude", 41.492449], ["longitude", 13.761081], ["created_at", "2018-01-17 16:25:25.526720"], ["updated_at", "2018-01-17 16:25:25.526720"]]
  [1m[36m (1.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via melfi urbana, 1, 03037 Pontecorvo FR"], ["group", "Lidl"], ["info", "Aperto dal lunedi al sabato//08.00-20.30"], ["status", "t"], ["latitude", 41.4635807], ["longitude", 13.6649785], ["created_at", "2018-01-17 16:25:25.529882"], ["updated_at", "2018-01-17 16:25:25.529882"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 1], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:25.534018"], ["updated_at", "2018-01-17 16:25:25.534018"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:25.538293"], ["updated_at", "2018-01-17 16:25:25.538293"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 3], ["stock", 50], ["price", 0.99], ["created_at", "2018-01-17 16:25:25.541475"], ["updated_at", "2018-01-17 16:25:25.541475"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 4], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:25.544077"], ["updated_at", "2018-01-17 16:25:25.544077"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 5], ["stock", 50], ["price", 0.89], ["created_at", "2018-01-17 16:25:25.547548"], ["updated_at", "2018-01-17 16:25:25.547548"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 6], ["stock", 50], ["price", 1.33], ["created_at", "2018-01-17 16:25:25.550844"], ["updated_at", "2018-01-17 16:25:25.550844"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 7], ["stock", 50], ["price", 0.51], ["created_at", "2018-01-17 16:25:25.553225"], ["updated_at", "2018-01-17 16:25:25.553225"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:25.555646"], ["updated_at", "2018-01-17 16:25:25.555646"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 9], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:25.558450"], ["updated_at", "2018-01-17 16:25:25.558450"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:25.562191"], ["updated_at", "2018-01-17 16:25:25.562191"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:25.565152"], ["updated_at", "2018-01-17 16:25:25.565152"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:25.567587"], ["updated_at", "2018-01-17 16:25:25.567587"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 4], ["stock", 50], ["price", 3.25], ["created_at", "2018-01-17 16:25:25.570292"], ["updated_at", "2018-01-17 16:25:25.570292"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.0ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 5], ["stock", 50], ["price", 0.9], ["created_at", "2018-01-17 16:25:25.573062"], ["updated_at", "2018-01-17 16:25:25.573062"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 6], ["stock", 50], ["price", 1.34], ["created_at", "2018-01-17 16:25:25.576302"], ["updated_at", "2018-01-17 16:25:25.576302"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 7], ["stock", 50], ["price", 0.54], ["created_at", "2018-01-17 16:25:25.578963"], ["updated_at", "2018-01-17 16:25:25.578963"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 8], ["stock", 50], ["price", 1.9], ["created_at", "2018-01-17 16:25:25.581729"], ["updated_at", "2018-01-17 16:25:25.581729"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 9], ["stock", 50], ["price", 2.1], ["created_at", "2018-01-17 16:25:25.584990"], ["updated_at", "2018-01-17 16:25:25.584990"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 10], ["stock", 50], ["price", 3.0], ["created_at", "2018-01-17 16:25:25.587559"], ["updated_at", "2018-01-17 16:25:25.587559"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:25.590206"], ["updated_at", "2018-01-17 16:25:25.590206"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 2], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:25.593198"], ["updated_at", "2018-01-17 16:25:25.593198"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 3], ["stock", 50], ["price", 0.52], ["created_at", "2018-01-17 16:25:25.595883"], ["updated_at", "2018-01-17 16:25:25.595883"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 4], ["stock", 50], ["price", 2.78], ["created_at", "2018-01-17 16:25:25.598570"], ["updated_at", "2018-01-17 16:25:25.598570"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 5], ["stock", 50], ["price", 1.25], ["created_at", "2018-01-17 16:25:25.601028"], ["updated_at", "2018-01-17 16:25:25.601028"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 6], ["stock", 50], ["price", 1.35], ["created_at", "2018-01-17 16:25:25.604825"], ["updated_at", "2018-01-17 16:25:25.604825"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 7], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:25.607126"], ["updated_at", "2018-01-17 16:25:25.607126"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 8], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:25.609639"], ["updated_at", "2018-01-17 16:25:25.609639"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 9], ["stock", 50], ["price", 2.11], ["created_at", "2018-01-17 16:25:25.612366"], ["updated_at", "2018-01-17 16:25:25.612366"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 10], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:25.614908"], ["updated_at", "2018-01-17 16:25:25.614908"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 1], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:25.618074"], ["updated_at", "2018-01-17 16:25:25.618074"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 2], ["stock", 50], ["price", 5.99], ["created_at", "2018-01-17 16:25:25.620215"], ["updated_at", "2018-01-17 16:25:25.620215"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.8ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:25.624277"], ["updated_at", "2018-01-17 16:25:25.624277"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 4], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:25.627410"], ["updated_at", "2018-01-17 16:25:25.627410"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 5], ["stock", 50], ["price", 1.0], ["created_at", "2018-01-17 16:25:25.629962"], ["updated_at", "2018-01-17 16:25:25.629962"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 6], ["stock", 50], ["price", 1.29], ["created_at", "2018-01-17 16:25:25.633736"], ["updated_at", "2018-01-17 16:25:25.633736"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 7], ["stock", 50], ["price", 0.6], ["created_at", "2018-01-17 16:25:25.638040"], ["updated_at", "2018-01-17 16:25:25.638040"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 8], ["stock", 50], ["price", 1.87], ["created_at", "2018-01-17 16:25:25.640780"], ["updated_at", "2018-01-17 16:25:25.640780"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 9], ["stock", 50], ["price", 1.99], ["created_at", "2018-01-17 16:25:25.643823"], ["updated_at", "2018-01-17 16:25:25.643823"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 10], ["stock", 50], ["price", 5.0], ["created_at", "2018-01-17 16:25:25.648556"], ["updated_at", "2018-01-17 16:25:25.648556"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 1], ["stock", 50], ["price", 0.72], ["created_at", "2018-01-17 16:25:25.651825"], ["updated_at", "2018-01-17 16:25:25.651825"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 2], ["stock", 50], ["price", 6.02], ["created_at", "2018-01-17 16:25:25.654417"], ["updated_at", "2018-01-17 16:25:25.654417"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 3], ["stock", 50], ["price", 1.12], ["created_at", "2018-01-17 16:25:25.657138"], ["updated_at", "2018-01-17 16:25:25.657138"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 4], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:25.660268"], ["updated_at", "2018-01-17 16:25:25.660268"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 5], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:25.663144"], ["updated_at", "2018-01-17 16:25:25.663144"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 6], ["stock", 50], ["price", 1.1], ["created_at", "2018-01-17 16:25:25.665989"], ["updated_at", "2018-01-17 16:25:25.665989"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 7], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:25.668779"], ["updated_at", "2018-01-17 16:25:25.668779"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:25.671117"], ["updated_at", "2018-01-17 16:25:25.671117"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 9], ["stock", 50], ["price", 2.05], ["created_at", "2018-01-17 16:25:25.673972"], ["updated_at", "2018-01-17 16:25:25.673972"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.4ms)
Started POST "/login" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"flavioasdf@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "flavioasdf@gmail.com"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/users/1" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  Rendered users/show.html.erb within layouts/application (1.8ms)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.2ms)
Started POST "/links/check" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by LinksController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"address"=>"via saudoni, 42, 03030 Castrocielo FR", "range"=>""}, "commit"=>"SMART SHOPPING"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/users/1" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  Rendered users/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$mWAHsJyiBai/pkJ8YPd4CuXhBO1bFGA8dc5ZccyOB87mP/ZKo0Hae"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:25.729054"], ["updated_at", "2018-01-17 16:25:25.729054"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Mezze Penne"], ["label", "Barilla"], ["package", "500gr"], ["id", 1], ["created_at", "2018-01-17 16:25:25.731338"], ["updated_at", "2018-01-17 16:25:25.731338"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Olio Extra Vergine"], ["label", "Monini"], ["package", "1L"], ["id", 2], ["created_at", "2018-01-17 16:25:25.734242"], ["updated_at", "2018-01-17 16:25:25.734242"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Passata Di Pomodoro"], ["label", "Mutti"], ["package", "400gr"], ["id", 3], ["created_at", "2018-01-17 16:25:25.735995"], ["updated_at", "2018-01-17 16:25:25.735995"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Caffe"], ["label", "Lavazza"], ["package", "250gr"], ["id", 4], ["created_at", "2018-01-17 16:25:25.746692"], ["updated_at", "2018-01-17 16:25:25.746692"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Birra"], ["label", "Peroni"], ["package", "0.66L"], ["id", 5], ["created_at", "2018-01-17 16:25:25.748365"], ["updated_at", "2018-01-17 16:25:25.748365"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Dentifricio"], ["label", "Mentadent"], ["package", "75ml"], ["id", 6], ["created_at", "2018-01-17 16:25:25.750267"], ["updated_at", "2018-01-17 16:25:25.750267"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Fazzoletti"], ["label", "Scala"], ["package", "12 Pezzi"], ["id", 7], ["created_at", "2018-01-17 16:25:25.753237"], ["updated_at", "2018-01-17 16:25:25.753237"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Detergente Per Vetri"], ["label", "Vetril"], ["package", "650ml"], ["id", 8], ["created_at", "2018-01-17 16:25:25.754605"], ["updated_at", "2018-01-17 16:25:25.754605"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Tovaglioli"], ["label", "Regina"], ["package", "50 Pezzi"], ["id", 9], ["created_at", "2018-01-17 16:25:25.756868"], ["updated_at", "2018-01-17 16:25:25.756868"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Smacchiatore"], ["label", "Omino Bianco"], ["package", "1L"], ["id", 10], ["created_at", "2018-01-17 16:25:25.759579"], ["updated_at", "2018-01-17 16:25:25.759579"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["status", "t"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:25.762943"], ["updated_at", "2018-01-17 16:25:25.762943"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "via risorgimento, 4, 03030 Piedimonte San Germano FR"], ["group", "Gecop"], ["info", "Aperto dalla Domenica al venerdi//08.00-20.00"], ["status", "t"], ["latitude", 41.496175], ["longitude", 13.749178], ["created_at", "2018-01-17 16:25:25.766402"], ["updated_at", "2018-01-17 16:25:25.766402"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "corso achille spatuzzi, 1, 03047 San Giorgio A Liri FR"], ["group", "Sigma"], ["info", "Aperto dal lunedi al sabato//08.00-20.00 martedi riposo"], ["status", "t"], ["latitude", 41.4075891], ["longitude", 13.765525], ["created_at", "2018-01-17 16:25:25.769240"], ["updated_at", "2018-01-17 16:25:25.769240"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "strada statale casilina, 1, 03030 Piedimonte San Germano FR"], ["group", "Carrefour"], ["info", "si rispetteranno gli orari del centro commerciale"], ["status", "t"], ["latitude", 41.492449], ["longitude", 13.761081], ["created_at", "2018-01-17 16:25:25.773005"], ["updated_at", "2018-01-17 16:25:25.773005"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via melfi urbana, 1, 03037 Pontecorvo FR"], ["group", "Lidl"], ["info", "Aperto dal lunedi al sabato//08.00-20.30"], ["status", "t"], ["latitude", 41.4635807], ["longitude", 13.6649785], ["created_at", "2018-01-17 16:25:25.775754"], ["updated_at", "2018-01-17 16:25:25.775754"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 1], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:25.779979"], ["updated_at", "2018-01-17 16:25:25.779979"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:25.782820"], ["updated_at", "2018-01-17 16:25:25.782820"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 3], ["stock", 50], ["price", 0.99], ["created_at", "2018-01-17 16:25:25.786024"], ["updated_at", "2018-01-17 16:25:25.786024"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 4], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:25.789079"], ["updated_at", "2018-01-17 16:25:25.789079"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 5], ["stock", 50], ["price", 0.89], ["created_at", "2018-01-17 16:25:25.792640"], ["updated_at", "2018-01-17 16:25:25.792640"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 6], ["stock", 50], ["price", 1.33], ["created_at", "2018-01-17 16:25:25.795680"], ["updated_at", "2018-01-17 16:25:25.795680"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 7], ["stock", 50], ["price", 0.51], ["created_at", "2018-01-17 16:25:25.798647"], ["updated_at", "2018-01-17 16:25:25.798647"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:25.802690"], ["updated_at", "2018-01-17 16:25:25.802690"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.3ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 9], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:25.806088"], ["updated_at", "2018-01-17 16:25:25.806088"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:25.809328"], ["updated_at", "2018-01-17 16:25:25.809328"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 2], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:25.813750"], ["updated_at", "2018-01-17 16:25:25.813750"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:25.817533"], ["updated_at", "2018-01-17 16:25:25.817533"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 4], ["stock", 50], ["price", 3.25], ["created_at", "2018-01-17 16:25:25.821328"], ["updated_at", "2018-01-17 16:25:25.821328"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 5], ["stock", 50], ["price", 0.9], ["created_at", "2018-01-17 16:25:25.824259"], ["updated_at", "2018-01-17 16:25:25.824259"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.3ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 6], ["stock", 50], ["price", 1.34], ["created_at", "2018-01-17 16:25:25.827485"], ["updated_at", "2018-01-17 16:25:25.827485"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 7], ["stock", 50], ["price", 0.54], ["created_at", "2018-01-17 16:25:25.830252"], ["updated_at", "2018-01-17 16:25:25.830252"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 8], ["stock", 50], ["price", 1.9], ["created_at", "2018-01-17 16:25:25.833615"], ["updated_at", "2018-01-17 16:25:25.833615"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 9], ["stock", 50], ["price", 2.1], ["created_at", "2018-01-17 16:25:25.836632"], ["updated_at", "2018-01-17 16:25:25.836632"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 2], ["product_id", 10], ["stock", 50], ["price", 3.0], ["created_at", "2018-01-17 16:25:25.840071"], ["updated_at", "2018-01-17 16:25:25.840071"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 1], ["stock", 50], ["price", 0.63], ["created_at", "2018-01-17 16:25:25.842524"], ["updated_at", "2018-01-17 16:25:25.842524"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.4ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 2], ["stock", 50], ["price", 2.99], ["created_at", "2018-01-17 16:25:25.846175"], ["updated_at", "2018-01-17 16:25:25.846175"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 3], ["stock", 50], ["price", 0.52], ["created_at", "2018-01-17 16:25:25.849932"], ["updated_at", "2018-01-17 16:25:25.849932"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 4], ["stock", 50], ["price", 2.78], ["created_at", "2018-01-17 16:25:25.853682"], ["updated_at", "2018-01-17 16:25:25.853682"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 5], ["stock", 50], ["price", 1.25], ["created_at", "2018-01-17 16:25:25.857738"], ["updated_at", "2018-01-17 16:25:25.857738"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 6], ["stock", 50], ["price", 1.35], ["created_at", "2018-01-17 16:25:25.860561"], ["updated_at", "2018-01-17 16:25:25.860561"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 7], ["stock", 50], ["price", 0.75], ["created_at", "2018-01-17 16:25:25.863532"], ["updated_at", "2018-01-17 16:25:25.863532"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 8], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:25.866233"], ["updated_at", "2018-01-17 16:25:25.866233"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 9], ["stock", 50], ["price", 2.11], ["created_at", "2018-01-17 16:25:25.869054"], ["updated_at", "2018-01-17 16:25:25.869054"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 3) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 3], ["product_id", 10], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:25.872487"], ["updated_at", "2018-01-17 16:25:25.872487"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 1], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:25.875232"], ["updated_at", "2018-01-17 16:25:25.875232"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 2], ["stock", 50], ["price", 5.99], ["created_at", "2018-01-17 16:25:25.878156"], ["updated_at", "2018-01-17 16:25:25.878156"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 3], ["stock", 50], ["price", 0.87], ["created_at", "2018-01-17 16:25:25.880980"], ["updated_at", "2018-01-17 16:25:25.880980"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 4], ["stock", 50], ["price", 4.0], ["created_at", "2018-01-17 16:25:25.884463"], ["updated_at", "2018-01-17 16:25:25.884463"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 5], ["stock", 50], ["price", 1.0], ["created_at", "2018-01-17 16:25:25.887815"], ["updated_at", "2018-01-17 16:25:25.887815"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 6], ["stock", 50], ["price", 1.29], ["created_at", "2018-01-17 16:25:25.890749"], ["updated_at", "2018-01-17 16:25:25.890749"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 7], ["stock", 50], ["price", 0.6], ["created_at", "2018-01-17 16:25:25.894883"], ["updated_at", "2018-01-17 16:25:25.894883"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.3ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 8], ["stock", 50], ["price", 1.87], ["created_at", "2018-01-17 16:25:25.898133"], ["updated_at", "2018-01-17 16:25:25.898133"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 9], ["stock", 50], ["price", 1.99], ["created_at", "2018-01-17 16:25:25.903316"], ["updated_at", "2018-01-17 16:25:25.903316"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 4) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 4], ["product_id", 10], ["stock", 50], ["price", 5.0], ["created_at", "2018-01-17 16:25:25.908369"], ["updated_at", "2018-01-17 16:25:25.908369"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 1], ["stock", 50], ["price", 0.72], ["created_at", "2018-01-17 16:25:25.911144"], ["updated_at", "2018-01-17 16:25:25.911144"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.3ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 2], ["stock", 50], ["price", 6.02], ["created_at", "2018-01-17 16:25:25.914736"], ["updated_at", "2018-01-17 16:25:25.914736"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 3], ["stock", 50], ["price", 1.12], ["created_at", "2018-01-17 16:25:25.917665"], ["updated_at", "2018-01-17 16:25:25.917665"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 4], ["stock", 50], ["price", 3.99], ["created_at", "2018-01-17 16:25:25.921576"], ["updated_at", "2018-01-17 16:25:25.921576"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 5], ["stock", 50], ["price", 2.0], ["created_at", "2018-01-17 16:25:25.925223"], ["updated_at", "2018-01-17 16:25:25.925223"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 6], ["stock", 50], ["price", 1.1], ["created_at", "2018-01-17 16:25:25.929301"], ["updated_at", "2018-01-17 16:25:25.929301"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 7], ["stock", 50], ["price", 0.5], ["created_at", "2018-01-17 16:25:25.931785"], ["updated_at", "2018-01-17 16:25:25.931785"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 8], ["stock", 50], ["price", 1.47], ["created_at", "2018-01-17 16:25:25.934522"], ["updated_at", "2018-01-17 16:25:25.934522"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 5) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 5], ["product_id", 9], ["stock", 50], ["price", 2.05], ["created_at", "2018-01-17 16:25:25.937330"], ["updated_at", "2018-01-17 16:25:25.937330"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.6ms)
Started POST "/login" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"flavioasdf@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "flavioasdf@gmail.com"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/users/1" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  Rendered users/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.1ms)
Started POST "/links/check" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by LinksController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"address"=>"", "range"=>"10"}, "commit"=>"SMART SHOPPING"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:25 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2018-01-17 16:25:25.986002"], ["updated_at", "2018-01-17 16:25:25.986002"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (3.8ms)
Completed 200 OK in 11ms (Views: 6.2ms | ActiveRecord: 0.8ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"1", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 1], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:26.006144"], ["updated_at", "2018-01-17 16:25:26.006144"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (3.6ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.5ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"2", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:26.031528"], ["updated_at", "2018-01-17 16:25:26.031528"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (4.5ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.5ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"3", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 3], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:26.054472"], ["updated_at", "2018-01-17 16:25:26.054472"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.2ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (5.5ms)
Completed 200 OK in 11ms (Views: 7.4ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"4", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 4], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:26.080133"], ["updated_at", "2018-01-17 16:25:26.080133"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (5.5ms)
Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"5", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 5], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:26.104100"], ["updated_at", "2018-01-17 16:25:26.104100"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (6.2ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.7ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"6", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:26.128978"], ["updated_at", "2018-01-17 16:25:26.128978"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.9ms)
Completed 200 OK in 15ms (Views: 10.8ms | ActiveRecord: 1.1ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"7", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 7], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:26.159162"], ["updated_at", "2018-01-17 16:25:26.159162"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.6ms)
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.9ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"8", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 8], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:26.186681"], ["updated_at", "2018-01-17 16:25:26.186681"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.1ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (7.7ms)
Completed 200 OK in 13ms (Views: 10.1ms | ActiveRecord: 1.0ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"9", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["product_id", 9], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:26.214203"], ["updated_at", "2018-01-17 16:25:26.214203"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mShopper Load (0.0ms)[0m  [1mSELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRequest Load (0.1ms)[0m  [1mSELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (9.1ms)
Completed 200 OK in 14ms (Views: 11.0ms | ActiveRecord: 1.0ms)
Started POST "/requests" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by RequestsController#create as HTML
  Parameters: {"utf8"=>"✓", "request"=>{"product_id"=>"10", "shopper_id"=>"1"}, "commit"=>"add product"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "requests" ("product_id", "shopper_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 10], ["shopper_id", 1], ["created_at", "2018-01-17 16:25:26.241971"], ["updated_at", "2018-01-17 16:25:26.241971"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/smart_shopping/makelist
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/smart_shopping/makelist" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by SmartShoppingController#makelist as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.1ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRequest Load (0.1ms)[0m  SELECT "requests".* FROM "requests" WHERE "requests"."shopper_id" = ?  [["shopper_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  Rendered smart_shopping/makelist.html.erb within layouts/application (8.6ms)
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 0.8ms)
Started POST "/links_third/check" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by LinksThirdController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"count"=>"5"}, "commit"=>"Go to smart shopping"}
Redirected to http://www.example.com/smart_shopping_cf
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/smart_shopping_cf" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by SmartShoppingController#corefunction as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mShopper Load (0.0ms)[0m  SELECT  "shoppers".* FROM "shoppers" WHERE "shoppers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mMarket Load (0.3ms)[0m  SELECT markets.*, (111.19492664455873 * ABS(markets.latitude - 41.4729934) * 0.7071067811865475) + (96.29763124613503 * ABS(markets.longitude - 13.6842442) * 0.7071067811865475) AS distance, CASE WHEN (markets.latitude >= 41.4729934 AND markets.longitude >= 13.6842442) THEN  45.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude >= 13.6842442) THEN 135.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude <  13.6842442) THEN 225.0 WHEN (markets.latitude >= 41.4729934 AND markets.longitude <  13.6842442) THEN 315.0 END AS bearing FROM "markets" WHERE (markets.latitude BETWEEN 41.38306123940813 AND 41.56292556059187 AND markets.longitude BETWEEN 13.564217501084448 AND 13.804270898915552)  ORDER BY distance ASC
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "requests" ON "products"."id" = "requests"."product_id" WHERE "requests"."shopper_id" = ?[0m  [["shopper_id", 1]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 1], ["market_id", 4]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 1], ["market_id", 3]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 5]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 1]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 2]]
  [1m[35mOwner Load (0.0ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 2], ["market_id", 4]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 2], ["market_id", 3]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 5]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 3], ["market_id", 4]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 3], ["market_id", 3]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 5]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 1]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 2]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 4], ["market_id", 4]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 4], ["market_id", 3]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 5], ["market_id", 4]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 5], ["market_id", 3]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 5]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 1]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 2]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 6], ["market_id", 4]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 6], ["market_id", 3]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 7], ["market_id", 4]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 7], ["market_id", 3]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 5]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 1]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 2]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 8], ["market_id", 4]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 8], ["market_id", 3]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 5]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 1]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 2]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 9], ["market_id", 4]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 9], ["market_id", 3]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 5]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 1]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 2]]
  [1m[35mOwner Load (0.1ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1  [["product_id", 10], ["market_id", 4]]
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."product_id" = ? AND "owners"."market_id" = ? LIMIT 1[0m  [["product_id", 10], ["market_id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mMarket Load (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mMarket Load (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mMarket Load (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered smart_shopping/corefunction.html.erb within layouts/application (12.5ms)
Completed 200 OK in 39ms (Views: 14.7ms | ActiveRecord: 5.1ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsaminore456@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsaminore456@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$IamMj9JnxLPU6HeirB/ihekW16tzIZbpmjXiuGipgwpktcX7ICpN."], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:26.343265"], ["updated_at", "2018-01-17 16:25:26.343265"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:26.346176"], ["updated_at", "2018-01-17 16:25:26.346176"]]
  [1m[35m (0.9ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via risorgimento, 4, 03030 Piedimonte San Germano FR"], ["group", "Gecop"], ["info", "Aperto dalla Domenica al venerdi//08.00-20.00"], ["latitude", 41.496175], ["longitude", 13.749178], ["created_at", "2018-01-17 16:25:26.349722"], ["updated_at", "2018-01-17 16:25:26.349722"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "corso achille spatuzzi, 1, 03047 San Giorgio A Liri FR"], ["group", "Sigma"], ["info", "Aperto dal lunedi al sabato//08.00-20.00 martedi riposo"], ["latitude", 41.4075891], ["longitude", 13.765525], ["created_at", "2018-01-17 16:25:26.352357"], ["updated_at", "2018-01-17 16:25:26.352357"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "strada statale casilina, 1, 03030 Piedimonte San Germano FR"], ["group", "Carrefour"], ["info", "si rispetteranno gli orari del centro commerciale"], ["latitude", 41.492449], ["longitude", 13.761081], ["created_at", "2018-01-17 16:25:26.354836"], ["updated_at", "2018-01-17 16:25:26.354836"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via melfi urbana, 1, 03037 Pontecorvo FR"], ["group", "Lidl"], ["info", "Aperto dal lunedi al sabato//08.00-20.30"], ["latitude", 41.4635807], ["longitude", 13.6649785], ["created_at", "2018-01-17 16:25:26.357382"], ["updated_at", "2018-01-17 16:25:26.357382"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/login" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
  [1m[35mManager Load (0.2ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.8ms)
Started POST "/login" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"orsaminore456@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "orsaminore456@gmail.com"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/users/1" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  Rendered users/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.1ms)
Started POST "/links_second/check" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by LinksSecondController#check as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"address2"=>"via saudoni, 42, 03030 Castrocielo FR", "range2"=>"15"}, "commit"=>"FEEDBACK MARKET"}
Redirected to http://www.example.com/indexmarkets
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/indexmarkets" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by MarketsController#indexmarkets as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "markets" WHERE (markets.latitude BETWEEN 41.33809515911219 AND 41.60789164088781 AND markets.longitude BETWEEN 13.50420415162667 AND 13.86428424837333)[0m
  [1m[35mMarket Load (0.3ms)[0m  SELECT markets.*, (111.19492664455873 * ABS(markets.latitude - 41.4729934) * 0.7071067811865475) + (96.29763124613503 * ABS(markets.longitude - 13.6842442) * 0.7071067811865475) AS distance, CASE WHEN (markets.latitude >= 41.4729934 AND markets.longitude >= 13.6842442) THEN  45.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude >= 13.6842442) THEN 135.0 WHEN (markets.latitude <  41.4729934 AND markets.longitude <  13.6842442) THEN 225.0 WHEN (markets.latitude >= 41.4729934 AND markets.longitude <  13.6842442) THEN 315.0 END AS bearing FROM "markets" WHERE (markets.latitude BETWEEN 41.33809515911219 AND 41.60789164088781 AND markets.longitude BETWEEN 13.50420415162667 AND 13.86428424837333)  ORDER BY distance ASC
  Rendered markets/indexmarkets.html.erb within layouts/application (2.2ms)
Completed 200 OK in 13ms (Views: 10.0ms | ActiveRecord: 0.6ms)
Started GET "/markets/1" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by MarketsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMicropost Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "microposts" WHERE "microposts"."market_id" = ? LIMIT 1[0m  [["market_id", 1]]
  Rendered markets/show.html.erb within layouts/application (4.9ms)
Completed 200 OK in 14ms (Views: 9.0ms | ActiveRecord: 0.6ms)
Started GET "/microposts/new?marketid=1" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by MicropostsController#new as HTML
  Parameters: {"marketid"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered shared/_error_messages5.html.erb (1.0ms)
  Rendered microposts/new.html.erb within layouts/application (9.1ms)
Completed 200 OK in 24ms (Views: 17.2ms | ActiveRecord: 0.5ms)
Started POST "/microposts" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by MicropostsController#create as HTML
  Parameters: {"utf8"=>"✓", "micropost"=>{"content"=>"this is a test", "vote"=>"5", "market_id"=>"1", "user_id"=>"1"}, "commit"=>"Post"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "microposts" ("content", "vote", "user_id", "market_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["content", "this is a test"], ["vote", 5], ["user_id", 1], ["market_id", 1], ["created_at", "2018-01-17 16:25:26.511596"], ["updated_at", "2018-01-17 16:25:26.511596"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/markets/1
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
Started GET "/markets/1" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by MarketsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMicropost Exists (0.1ms)[0m  SELECT  1 AS one FROM "microposts" WHERE "microposts"."market_id" = ? LIMIT 1  [["market_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "microposts" WHERE "microposts"."market_id" = ?[0m  [["market_id", 1]]
  [1m[35mMicropost Load (0.3ms)[0m  SELECT  "microposts".* FROM "microposts" WHERE "microposts"."market_id" = ?  ORDER BY "microposts"."created_at" DESC LIMIT 30 OFFSET 0  [["market_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered microposts/_micropost.html.erb (3.6ms)
  Rendered markets/show.html.erb within layouts/application (10.1ms)
Completed 200 OK in 17ms (Views: 12.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$pbOZEcnJVcmlmPMNkBLRouYneB9MhUW1lqst.d1Ln2.3LDfNsPl6S"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:26.549844"], ["updated_at", "2018-01-17 16:25:26.549844"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/login" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1[0m
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.6ms)
Started POST "/login" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"flavioasdf@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "flavioasdf@gmail.com"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Started GET "/users/1" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  Rendered users/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 11ms (Views: 6.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["yearofbirth", 1958], ["tel", "3395625489"], ["email", "rossi@gmail.com"], ["curriculum", "CurriculumRossi"], ["password_digest", "$2a$04$SCvLjOPieHqfEHpCnX36HOp8zbr1OauUR.YO/.Nl9KL1OJRQ0n97i"], ["created_at", "2018-01-17 16:25:26.600389"], ["updated_at", "2018-01-17 16:25:26.600389"]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:26.605241"], ["updated_at", "2018-01-17 16:25:26.605241"]]
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('rossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?  [["market_id", 1], ["updated_at", "2018-01-17 16:25:26.608853"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Mezze Penne"], ["label", "Barilla"], ["package", "500gr"], ["id", 1], ["created_at", "2018-01-17 16:25:26.613072"], ["updated_at", "2018-01-17 16:25:26.613072"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Olio Extra Vergine"], ["label", "Monini"], ["package", "1L"], ["id", 2], ["created_at", "2018-01-17 16:25:26.617017"], ["updated_at", "2018-01-17 16:25:26.617017"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Passata Di Pomodoro"], ["label", "Mutti"], ["package", "400gr"], ["id", 3], ["created_at", "2018-01-17 16:25:26.620306"], ["updated_at", "2018-01-17 16:25:26.620306"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Caffe"], ["label", "Lavazza"], ["package", "250gr"], ["id", 4], ["created_at", "2018-01-17 16:25:26.622278"], ["updated_at", "2018-01-17 16:25:26.622278"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Birra"], ["label", "Peroni"], ["package", "0.66L"], ["id", 5], ["created_at", "2018-01-17 16:25:26.624469"], ["updated_at", "2018-01-17 16:25:26.624469"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Dentifricio"], ["label", "Mentadent"], ["package", "75ml"], ["id", 6], ["created_at", "2018-01-17 16:25:26.626733"], ["updated_at", "2018-01-17 16:25:26.626733"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Fazzoletti"], ["label", "Scala"], ["package", "12 Pezzi"], ["id", 7], ["created_at", "2018-01-17 16:25:26.629224"], ["updated_at", "2018-01-17 16:25:26.629224"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Detergente Per Vetri"], ["label", "Vetril"], ["package", "650ml"], ["id", 8], ["created_at", "2018-01-17 16:25:26.631780"], ["updated_at", "2018-01-17 16:25:26.631780"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Tovaglioli"], ["label", "Regina"], ["package", "50 Pezzi"], ["id", 9], ["created_at", "2018-01-17 16:25:26.635131"], ["updated_at", "2018-01-17 16:25:26.635131"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Smacchiatore"], ["label", "Omino Bianco"], ["package", "1L"], ["id", 10], ["created_at", "2018-01-17 16:25:26.638762"], ["updated_at", "2018-01-17 16:25:26.638762"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/loginm" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by SessionsmController#new as HTML
  Rendered sessionsm/new.html.erb within layouts/application (1.6ms)
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.3ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1[0m
  [1m[35mAdmin Load (0.2ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1
Completed 200 OK in 13ms (Views: 10.1ms | ActiveRecord: 2.1ms)
Started POST "/loginm" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by SessionsmController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"rossi@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."email" = ? LIMIT 1[0m  [["email", "rossi@gmail.com"]]
Redirected to http://www.example.com/managers/1
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?[0m  [["market_id", 1]]
  Rendered managers/show.html.erb within layouts/application (5.9ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 15ms (Views: 9.9ms | ActiveRecord: 1.1ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"1", "price"=>"0.8", "stock"=>"23", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["product_id", 1], ["market_id", 1], ["price", 0.8], ["stock", 23], ["created_at", "2018-01-17 16:25:26.717081"], ["updated_at", "2018-01-17 16:25:26.717081"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/managers/1
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?[0m  [["market_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  Rendered managers/show.html.erb within layouts/application (6.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 14ms (Views: 9.3ms | ActiveRecord: 0.9ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"2", "price"=>"3.8", "stock"=>"12", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["product_id", 2], ["market_id", 1], ["price", 3.8], ["stock", 12], ["created_at", "2018-01-17 16:25:26.751123"], ["updated_at", "2018-01-17 16:25:26.751123"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/managers/1
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mOwner Load (0.1ms)[0m  SELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?  [["market_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  Rendered managers/show.html.erb within layouts/application (8.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 16ms (Views: 11.0ms | ActiveRecord: 1.3ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"3", "price"=>"0.99", "stock"=>"21", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["product_id", 3], ["market_id", 1], ["price", 0.99], ["stock", 21], ["created_at", "2018-01-17 16:25:26.786001"], ["updated_at", "2018-01-17 16:25:26.786001"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/managers/1
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mOwner Load (0.1ms)[0m  SELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?  [["market_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered managers/show.html.erb within layouts/application (7.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 14ms (Views: 10.0ms | ActiveRecord: 1.1ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"4", "price"=>"2.99", "stock"=>"54", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["product_id", 4], ["market_id", 1], ["price", 2.99], ["stock", 54], ["created_at", "2018-01-17 16:25:26.818592"], ["updated_at", "2018-01-17 16:25:26.818592"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/managers/1
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mManager Load (0.0ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mOwner Load (0.9ms)[0m  [1mSELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?[0m  [["market_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered managers/show.html.erb within layouts/application (7.4ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 14ms (Views: 9.1ms | ActiveRecord: 1.9ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"5", "price"=>"1.1", "stock"=>"60", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["product_id", 5], ["market_id", 1], ["price", 1.1], ["stock", 60], ["created_at", "2018-01-17 16:25:26.849691"], ["updated_at", "2018-01-17 16:25:26.849691"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/managers/1
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"
  [1m[36mOwner Load (0.3ms)[0m  [1mSELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?[0m  [["market_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  Rendered managers/show.html.erb within layouts/application (7.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 14ms (Views: 10.0ms | ActiveRecord: 1.4ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"6", "price"=>"1.3", "stock"=>"14", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["product_id", 6], ["market_id", 1], ["price", 1.3], ["stock", 14], ["created_at", "2018-01-17 16:25:26.878405"], ["updated_at", "2018-01-17 16:25:26.878405"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/managers/1
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mOwner Load (0.1ms)[0m  SELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?  [["market_id", 1]]
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  Rendered managers/show.html.erb within layouts/application (10.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 17ms (Views: 11.5ms | ActiveRecord: 2.0ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"7", "price"=>"1.0", "stock"=>"43", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["product_id", 7], ["market_id", 1], ["price", 1.0], ["stock", 43], ["created_at", "2018-01-17 16:25:26.910373"], ["updated_at", "2018-01-17 16:25:26.910373"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/managers/1
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mManager Load (0.0ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.9ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mOwner Load (0.1ms)[0m  SELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?  [["market_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  Rendered managers/show.html.erb within layouts/application (8.5ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 14ms (Views: 10.0ms | ActiveRecord: 1.9ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"8", "price"=>"1.7", "stock"=>"16", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["product_id", 8], ["market_id", 1], ["price", 1.7], ["stock", 16], ["created_at", "2018-01-17 16:25:26.939514"], ["updated_at", "2018-01-17 16:25:26.939514"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/managers/1
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mManager Load (0.0ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?[0m  [["market_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered managers/show.html.erb within layouts/application (9.4ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 17ms (Views: 13.0ms | ActiveRecord: 1.1ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"9", "price"=>"0.8", "stock"=>"23", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["product_id", 9], ["market_id", 1], ["price", 0.8], ["stock", 23], ["created_at", "2018-01-17 16:25:26.974568"], ["updated_at", "2018-01-17 16:25:26.974568"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/managers/1
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:26 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mManager Load (0.0ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?[0m  [["market_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  Rendered managers/show.html.erb within layouts/application (9.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 15ms (Views: 11.7ms | ActiveRecord: 1.3ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"10", "price"=>"2.8", "stock"=>"22", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["product_id", 10], ["market_id", 1], ["price", 2.8], ["stock", 22], ["created_at", "2018-01-17 16:25:27.008772"], ["updated_at", "2018-01-17 16:25:27.008772"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/managers/1
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (1.0ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mManager Load (0.0ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mOwner Load (0.1ms)[0m  SELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?  [["market_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  Rendered managers/show.html.erb within layouts/application (23.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 29ms (Views: 25.1ms | ActiveRecord: 2.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.9ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["yearofbirth", 1958], ["tel", "3395625489"], ["email", "rossi@gmail.com"], ["curriculum", "CurriculumRossi"], ["password_digest", "$2a$04$KoX8d4ZAh6AvSjugVEsEoOnD4t6pAkZ6szhttZomZfy5kb33RRRTC"], ["created_at", "2018-01-17 16:25:27.051484"], ["updated_at", "2018-01-17 16:25:27.051484"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:27.054347"], ["updated_at", "2018-01-17 16:25:27.054347"]]
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('rossi@gmail.com') AND "managers"."id" != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?[0m  [["market_id", 1], ["updated_at", "2018-01-17 16:25:27.057486"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Mezze Penne"], ["label", "Barilla"], ["package", "500gr"], ["id", 1], ["created_at", "2018-01-17 16:25:27.060849"], ["updated_at", "2018-01-17 16:25:27.060849"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Olio Extra Vergine"], ["label", "Monini"], ["package", "1L"], ["id", 2], ["created_at", "2018-01-17 16:25:27.062776"], ["updated_at", "2018-01-17 16:25:27.062776"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Passata Di Pomodoro"], ["label", "Mutti"], ["package", "400gr"], ["id", 3], ["created_at", "2018-01-17 16:25:27.064487"], ["updated_at", "2018-01-17 16:25:27.064487"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Caffe"], ["label", "Lavazza"], ["package", "250gr"], ["id", 4], ["created_at", "2018-01-17 16:25:27.066598"], ["updated_at", "2018-01-17 16:25:27.066598"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Birra"], ["label", "Peroni"], ["package", "0.66L"], ["id", 5], ["created_at", "2018-01-17 16:25:27.069111"], ["updated_at", "2018-01-17 16:25:27.069111"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Dentifricio"], ["label", "Mentadent"], ["package", "75ml"], ["id", 6], ["created_at", "2018-01-17 16:25:27.070919"], ["updated_at", "2018-01-17 16:25:27.070919"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Fazzoletti"], ["label", "Scala"], ["package", "12 Pezzi"], ["id", 7], ["created_at", "2018-01-17 16:25:27.074483"], ["updated_at", "2018-01-17 16:25:27.074483"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Detergente Per Vetri"], ["label", "Vetril"], ["package", "650ml"], ["id", 8], ["created_at", "2018-01-17 16:25:27.077076"], ["updated_at", "2018-01-17 16:25:27.077076"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Tovaglioli"], ["label", "Regina"], ["package", "50 Pezzi"], ["id", 9], ["created_at", "2018-01-17 16:25:27.079022"], ["updated_at", "2018-01-17 16:25:27.079022"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Smacchiatore"], ["label", "Omino Bianco"], ["package", "1L"], ["id", 10], ["created_at", "2018-01-17 16:25:27.081698"], ["updated_at", "2018-01-17 16:25:27.081698"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/loginm" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by SessionsmController#new as HTML
  Rendered sessionsm/new.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.5ms)
Started POST "/loginm" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by SessionsmController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"rossi@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."email" = ? LIMIT 1  [["email", "rossi@gmail.com"]]
Redirected to http://www.example.com/managers/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mOwner Load (0.1ms)[0m  SELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?  [["market_id", 1]]
  Rendered managers/show.html.erb within layouts/application (4.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 11ms (Views: 6.5ms | ActiveRecord: 1.0ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"1", "price"=>"0.8", "stock"=>"23", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["product_id", 1], ["market_id", 1], ["price", 0.8], ["stock", 23], ["created_at", "2018-01-17 16:25:27.135518"], ["updated_at", "2018-01-17 16:25:27.135518"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/managers/1
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mManager Load (0.2ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mOwner Load (0.1ms)[0m  SELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?  [["market_id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered managers/show.html.erb within layouts/application (6.7ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 14ms (Views: 9.7ms | ActiveRecord: 1.4ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"2", "price"=>"3.8", "stock"=>"12", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["product_id", 2], ["market_id", 1], ["price", 3.8], ["stock", 12], ["created_at", "2018-01-17 16:25:27.170806"], ["updated_at", "2018-01-17 16:25:27.170806"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/managers/1
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mManager Load (0.0ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?[0m  [["market_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered managers/show.html.erb within layouts/application (5.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 12ms (Views: 8.2ms | ActiveRecord: 1.1ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"3", "price"=>"0.99", "stock"=>"21", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["product_id", 3], ["market_id", 1], ["price", 0.99], ["stock", 21], ["created_at", "2018-01-17 16:25:27.200138"], ["updated_at", "2018-01-17 16:25:27.200138"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/managers/1
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mManager Load (0.0ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?[0m  [["market_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  Rendered managers/show.html.erb within layouts/application (8.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 14ms (Views: 10.5ms | ActiveRecord: 1.2ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"4", "price"=>"2.99", "stock"=>"54", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["product_id", 4], ["market_id", 1], ["price", 2.99], ["stock", 54], ["created_at", "2018-01-17 16:25:27.230896"], ["updated_at", "2018-01-17 16:25:27.230896"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/managers/1
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mOwner Load (0.1ms)[0m  SELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?  [["market_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  Rendered managers/show.html.erb within layouts/application (7.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 14ms (Views: 9.7ms | ActiveRecord: 1.3ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"5", "price"=>"1.1", "stock"=>"60", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["product_id", 5], ["market_id", 1], ["price", 1.1], ["stock", 60], ["created_at", "2018-01-17 16:25:27.263793"], ["updated_at", "2018-01-17 16:25:27.263793"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/managers/1
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mOwner Load (0.1ms)[0m  SELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?  [["market_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  Rendered managers/show.html.erb within layouts/application (10.3ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 19ms (Views: 13.6ms | ActiveRecord: 1.6ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"6", "price"=>"1.3", "stock"=>"14", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["product_id", 6], ["market_id", 1], ["price", 1.3], ["stock", 14], ["created_at", "2018-01-17 16:25:27.302793"], ["updated_at", "2018-01-17 16:25:27.302793"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/managers/1
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mManager Load (0.0ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.4ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mOwner Load (0.2ms)[0m  [1mSELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?[0m  [["market_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  Rendered managers/show.html.erb within layouts/application (10.6ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 18ms (Views: 13.4ms | ActiveRecord: 1.7ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"7", "price"=>"1.0", "stock"=>"43", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["product_id", 7], ["market_id", 1], ["price", 1.0], ["stock", 43], ["created_at", "2018-01-17 16:25:27.338715"], ["updated_at", "2018-01-17 16:25:27.338715"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/managers/1
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManager Load (0.2ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?[0m  [["market_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  Rendered managers/show.html.erb within layouts/application (10.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 17ms (Views: 13.3ms | ActiveRecord: 1.8ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"8", "price"=>"1.7", "stock"=>"16", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["product_id", 8], ["market_id", 1], ["price", 1.7], ["stock", 16], ["created_at", "2018-01-17 16:25:27.375422"], ["updated_at", "2018-01-17 16:25:27.375422"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/managers/1
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mManager Load (0.0ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mOwner Load (0.2ms)[0m  SELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?  [["market_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  Rendered managers/show.html.erb within layouts/application (11.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 19ms (Views: 14.6ms | ActiveRecord: 1.5ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"9", "price"=>"0.8", "stock"=>"23", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["product_id", 9], ["market_id", 1], ["price", 0.8], ["stock", 23], ["created_at", "2018-01-17 16:25:27.410721"], ["updated_at", "2018-01-17 16:25:27.410721"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/managers/1
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mManager Load (0.0ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mOwner Load (0.1ms)[0m  SELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?  [["market_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  Rendered managers/show.html.erb within layouts/application (10.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 18ms (Views: 13.3ms | ActiveRecord: 1.5ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"10", "price"=>"2.8", "stock"=>"22", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["product_id", 10], ["market_id", 1], ["price", 2.8], ["stock", 22], ["created_at", "2018-01-17 16:25:27.447471"], ["updated_at", "2018-01-17 16:25:27.447471"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/managers/1
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mManager Load (0.0ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?[0m  [["market_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 10]]
  Rendered managers/show.html.erb within layouts/application (12.6ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 20ms (Views: 15.3ms | ActiveRecord: 1.5ms)
Started GET "/owners/2/edit" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mOwner Load (0.2ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered shared/_error_messages4.html.erb (0.6ms)
  Rendered owners/edit.html.erb within layouts/application (4.4ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.4ms)
Started PATCH "/owners/2" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#update as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"price"=>"2.7", "stock"=>"10", "market_id"=>"1", "product_id"=>"2"}, "commit"=>"save changes", "id"=>"2"}
  [1m[35mOwner Load (0.9ms)[0m  SELECT  "owners".* FROM "owners" WHERE "owners"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.0ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."id" != 2 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "owners" SET "price" = ?, "stock" = ?, "updated_at" = ? WHERE "owners"."id" = ?[0m  [["price", 2.7], ["stock", 10], ["updated_at", "2018-01-17 16:25:27.502488"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
Redirected to http://www.example.com/managers/1
Completed 302 Found in 7ms (ActiveRecord: 1.3ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mOwner Load (0.0ms)[0m  [1mSELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?[0m  [["market_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 10]]
  Rendered managers/show.html.erb within layouts/application (13.9ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 22ms (Views: 16.8ms | ActiveRecord: 2.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["yearofbirth", 1958], ["tel", "3395625489"], ["email", "rossi@gmail.com"], ["curriculum", "CurriculumRossi"], ["password_digest", "$2a$04$PNRxjqd9EBbrkD1PbQ/ipunbrrwJ9XYRC.TzfHQcyHFwBSqmyEZ1."], ["created_at", "2018-01-17 16:25:27.536905"], ["updated_at", "2018-01-17 16:25:27.536905"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:27.540553"], ["updated_at", "2018-01-17 16:25:27.540553"]]
  [1m[36mManager Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('rossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?  [["market_id", 1], ["updated_at", "2018-01-17 16:25:27.543635"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Mezze Penne"], ["label", "Barilla"], ["package", "500gr"], ["id", 1], ["created_at", "2018-01-17 16:25:27.546277"], ["updated_at", "2018-01-17 16:25:27.546277"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Olio Extra Vergine"], ["label", "Monini"], ["package", "1L"], ["id", 2], ["created_at", "2018-01-17 16:25:27.548416"], ["updated_at", "2018-01-17 16:25:27.548416"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Passata Di Pomodoro"], ["label", "Mutti"], ["package", "400gr"], ["id", 3], ["created_at", "2018-01-17 16:25:27.550097"], ["updated_at", "2018-01-17 16:25:27.550097"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Caffe"], ["label", "Lavazza"], ["package", "250gr"], ["id", 4], ["created_at", "2018-01-17 16:25:27.552149"], ["updated_at", "2018-01-17 16:25:27.552149"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Birra"], ["label", "Peroni"], ["package", "0.66L"], ["id", 5], ["created_at", "2018-01-17 16:25:27.554421"], ["updated_at", "2018-01-17 16:25:27.554421"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Dentifricio"], ["label", "Mentadent"], ["package", "75ml"], ["id", 6], ["created_at", "2018-01-17 16:25:27.556375"], ["updated_at", "2018-01-17 16:25:27.556375"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Fazzoletti"], ["label", "Scala"], ["package", "12 Pezzi"], ["id", 7], ["created_at", "2018-01-17 16:25:27.559111"], ["updated_at", "2018-01-17 16:25:27.559111"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Detergente Per Vetri"], ["label", "Vetril"], ["package", "650ml"], ["id", 8], ["created_at", "2018-01-17 16:25:27.563176"], ["updated_at", "2018-01-17 16:25:27.563176"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Tovaglioli"], ["label", "Regina"], ["package", "50 Pezzi"], ["id", 9], ["created_at", "2018-01-17 16:25:27.565769"], ["updated_at", "2018-01-17 16:25:27.565769"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Smacchiatore"], ["label", "Omino Bianco"], ["package", "1L"], ["id", 10], ["created_at", "2018-01-17 16:25:27.567948"], ["updated_at", "2018-01-17 16:25:27.567948"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/loginm" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by SessionsmController#new as HTML
  Rendered sessionsm/new.html.erb within layouts/application (0.9ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.2ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1[0m
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.5ms)
Started POST "/loginm" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by SessionsmController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"rossi@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."email" = ? LIMIT 1[0m  [["email", "rossi@gmail.com"]]
Redirected to http://www.example.com/managers/1
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mManager Load (0.0ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?[0m  [["market_id", 1]]
  Rendered managers/show.html.erb within layouts/application (4.2ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 0.8ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"1", "price"=>"0.8", "stock"=>"23", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["product_id", 1], ["market_id", 1], ["price", 0.8], ["stock", 23], ["created_at", "2018-01-17 16:25:27.620109"], ["updated_at", "2018-01-17 16:25:27.620109"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/managers/1
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mManager Load (0.0ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"
  [1m[36mOwner Load (0.2ms)[0m  [1mSELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?[0m  [["market_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  Rendered managers/show.html.erb within layouts/application (7.6ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 15ms (Views: 11.0ms | ActiveRecord: 0.9ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"2", "price"=>"3.8", "stock"=>"12", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 2 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["product_id", 2], ["market_id", 1], ["price", 3.8], ["stock", 12], ["created_at", "2018-01-17 16:25:27.656420"], ["updated_at", "2018-01-17 16:25:27.656420"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/managers/1
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mOwner Load (0.1ms)[0m  SELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?  [["market_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  Rendered managers/show.html.erb within layouts/application (5.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 13ms (Views: 8.8ms | ActiveRecord: 1.0ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"3", "price"=>"0.99", "stock"=>"21", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 3 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["product_id", 3], ["market_id", 1], ["price", 0.99], ["stock", 21], ["created_at", "2018-01-17 16:25:27.687406"], ["updated_at", "2018-01-17 16:25:27.687406"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/managers/1
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mManager Load (0.0ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mOwner Load (0.1ms)[0m  SELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?  [["market_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered managers/show.html.erb within layouts/application (5.9ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 13ms (Views: 9.1ms | ActiveRecord: 1.0ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"4", "price"=>"2.99", "stock"=>"54", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 4 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["product_id", 4], ["market_id", 1], ["price", 2.99], ["stock", 54], ["created_at", "2018-01-17 16:25:27.718006"], ["updated_at", "2018-01-17 16:25:27.718006"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/managers/1
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?[0m  [["market_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered managers/show.html.erb within layouts/application (7.8ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 14ms (Views: 10.4ms | ActiveRecord: 1.2ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"5", "price"=>"1.1", "stock"=>"60", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[36mManager Load (0.2ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 5 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["product_id", 5], ["market_id", 1], ["price", 1.1], ["stock", 60], ["created_at", "2018-01-17 16:25:27.751370"], ["updated_at", "2018-01-17 16:25:27.751370"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/managers/1
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?[0m  [["market_id", 1]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  Rendered managers/show.html.erb within layouts/application (7.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 17ms (Views: 11.8ms | ActiveRecord: 1.4ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"6", "price"=>"1.3", "stock"=>"14", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 6 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["product_id", 6], ["market_id", 1], ["price", 1.3], ["stock", 14], ["created_at", "2018-01-17 16:25:27.789979"], ["updated_at", "2018-01-17 16:25:27.789979"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/managers/1
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mManager Load (0.0ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mOwner Load (0.1ms)[0m  SELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?  [["market_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  Rendered managers/show.html.erb within layouts/application (8.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 15ms (Views: 11.2ms | ActiveRecord: 1.4ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"7", "price"=>"1.0", "stock"=>"43", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 7 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["product_id", 7], ["market_id", 1], ["price", 1.0], ["stock", 43], ["created_at", "2018-01-17 16:25:27.822888"], ["updated_at", "2018-01-17 16:25:27.822888"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/managers/1
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mManager Load (0.0ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mOwner Load (0.1ms)[0m  SELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?  [["market_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  Rendered managers/show.html.erb within layouts/application (10.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 17ms (Views: 12.7ms | ActiveRecord: 1.3ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"8", "price"=>"1.7", "stock"=>"16", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 8 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["product_id", 8], ["market_id", 1], ["price", 1.7], ["stock", 16], ["created_at", "2018-01-17 16:25:27.858063"], ["updated_at", "2018-01-17 16:25:27.858063"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/managers/1
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.8ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?[0m  [["market_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered managers/show.html.erb within layouts/application (12.4ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 20ms (Views: 15.0ms | ActiveRecord: 2.6ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"9", "price"=>"0.8", "stock"=>"23", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 9 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["product_id", 9], ["market_id", 1], ["price", 0.8], ["stock", 23], ["created_at", "2018-01-17 16:25:27.896859"], ["updated_at", "2018-01-17 16:25:27.896859"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/managers/1
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mOwner Load (0.2ms)[0m  [1mSELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?[0m  [["market_id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  Rendered managers/show.html.erb within layouts/application (12.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 19ms (Views: 14.6ms | ActiveRecord: 1.6ms)
Started POST "/owners" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#create as HTML
  Parameters: {"utf8"=>"✓", "owner"=>{"product_id"=>"10", "price"=>"2.8", "stock"=>"22", "market_id"=>"1"}, "commit"=>"add product"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 10 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("product_id", "market_id", "price", "stock", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["product_id", 10], ["market_id", 1], ["price", 2.8], ["stock", 22], ["created_at", "2018-01-17 16:25:27.937231"], ["updated_at", "2018-01-17 16:25:27.937231"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/managers/1
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mOwner Load (0.1ms)[0m  SELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?  [["market_id", 1]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 10]]
  Rendered managers/show.html.erb within layouts/application (12.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 20ms (Views: 14.2ms | ActiveRecord: 1.6ms)
Started DELETE "/owners/2" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by OwnersController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT  "owners".* FROM "owners" WHERE "owners"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "owners" WHERE "owners"."id" = ?[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/managers/1
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mOwner Load (0.1ms)[0m  SELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?  [["market_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 10]]
  Rendered managers/show.html.erb within layouts/application (12.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 20ms (Views: 14.6ms | ActiveRecord: 1.8ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/" for 127.0.0.1 at 2018-01-17 17:25:27 +0100
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
  [1m[35mManager Load (0.2ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.7ms)
Started GET "/managers/new" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by ManagersController#new as HTML
  Rendered shared/_error_messages2.html.erb (0.8ms)
  Rendered managers/new.html.erb within layouts/application (6.8ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.4ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1[0m
  [1m[35mAdmin Load (0.3ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1
Completed 200 OK in 15ms (Views: 13.9ms | ActiveRecord: 0.9ms)
Started POST "/managers" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by ManagersController#create as HTML
  Parameters: {"utf8"=>"✓", "manager"=>{"name"=>"Francesco", "surname"=>"Gagliardo", "yearofbirth"=>"1993", "email"=>"gagliardo@gmail.com", "tel"=>"343352442", "curriculum"=>"gagliardo CV", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create my account"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.1ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('gagliardo@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "tel", "yearofbirth", "email", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Francesco"], ["surname", "Gagliardo"], ["tel", "343352442"], ["yearofbirth", 1993], ["email", "gagliardo@gmail.com"], ["curriculum", "gagliardo CV"], ["password_digest", "$2a$04$wf0QL3deuZGR5mz0Dizb5eNE.OFB7pn5NsHP8fAycm1vRdW82la0."], ["created_at", "2018-01-17 16:25:28.055735"], ["updated_at", "2018-01-17 16:25:28.055735"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/markets/new
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
Started GET "/markets/new" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by MarketsController#new as HTML
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCreationreport Load (0.2ms)[0m  SELECT  "creationreports".* FROM "creationreports" WHERE "creationreports"."manager_id" = ? LIMIT 1  [["manager_id", 1]]
  Rendered shared/_error_messages3.html.erb (0.6ms)
  Rendered markets/new.html.erb within layouts/application (4.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 0.6ms)
Started POST "/markets" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by MarketsController#create as HTML
  Parameters: {"utf8"=>"✓", "market"=>{"group"=>"Lidl", "address"=>"via alessandro manzoni, 31, 03031 Aquino FR", "info"=>"aperto 24 ore su 24"}, "commit"=>"add market"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "markets" ("group", "address", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["group", "Lidl"], ["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["info", "aperto 24 ore su 24"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:28.088005"], ["updated_at", "2018-01-17 16:25:28.088005"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "creationreports" ("market_id", "manager_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["market_id", 1], ["manager_id", 1], ["created_at", "2018-01-17 16:25:28.090518"], ["updated_at", "2018-01-17 16:25:28.090518"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/managers/1
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  Rendered managers/show.html.erb within layouts/application (0.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started GET "/" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (0.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.2ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1[0m
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.5ms)
Started GET "/managers/new" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by ManagersController#new as HTML
  Rendered shared/_error_messages2.html.erb (0.0ms)
  Rendered managers/new.html.erb within layouts/application (3.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.4ms)
Started POST "/managers" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by ManagersController#create as HTML
  Parameters: {"utf8"=>"✓", "manager"=>{"name"=>"Francesco", "surname"=>"Gagliardo", "yearofbirth"=>"1993", "email"=>"gagliardo@gmail.com", "tel"=>"343352442", "curriculum"=>"gagliardo CV", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create my account"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('gagliardo@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "tel", "yearofbirth", "email", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Francesco"], ["surname", "Gagliardo"], ["tel", "343352442"], ["yearofbirth", 1993], ["email", "gagliardo@gmail.com"], ["curriculum", "gagliardo CV"], ["password_digest", "$2a$04$jTO8MB538DjLKCFD2LRY5uQHsV86xkC56yRgwwc/BrDXjgeitVleK"], ["created_at", "2018-01-17 16:25:28.153081"], ["updated_at", "2018-01-17 16:25:28.153081"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/markets/new
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/markets/new" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by MarketsController#new as HTML
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCreationreport Load (0.0ms)[0m  [1mSELECT  "creationreports".* FROM "creationreports" WHERE "creationreports"."manager_id" = ? LIMIT 1[0m  [["manager_id", 1]]
  Rendered shared/_error_messages3.html.erb (0.0ms)
  Rendered markets/new.html.erb within layouts/application (1.6ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.3ms)
Started POST "/markets" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by MarketsController#create as HTML
  Parameters: {"utf8"=>"✓", "market"=>{"group"=>"Lidl", "address"=>"via unicorni celesti, 31, 03031 Aquino FR", "info"=>"aperto 24 ore su 24"}, "commit"=>"add market"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "markets" ("group", "address", "info", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["group", "Lidl"], ["address", "via unicorni celesti, 31, 03031 Aquino FR"], ["info", "aperto 24 ore su 24"], ["created_at", "2018-01-17 16:25:28.174273"], ["updated_at", "2018-01-17 16:25:28.174273"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMarket Load (0.1ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mMicropost Load (0.2ms)[0m  [1mSELECT "microposts".* FROM "microposts" WHERE "microposts"."market_id" = ?  ORDER BY "microposts"."created_at" DESC[0m  [["market_id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "markets" WHERE "markets"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/markets/new
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
Started GET "/markets/new" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by MarketsController#new as HTML
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCreationreport Load (0.0ms)[0m  [1mSELECT  "creationreports".* FROM "creationreports" WHERE "creationreports"."manager_id" = ? LIMIT 1[0m  [["manager_id", 1]]
  Rendered shared/_error_messages3.html.erb (0.0ms)
  Rendered markets/new.html.erb within layouts/application (1.4ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (0.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
  [1m[35mManager Load (0.2ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.6ms)
Started GET "/managers/new" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by ManagersController#new as HTML
  Rendered shared/_error_messages2.html.erb (0.1ms)
  Rendered managers/new.html.erb within layouts/application (2.8ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1[0m
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.4ms)
Started POST "/managers" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by ManagersController#create as HTML
  Parameters: {"utf8"=>"✓", "manager"=>{"name"=>"Francesco", "surname"=>"Gagliardo", "yearofbirth"=>"1993", "email"=>"gagliardo@gmail.com", "tel"=>"343352442", "curriculum"=>"gagliardo CV", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create my account"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.1ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('gagliardo@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "tel", "yearofbirth", "email", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Francesco"], ["surname", "Gagliardo"], ["tel", "343352442"], ["yearofbirth", 1993], ["email", "gagliardo@gmail.com"], ["curriculum", "gagliardo CV"], ["password_digest", "$2a$04$ojDwtDzV0ow.1NM7lQ8mGeG9iAqFXTmaQPWx.sSi64XiFHcGHTy/G"], ["created_at", "2018-01-17 16:25:28.236786"], ["updated_at", "2018-01-17 16:25:28.236786"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/markets/new
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/markets/new" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by MarketsController#new as HTML
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCreationreport Load (0.0ms)[0m  SELECT  "creationreports".* FROM "creationreports" WHERE "creationreports"."manager_id" = ? LIMIT 1  [["manager_id", 1]]
  Rendered shared/_error_messages3.html.erb (0.1ms)
  Rendered markets/new.html.erb within layouts/application (2.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.3ms)
Started POST "/markets" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by MarketsController#create as HTML
  Parameters: {"utf8"=>"✓", "market"=>{"group"=>"", "address"=>"via unicorni celesti, 31, 03031 Aquino FR", "info"=>"aperto 24 ore su 24"}, "commit"=>"add market"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages3.html.erb (1.1ms)
  Rendered markets/new.html.erb within layouts/application (2.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started GET "/" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (0.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1[0m
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.4ms)
Started GET "/managers/new" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by ManagersController#new as HTML
  Rendered shared/_error_messages2.html.erb (0.1ms)
  Rendered managers/new.html.erb within layouts/application (14.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1
  [1m[36mAdmin Load (0.2ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 19ms (Views: 18.4ms | ActiveRecord: 0.4ms)
Started POST "/managers" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by ManagersController#create as HTML
  Parameters: {"utf8"=>"✓", "manager"=>{"name"=>"Francesco", "surname"=>"Gagliardo", "yearofbirth"=>"1993", "email"=>"gagliardo@gmail.com", "tel"=>"343352442", "curriculum"=>"gagliardo CV", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create my account"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('gagliardo@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "managers" ("name", "surname", "tel", "yearofbirth", "email", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Francesco"], ["surname", "Gagliardo"], ["tel", "343352442"], ["yearofbirth", 1993], ["email", "gagliardo@gmail.com"], ["curriculum", "gagliardo CV"], ["password_digest", "$2a$04$ogKAPOTZyXJxbG1Cqma.yul6x3wDHuff1s8YixJFF1I.SGk9IVtVO"], ["created_at", "2018-01-17 16:25:28.325874"], ["updated_at", "2018-01-17 16:25:28.325874"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/markets/new
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
Started GET "/markets/new" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by MarketsController#new as HTML
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCreationreport Load (0.1ms)[0m  [1mSELECT  "creationreports".* FROM "creationreports" WHERE "creationreports"."manager_id" = ? LIMIT 1[0m  [["manager_id", 1]]
  Rendered shared/_error_messages3.html.erb (0.0ms)
  Rendered markets/new.html.erb within layouts/application (1.7ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.4ms)
Started POST "/markets" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by MarketsController#create as HTML
  Parameters: {"utf8"=>"✓", "market"=>{"group"=>"lidl", "address"=>"via unicorni celesti, 31, 03031 Aquino FR", "info"=>""}, "commit"=>"add market"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages3.html.erb (0.6ms)
  Rendered markets/new.html.erb within layouts/application (2.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 9ms (Views: 5.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by PagesController#homepage as HTML
  Rendered pages/homepage.html.erb within layouts/application (0.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.5ms)
Started GET "/users/new" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.7ms)
  Rendered users/new.html.erb within layouts/application (6.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.0ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1[0m
  [1m[35mAdmin Load (0.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1
Completed 200 OK in 14ms (Views: 12.7ms | ActiveRecord: 0.3ms)
Started POST "/users" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"name"=>"christian", "surname"=>"alonsi", "address"=>"via alessandro severo, 71, 00145 Roma RM", "yearofbirth"=>"1993", "email"=>"alonsi@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create my account"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alonsi@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "address", "yearofbirth", "email", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "christian"], ["surname", "alonsi"], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["yearofbirth", 1993], ["email", "alonsi@gmail.com"], ["password_digest", "$2a$04$Czu6slcP7hnqJ8Gop4KCLOTKgWl5LnhBXoOBPozfPKvwnFHLLuRjO"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:28.418019"], ["updated_at", "2018-01-17 16:25:28.418019"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/1
Completed 302 Found in 11ms (ActiveRecord: 0.9ms)
Started GET "/users/1" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  Rendered users/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('rossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["yearofbirth", 1958], ["tel", "3395625489"], ["email", "rossi@gmail.com"], ["curriculum", "CurriculumRossi"], ["password_digest", "$2a$04$ZgaGqbpnP9W3Ry9nI3MrduarYyqjbm9bAQQ1Mo/ZkOEAwT1cUpOi."], ["created_at", "2018-01-17 16:25:28.444273"], ["updated_at", "2018-01-17 16:25:28.444273"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["status", "f"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:28.447138"], ["updated_at", "2018-01-17 16:25:28.447138"]]
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('rossi@gmail.com') AND "managers"."id" != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?[0m  [["market_id", 1], ["updated_at", "2018-01-17 16:25:28.449765"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/loginm" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by SessionsmController#new as HTML
  Rendered sessionsm/new.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1
  [1m[36mAdmin Load (0.1ms)[0m  [1mSELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1[0m
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.5ms)
Started POST "/loginm" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by SessionsmController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"rossi@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."email" = ? LIMIT 1  [["email", "rossi@gmail.com"]]
Redirected to http://www.example.com/managers/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mManager Load (0.1ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mMarket Load (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered managers/show.html.erb within layouts/application (0.6ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 8ms (Views: 3.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('rossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "yearofbirth", "tel", "email", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["yearofbirth", 1958], ["tel", "3395625489"], ["email", "rossi@gmail.com"], ["curriculum", "CurriculumRossi"], ["password_digest", "$2a$04$B9hRfG8PeOf74Za6isaTp.GopWW97ct4q5Hm3gUfrgP1GxxFgcg.C"], ["created_at", "2018-01-17 16:25:28.493432"], ["updated_at", "2018-01-17 16:25:28.493432"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "status", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro manzoni, 31, 03031 Aquino FR"], ["group", "Conad"], ["info", "Aperto dal lunedi al sabato//08.00-20.00"], ["status", "t"], ["latitude", 41.4985215], ["longitude", 13.7050184], ["created_at", "2018-01-17 16:25:28.496166"], ["updated_at", "2018-01-17 16:25:28.496166"]]
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('rossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?  [["market_id", 1], ["updated_at", "2018-01-17 16:25:28.499760"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/loginm" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by SessionsmController#new as HTML
  Rendered sessionsm/new.html.erb within layouts/application (1.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" IS NULL LIMIT 1[0m
  [1m[35mAdmin Load (1.1ms)[0m  SELECT  "admins".* FROM "admins" WHERE "admins"."id" IS NULL LIMIT 1
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 1.4ms)
Started POST "/loginm" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by SessionsmController#create as HTML
  Parameters: {"utf8"=>"✓", "session"=>{"email"=>"rossi@gmail.com", "password"=>"[FILTERED]"}, "commit"=>"Log in"}
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."email" = ? LIMIT 1[0m  [["email", "rossi@gmail.com"]]
Redirected to http://www.example.com/managers/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/managers/1" for 127.0.0.1 at 2018-01-17 17:25:28 +0100
Processing by ManagersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mManager Load (0.2ms)[0m  SELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mManager Load (0.1ms)[0m  [1mSELECT  "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mMarket Load (0.1ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) AS count_all, product_id AS product_id FROM "requests" GROUP BY "requests"."product_id"[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "markets".* FROM "markets" WHERE "markets"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products"
  [1m[36mOwner Load (0.1ms)[0m  [1mSELECT "owners".* FROM "owners" WHERE "owners"."market_id" = ?[0m  [["market_id", 1]]
  Rendered managers/show.html.erb within layouts/application (3.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Completed 200 OK in 11ms (Views: 6.6ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mAdmin Exists (0.3ms)[0m  SELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('astolfi@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "giovanni"], ["surname", "astolfi"], ["email", "astolfi@gmail.com"], ["password_digest", "$2a$04$rQZM6j5i/Q0rMTxhgtIHYuUqAHJEloecpuMd.tyEfqPBZtOwDiXS."], ["created_at", "2018-01-17 16:25:28.547354"], ["updated_at", "2018-01-17 16:25:28.547354"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mAdmin Exists (0.2ms)[0m  SELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('lamberti@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "giovanni"], ["surname", "lamberti"], ["email", "lamberti@gmail.com"], ["password_digest", "$2a$04$3mdUnYlvNBGas/WA7STDA.Pxq4Qcr.Ky3Kqh7bafOuNaAWEzSDjwy"], ["created_at", "2018-01-17 16:25:28.552217"], ["updated_at", "2018-01-17 16:25:28.552217"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAdmin Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "admins" WHERE (LOWER("admins"."email") = LOWER('lamberti@gmail.com') AND "admins"."id" != 2) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mAdmin Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('astolfi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "giovanni"], ["surname", "astolfi"], ["email", "astolfi@gmail.com"], ["password_digest", "$2a$04$gLco1hr/Z3rLl2Bqlv7ixe8Fg.JfWj0k8TJKAg.2Foh0ZyAzVEoZC"], ["created_at", "2018-01-17 16:25:28.560965"], ["updated_at", "2018-01-17 16:25:28.560965"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mAdmin Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('lamberti@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "giovanni"], ["surname", "lamberti"], ["email", "lamberti@gmail.com"], ["password_digest", "$2a$04$wE8xF8rEUCj9m82yC7AEguk2i0AhawCYrG1I3m39QOEV44ufDZJE."], ["created_at", "2018-01-17 16:25:28.565577"], ["updated_at", "2018-01-17 16:25:28.565577"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAdmin Exists (0.4ms)[0m  SELECT  1 AS one FROM "admins" WHERE (LOWER("admins"."email") = LOWER('lamberti@gmail.com') AND "admins"."id" != 2) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mAdmin Exists (0.1ms)[0m  SELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('astolfi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "giovanni"], ["surname", "astolfi"], ["email", "astolfi@gmail.com"], ["password_digest", "$2a$04$ycpYuddnJaSdUAIOUPft1eUzXbQfTImdnxck/Uc6V04jzRp2SpucC"], ["created_at", "2018-01-17 16:25:28.576279"], ["updated_at", "2018-01-17 16:25:28.576279"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mAdmin Exists (0.2ms)[0m  SELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('lamberti@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "giovanni"], ["surname", "lamberti"], ["email", "lamberti@gmail.com"], ["password_digest", "$2a$04$sR4uAptGWJ3E8zXQZ.C7YeSz1KLlgDjs3X/jFasdOC/ElyL2alDRS"], ["created_at", "2018-01-17 16:25:28.583160"], ["updated_at", "2018-01-17 16:25:28.583160"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAdmin Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "admins" WHERE (LOWER("admins"."email") = LOWER('lamberti@gmail.com') AND "admins"."id" != 2) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mAdmin Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('astolfi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "giovanni"], ["surname", "astolfi"], ["email", "astolfi@gmail.com"], ["password_digest", "$2a$04$Spll9xx1ij6exAvowAVRq.TPdR5j6.I4jQK35nJVhLkArCE6TYTUq"], ["created_at", "2018-01-17 16:25:28.593061"], ["updated_at", "2018-01-17 16:25:28.593061"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mAdmin Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('lamberti@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "giovanni"], ["surname", "lamberti"], ["email", "lamberti@gmail.com"], ["password_digest", "$2a$04$U8xo3oAEMsVtbrNnye6BYOFW0yBWZLPuRJe8f7nfHGbsiueeZ93Um"], ["created_at", "2018-01-17 16:25:28.597682"], ["updated_at", "2018-01-17 16:25:28.597682"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAdmin Exists (0.2ms)[0m  SELECT  1 AS one FROM "admins" WHERE ("admins"."email" IS NULL AND "admins"."id" != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mAdmin Exists (0.2ms)[0m  SELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('astolfi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "giovanni"], ["surname", "astolfi"], ["email", "astolfi@gmail.com"], ["password_digest", "$2a$04$Bc0pFPowK3LNDagXyt8G6ukoq/8nkj53PB787JWfbQLZC7P3mjn9C"], ["created_at", "2018-01-17 16:25:28.606999"], ["updated_at", "2018-01-17 16:25:28.606999"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mAdmin Exists (0.3ms)[0m  SELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('lamberti@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "giovanni"], ["surname", "lamberti"], ["email", "lamberti@gmail.com"], ["password_digest", "$2a$04$FO9S8ggPO.DU309jvfghD.FEQ9dNCkRlEXhvGP/Kdf2.ulzgSzXUe"], ["created_at", "2018-01-17 16:25:28.613236"], ["updated_at", "2018-01-17 16:25:28.613236"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAdmin Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "admins" WHERE (LOWER("admins"."email") = LOWER('lamberti@gmail.com') AND "admins"."id" != 2) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mAdmin Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('astolfi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "giovanni"], ["surname", "astolfi"], ["email", "astolfi@gmail.com"], ["password_digest", "$2a$04$BrJ0XiNjSD6t6Cct7Y1NoOC6QDSthtVltdUYo759Ptl0cyLTFZo/y"], ["created_at", "2018-01-17 16:25:28.622592"], ["updated_at", "2018-01-17 16:25:28.622592"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mAdmin Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('lamberti@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "giovanni"], ["surname", "lamberti"], ["email", "lamberti@gmail.com"], ["password_digest", "$2a$04$zuoeKQueFFnAOt0AmSiLMeJpdF4DzxYDOq/Yuw3H0ymm.5DZ0cdYW"], ["created_at", "2018-01-17 16:25:28.627595"], ["updated_at", "2018-01-17 16:25:28.627595"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAdmin Exists (0.2ms)[0m  SELECT  1 AS one FROM "admins" WHERE (LOWER("admins"."email") = LOWER('lamberti@gmail.com') AND "admins"."id" != 2) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mAdmin Exists (0.2ms)[0m  SELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('astolfi@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "giovanni"], ["surname", "astolfi"], ["email", "astolfi@gmail.com"], ["password_digest", "$2a$04$jeclA5ViETMjFo2xzsE1ZOuVDG0w8VK0GSGGOtQbdhECaNdRtQBqy"], ["created_at", "2018-01-17 16:25:28.639916"], ["updated_at", "2018-01-17 16:25:28.639916"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mAdmin Exists (0.2ms)[0m  SELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('lamberti@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "giovanni"], ["surname", "lamberti"], ["email", "lamberti@gmail.com"], ["password_digest", "$2a$04$VHG0ihR3zhGnyf9jg/Z7o.nvGYcPje81aYPH601/6JRHr3duh22VG"], ["created_at", "2018-01-17 16:25:28.646371"], ["updated_at", "2018-01-17 16:25:28.646371"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAdmin Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "admins" WHERE (LOWER("admins"."email") = LOWER('lamberti@gmail.com') AND "admins"."id" != 2) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mAdmin Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('astolfi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "giovanni"], ["surname", "astolfi"], ["email", "astolfi@gmail.com"], ["password_digest", "$2a$04$EH9t1asfHEUAGCb7ApUtZuPTfTFaaGV.7RRjMuFjKHoP6hHcRzpdm"], ["created_at", "2018-01-17 16:25:28.657979"], ["updated_at", "2018-01-17 16:25:28.657979"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mAdmin Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('lamberti@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "giovanni"], ["surname", "lamberti"], ["email", "lamberti@gmail.com"], ["password_digest", "$2a$04$mU92ZMNitY6bduc7ErXT.uO7sSXRqcReYr/WHVMg1Zm0PBFgNHzEi"], ["created_at", "2018-01-17 16:25:28.663817"], ["updated_at", "2018-01-17 16:25:28.663817"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAdmin Exists (0.2ms)[0m  SELECT  1 AS one FROM "admins" WHERE (LOWER("admins"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@bbbb.it') AND "admins"."id" != 2) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mAdmin Exists (0.2ms)[0m  SELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('astolfi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "giovanni"], ["surname", "astolfi"], ["email", "astolfi@gmail.com"], ["password_digest", "$2a$04$5VS/0AIenGgDwZY1G5pcDOCvH64k5yZO1uvJBYQzye.uaOAsUdkTG"], ["created_at", "2018-01-17 16:25:28.673301"], ["updated_at", "2018-01-17 16:25:28.673301"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mAdmin Exists (0.2ms)[0m  SELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('lamberti@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "giovanni"], ["surname", "lamberti"], ["email", "lamberti@gmail.com"], ["password_digest", "$2a$04$Slpv900jRB7AIOHK6SLTMO.wpHB5hdoMdPh275qwgKzzzS.O7wk1q"], ["created_at", "2018-01-17 16:25:28.679162"], ["updated_at", "2018-01-17 16:25:28.679162"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAdmin Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "admins" WHERE (LOWER("admins"."email") = LOWER('lamberti@gmail.com') AND "admins"."id" != 2) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mAdmin Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('astolfi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "giovanni"], ["surname", "astolfi"], ["email", "astolfi@gmail.com"], ["password_digest", "$2a$04$H/w9kzlFyLqAZJJACXgeOO0bimQF2/k.cDJYHHlRYqXbOQpkyHL7S"], ["created_at", "2018-01-17 16:25:28.690664"], ["updated_at", "2018-01-17 16:25:28.690664"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mAdmin Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('lamberti@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["name", "giovanni"], ["surname", "lamberti"], ["email", "lamberti@gmail.com"], ["password_digest", "$2a$04$uAnmWByHJT3nVvsRMpBqDunHZ/fOIKQR6.JOz.JH/3RRk41Aj8x1i"], ["created_at", "2018-01-17 16:25:28.696251"], ["updated_at", "2018-01-17 16:25:28.696251"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mAdmin Exists (0.3ms)[0m  SELECT  1 AS one FROM "admins" WHERE (LOWER("admins"."email") = LOWER('user@example,com') AND "admins"."id" != 2) LIMIT 1
  [1m[36mAdmin Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "admins" WHERE (LOWER("admins"."email") = LOWER('user_at_foo.org') AND "admins"."id" != 2) LIMIT 1[0m
  [1m[35mAdmin Exists (0.2ms)[0m  SELECT  1 AS one FROM "admins" WHERE (LOWER("admins"."email") = LOWER('user.name@example.') AND "admins"."id" != 2) LIMIT 1
  [1m[36mAdmin Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "admins" WHERE (LOWER("admins"."email") = LOWER('foo@bar_baz.com') AND "admins"."id" != 2) LIMIT 1[0m
  [1m[35mAdmin Exists (0.2ms)[0m  SELECT  1 AS one FROM "admins" WHERE (LOWER("admins"."email") = LOWER('foo@bar+baz.com') AND "admins"."id" != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mAdmin Exists (0.2ms)[0m  SELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('astolfi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "giovanni"], ["surname", "astolfi"], ["email", "astolfi@gmail.com"], ["password_digest", "$2a$04$yhqVrgIB9vI/N.mn9wQ2TeT9e3zJNZuGQGHab.ayhIsU4dmELI072"], ["created_at", "2018-01-17 16:25:28.712597"], ["updated_at", "2018-01-17 16:25:28.712597"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mAdmin Exists (0.1ms)[0m  SELECT  1 AS one FROM "admins" WHERE LOWER("admins"."email") = LOWER('lamberti@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "admins" ("name", "surname", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "giovanni"], ["surname", "lamberti"], ["email", "lamberti@gmail.com"], ["password_digest", "$2a$04$LbS5ck6X1kq2S1OhSlTikOEuAgWJ9W2/d9V4.HFIw2QWVelr4bARW"], ["created_at", "2018-01-17 16:25:28.716709"], ["updated_at", "2018-01-17 16:25:28.716709"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mAdmin Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "admins" WHERE (LOWER("admins"."email") = LOWER('lamberti@gmail.com') AND "admins"."id" != 1) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$VulaNf9M.QqQJq.EP/ZLqetc88WTfquYx6.9F30ISs7Sghn.D58Hm"], ["created_at", "2018-01-17 16:25:28.726333"], ["updated_at", "2018-01-17 16:25:28.726333"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi2@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi2@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$9ybxDCFkGLThoCsBTPjqOui2Ipk5JV6ITKAg/rGIUXW3zQlq7KUVW"], ["created_at", "2018-01-17 16:25:28.731674"], ["updated_at", "2018-01-17 16:25:28.731674"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$URcq5EPLAOjEJd.iGAJRJeIsIr4Fs7qv5Udq2A7mocbTQul3dS5Di"], ["created_at", "2018-01-17 16:25:28.738943"], ["updated_at", "2018-01-17 16:25:28.738943"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.9ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi2@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi2@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$P/Pky/Q0TGI/uLrNNPcbyOktQDqckK3Vv6orghPI.O8t/W0EBOlOO"], ["created_at", "2018-01-17 16:25:28.745915"], ["updated_at", "2018-01-17 16:25:28.745915"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$gSkUB./E.2KtGoxyzPdUjuWy4wVHXOQxY9WOcLL1j6xU0s8y55q6q"], ["created_at", "2018-01-17 16:25:28.755405"], ["updated_at", "2018-01-17 16:25:28.755405"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi2@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi2@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$pxBhRKE4Yrc/0tg8cVHbmu.u4yvgw62/rI3iY4kzcRUA9KmENHH1m"], ["created_at", "2018-01-17 16:25:28.762070"], ["updated_at", "2018-01-17 16:25:28.762070"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$BmOz19K7PnutsGtFv1pysupKm5T/K8sY6867kB.QWHP9KHD6O0bKm"], ["created_at", "2018-01-17 16:25:28.772825"], ["updated_at", "2018-01-17 16:25:28.772825"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi2@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi2@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$yP3i1J0/iOSNF9Bj6DnfA.sjbKCVFYUge/dnQpBy7prAqj/ec7qXq"], ["created_at", "2018-01-17 16:25:28.778596"], ["updated_at", "2018-01-17 16:25:28.778596"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE ("managers"."email" IS NULL AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$3q994eT/8JGeC3Vtn7s0o.KqaPU2dUr6NR7xyPtn4sjmsxBW.ZOwi"], ["created_at", "2018-01-17 16:25:28.788119"], ["updated_at", "2018-01-17 16:25:28.788119"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi2@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi2@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$53tHRETtlUipJ.LlPqvwi.GRcsXhEqc7Oi5xsKQrNZb4WGNgpelpu"], ["created_at", "2018-01-17 16:25:28.793363"], ["updated_at", "2018-01-17 16:25:28.793363"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$ljV3bWj/2q4LjkSKLVszo.xm77s5lR0l2Gz2r4FBrf0ov.7B94cRy"], ["created_at", "2018-01-17 16:25:28.801958"], ["updated_at", "2018-01-17 16:25:28.801958"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi2@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi2@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$HCA4huAoCjuiGgzsY65nDefh7c4GbswJ3ks.u53rvyYLJV8jR5Jym"], ["created_at", "2018-01-17 16:25:28.807464"], ["updated_at", "2018-01-17 16:25:28.807464"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$nJyArnvAPSCntMyuehgkI.uv7XM2OjkLo877mpYNe9CExREZYquyG"], ["created_at", "2018-01-17 16:25:28.816551"], ["updated_at", "2018-01-17 16:25:28.816551"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi2@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi2@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$egON98hJ1ZBWICnl6DtA7uo8Trj33WMZ8PdrkjuLQaWwP9OqBs1R2"], ["created_at", "2018-01-17 16:25:28.821288"], ["updated_at", "2018-01-17 16:25:28.821288"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$AsO.4Im.0yigiH.C6afvnu9XoL.wRtJTlsdstOW8uDl.Lk5Mf4SRy"], ["created_at", "2018-01-17 16:25:28.830906"], ["updated_at", "2018-01-17 16:25:28.830906"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi2@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi2@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$G0Uu2P4IFgqur9hBEqWDjebCqMh5MACeT0IsFuvwz8ihAAgsGgo.a"], ["created_at", "2018-01-17 16:25:28.837213"], ["updated_at", "2018-01-17 16:25:28.837213"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$gypDGr33NAwKHSv2Idtua.4DPbSFX/.16aU.sU4h3bjUaHdt3t0f6"], ["created_at", "2018-01-17 16:25:28.847338"], ["updated_at", "2018-01-17 16:25:28.847338"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi2@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi2@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$dCa1gr.Ooy4Q/aJZG2uBF.EpgQjNJWblVc6znbCLbvceTJIZYlo.S"], ["created_at", "2018-01-17 16:25:28.853373"], ["updated_at", "2018-01-17 16:25:28.853373"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$dteKdsSQH9wmm0hxkVPhT.HVpY2WaKvLhbttK9cQOXd0xebgOA4r6"], ["created_at", "2018-01-17 16:25:28.862513"], ["updated_at", "2018-01-17 16:25:28.862513"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi2@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi2@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$FSOnI.GekbNfANeOjmcto.P166qo6NMHYJgpfzG69tjtePi.sosx."], ["created_at", "2018-01-17 16:25:28.867465"], ["updated_at", "2018-01-17 16:25:28.867465"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$0/iS/CZ5fHF/GIwlhEceiOzZIEHBFBT.fyEwEGbQcvUMcYtQwhr76"], ["created_at", "2018-01-17 16:25:28.876536"], ["updated_at", "2018-01-17 16:25:28.876536"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi2@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi2@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$M9sLvktGPEljoovvrGZUEOXHA/GrEo3nUzGWNG7RSkw7NwlxdlVPK"], ["created_at", "2018-01-17 16:25:28.882519"], ["updated_at", "2018-01-17 16:25:28.882519"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@bbbb.it') AND "managers"."id" != 1) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$Bh59Gtw/DCHBVEqXmVEtv.L8/tKjpmbY.c26aqPcvL42BsEI1MHSy"], ["created_at", "2018-01-17 16:25:28.893308"], ["updated_at", "2018-01-17 16:25:28.893308"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi2@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi2@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$pemTdD4ExZK9RyTbW5iMk.1q8BHplW9jgtF.FbYtEJ/61oHfzluGi"], ["created_at", "2018-01-17 16:25:28.897657"], ["updated_at", "2018-01-17 16:25:28.897657"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$l5lD7OBnT1J4IVGr1y1fgO/sXmnBbY.GJ7MJdIPThcUfKxWKtvqLC"], ["created_at", "2018-01-17 16:25:28.906427"], ["updated_at", "2018-01-17 16:25:28.906427"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi2@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi2@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$vNcVWM6lW97FbC4vzds/ue7T4I9dEKdbsZqO2tnnPyZjSKcZg8FQu"], ["created_at", "2018-01-17 16:25:28.912693"], ["updated_at", "2018-01-17 16:25:28.912693"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$GWBhdq9aBLx5YVJhjbRRPeXj6onNsGD/t5z50d0olvVS8MW9V0MJC"], ["created_at", "2018-01-17 16:25:28.924288"], ["updated_at", "2018-01-17 16:25:28.924288"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.1ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi2@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi2@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$tuR6JijfBXk4c/OtQcmQo.oK6.v.ptlczqvEk0.nz3cxwef6UuqAu"], ["created_at", "2018-01-17 16:25:28.930043"], ["updated_at", "2018-01-17 16:25:28.930043"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user@example,com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35mManager Exists (0.1ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user_at_foo.org') AND "managers"."id" != 1) LIMIT 1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('user.name@example.') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35mManager Exists (0.1ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('foo@bar_baz.com') AND "managers"."id" != 1) LIMIT 1
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('foo@bar+baz.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$uQOc5yfU3m72a1qsu8mK1e4xo3v9f1K7bBsjeLVzgKJwnL5xLJEcm"], ["created_at", "2018-01-17 16:25:28.944375"], ["updated_at", "2018-01-17 16:25:28.944375"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi2@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi2@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$LkpE/9BtT4HpZhnfiDk3iumL9F9W5AXX0FrTbgPcNc5itH9yu4wQ2"], ["created_at", "2018-01-17 16:25:28.950434"], ["updated_at", "2018-01-17 16:25:28.950434"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35mManager Exists (0.1ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$XR383C9kdsW6REVjiYds/.UFtKbP6.oW6wag8Jmyt19U46Qav2oiS"], ["created_at", "2018-01-17 16:25:28.963819"], ["updated_at", "2018-01-17 16:25:28.963819"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi2@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi2@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$KpnhYlfR6qCfEnISeZBVo.vKNzg2Alh6vQMgod30GKiV5UCOOY4Z."], ["created_at", "2018-01-17 16:25:28.970100"], ["updated_at", "2018-01-17 16:25:28.970100"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 2) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.1ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$KKCbsjp4jzIBwm7ZFBjLR.HisTtbZCjhTsKj5O6OpdTegtRaVMDSi"], ["created_at", "2018-01-17 16:25:28.979504"], ["updated_at", "2018-01-17 16:25:28.979504"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.1ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi2@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi2@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$dDBcuyTHmkg6Rj72t9HzEO4Gw3NjaqxJoQ2BmNrqc.X693/oSWSgy"], ["created_at", "2018-01-17 16:25:28.984608"], ["updated_at", "2018-01-17 16:25:28.984608"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$EXL2xbRr8BJ0DgHBy/BM2er1ab6Oh0aJ5QNp4Rh9CpE7ziJVPlFbi"], ["created_at", "2018-01-17 16:25:28.992200"], ["updated_at", "2018-01-17 16:25:28.992200"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:28.995123"], ["updated_at", "2018-01-17 16:25:28.995123"]]
  [1m[36mManager Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?  [["market_id", 1], ["updated_at", "2018-01-17 16:25:28.998626"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$G/.PHt7mpc0b/O0G2qFVG.lF9u/jSzH8c57HRQpJ1NGXpwHRswgyK"], ["created_at", "2018-01-17 16:25:29.005286"], ["updated_at", "2018-01-17 16:25:29.005286"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.009054"], ["updated_at", "2018-01-17 16:25:29.009054"]]
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?[0m  [["market_id", 1], ["updated_at", "2018-01-17 16:25:29.011930"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$f4J/OFKuebtJcLgrrrXb0u4JRFy49uxJ.3wkjjbni7d9oJAURoNl2"], ["created_at", "2018-01-17 16:25:29.019418"], ["updated_at", "2018-01-17 16:25:29.019418"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.022414"], ["updated_at", "2018-01-17 16:25:29.022414"]]
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?  [["market_id", 1], ["updated_at", "2018-01-17 16:25:29.025140"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$IWaUkI.Naxc2g9YAftFh.OZFPCXO940o9I1gMrqw3SkIGCETWPBeO"], ["created_at", "2018-01-17 16:25:29.033374"], ["updated_at", "2018-01-17 16:25:29.033374"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.037622"], ["updated_at", "2018-01-17 16:25:29.037622"]]
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?[0m  [["market_id", 1], ["updated_at", "2018-01-17 16:25:29.040816"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$z.Tj1u1TcadjJpbsn2FD2eDfDgHnfoBnR757UoICPF68loKv3gaja"], ["created_at", "2018-01-17 16:25:29.050257"], ["updated_at", "2018-01-17 16:25:29.050257"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.053727"], ["updated_at", "2018-01-17 16:25:29.053727"]]
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?  [["market_id", 1], ["updated_at", "2018-01-17 16:25:29.056844"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$7CnNuA1loVzMEBvpbi1c5eV93SOg7pfip7ZMy0L1vQWGVMhF3MI7y"], ["created_at", "2018-01-17 16:25:29.063909"], ["updated_at", "2018-01-17 16:25:29.063909"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.067739"], ["updated_at", "2018-01-17 16:25:29.067739"]]
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?[0m  [["market_id", 1], ["updated_at", "2018-01-17 16:25:29.071030"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$qJnB5AaaTsMV3RS2uEOXaOGUVy95akno0zpJACfe3Uyshf4iI6dve"], ["created_at", "2018-01-17 16:25:29.081174"], ["updated_at", "2018-01-17 16:25:29.081174"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.085111"], ["updated_at", "2018-01-17 16:25:29.085111"]]
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?  [["market_id", 1], ["updated_at", "2018-01-17 16:25:29.089086"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$WFx0K/.qCZgRCa/8VuScNemf4qNu8wbe65dqAIFZchWan29RSwP6i"], ["created_at", "2018-01-17 16:25:29.098217"], ["updated_at", "2018-01-17 16:25:29.098217"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.101715"], ["updated_at", "2018-01-17 16:25:29.101715"]]
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?[0m  [["market_id", 1], ["updated_at", "2018-01-17 16:25:29.104984"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$3ktzQqTl2K7oqG4ZbRg0QeE4TzShAj/AUETTSaYlWeODoXSIf3rae"], ["created_at", "2018-01-17 16:25:29.113208"], ["updated_at", "2018-01-17 16:25:29.113208"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.115727"], ["updated_at", "2018-01-17 16:25:29.115727"]]
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?  [["market_id", 1], ["updated_at", "2018-01-17 16:25:29.118128"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$a0UeMAMBK8lcWknwrd20iOeMFZDHc.dIh17RzZfW6jgzSGxV52Mo6"], ["created_at", "2018-01-17 16:25:29.125834"], ["updated_at", "2018-01-17 16:25:29.125834"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.129194"], ["updated_at", "2018-01-17 16:25:29.129194"]]
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?[0m  [["market_id", 1], ["updated_at", "2018-01-17 16:25:29.131892"], ["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$DIImjl4mo5gWu1JzGBD4b.GlGgG7ViviUb0Q6pFbThO80cyxnOhkO"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:29.142419"], ["updated_at", "2018-01-17 16:25:29.142419"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.146403"], ["updated_at", "2018-01-17 16:25:29.146403"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "microposts" ("user_id", "market_id", "content", "vote", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["market_id", 1], ["content", "BLA BLA BLA"], ["vote", 4], ["created_at", "2018-01-17 16:25:29.152329"], ["updated_at", "2018-01-17 16:25:29.152329"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$U7wetejtvyEwILmrXqMlle48.GmLWiNJ2GKyxuf/.fXV5POiGelhm"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:29.159933"], ["updated_at", "2018-01-17 16:25:29.159933"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.163983"], ["updated_at", "2018-01-17 16:25:29.163983"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "microposts" ("user_id", "market_id", "content", "vote", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["market_id", 1], ["content", "BLA BLA BLA"], ["vote", 4], ["created_at", "2018-01-17 16:25:29.167320"], ["updated_at", "2018-01-17 16:25:29.167320"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$vuY6/X/CwIwB8oN6NnVr.O938ks0/q9h4IANE7NCJ4tTDRsMFjB/q"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:29.176609"], ["updated_at", "2018-01-17 16:25:29.176609"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.179909"], ["updated_at", "2018-01-17 16:25:29.179909"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "microposts" ("user_id", "market_id", "content", "vote", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["market_id", 1], ["content", "BLA BLA BLA"], ["vote", 4], ["created_at", "2018-01-17 16:25:29.182910"], ["updated_at", "2018-01-17 16:25:29.182910"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$TCE9.W3JJQpo7wb8UCU7GuXHuKK0HypfqnWybgsnrwNAEDVW1ktHe"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:29.192203"], ["updated_at", "2018-01-17 16:25:29.192203"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.195427"], ["updated_at", "2018-01-17 16:25:29.195427"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "microposts" ("user_id", "market_id", "content", "vote", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["market_id", 1], ["content", "BLA BLA BLA"], ["vote", 4], ["created_at", "2018-01-17 16:25:29.198371"], ["updated_at", "2018-01-17 16:25:29.198371"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$B7MJ2NWxRJirjk7bboWt8OLM99ciumAcsZYxrrcKdPXjWaBpVlh2u"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:29.205575"], ["updated_at", "2018-01-17 16:25:29.205575"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.209231"], ["updated_at", "2018-01-17 16:25:29.209231"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "microposts" ("user_id", "market_id", "content", "vote", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["market_id", 1], ["content", "BLA BLA BLA"], ["vote", 4], ["created_at", "2018-01-17 16:25:29.212623"], ["updated_at", "2018-01-17 16:25:29.212623"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$9r1tzxfayPrdDWPFErVEqOW7UNlGA77N071KIuEvI5gPpd0mmB8DG"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:29.219804"], ["updated_at", "2018-01-17 16:25:29.219804"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.222518"], ["updated_at", "2018-01-17 16:25:29.222518"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "microposts" ("user_id", "market_id", "content", "vote", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["market_id", 1], ["content", "BLA BLA BLA"], ["vote", 4], ["created_at", "2018-01-17 16:25:29.226703"], ["updated_at", "2018-01-17 16:25:29.226703"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$zX2NsoqX8x/imCBqw219w.COW9llgucP4RmdDyAIbOGUn.3qoEksW"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:29.234494"], ["updated_at", "2018-01-17 16:25:29.234494"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.237418"], ["updated_at", "2018-01-17 16:25:29.237418"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "microposts" ("user_id", "market_id", "content", "vote", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["market_id", 1], ["content", "BLA BLA BLA"], ["vote", 4], ["created_at", "2018-01-17 16:25:29.241513"], ["updated_at", "2018-01-17 16:25:29.241513"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$6gJkLHk4zVm226eWJi6z9Oj5myrV545gROl/nLqZ.8jBRjuMUOu/C"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:29.248790"], ["updated_at", "2018-01-17 16:25:29.248790"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.251179"], ["updated_at", "2018-01-17 16:25:29.251179"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "microposts" ("user_id", "market_id", "content", "vote", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["market_id", 1], ["content", "BLA BLA BLA"], ["vote", 4], ["created_at", "2018-01-17 16:25:29.254905"], ["updated_at", "2018-01-17 16:25:29.254905"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$8z08kWdPPqtXtpRS5wWGjOWYT81WYHpOiET.p9QeDQ4IHnoHGWiqa"], ["created_at", "2018-01-17 16:25:29.261745"], ["updated_at", "2018-01-17 16:25:29.261745"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Bucaneve"], ["label", "Doria"], ["package", "500g"], ["created_at", "2018-01-17 16:25:29.265162"], ["updated_at", "2018-01-17 16:25:29.265162"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.267971"], ["updated_at", "2018-01-17 16:25:29.267971"]]
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?[0m  [["market_id", 1], ["updated_at", "2018-01-17 16:25:29.270808"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 1], ["stock", 40], ["price", 4.2], ["created_at", "2018-01-17 16:25:29.274575"], ["updated_at", "2018-01-17 16:25:29.274575"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."id" != 1 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$luyShyMIzS8U5orTmK5bS.bexGh.Zcu1VkqjXW7Zw9yQ3mBZOZNZW"], ["created_at", "2018-01-17 16:25:29.283143"], ["updated_at", "2018-01-17 16:25:29.283143"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Bucaneve"], ["label", "Doria"], ["package", "500g"], ["created_at", "2018-01-17 16:25:29.285553"], ["updated_at", "2018-01-17 16:25:29.285553"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.289298"], ["updated_at", "2018-01-17 16:25:29.289298"]]
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?  [["market_id", 1], ["updated_at", "2018-01-17 16:25:29.292666"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 1], ["stock", 40], ["price", 4.2], ["created_at", "2018-01-17 16:25:29.296435"], ["updated_at", "2018-01-17 16:25:29.296435"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."id" != 1 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$VPGeldhKmJlP8Dt6YqJZ/e/Bbdq44ilP/Csq6v0dSgadEk5GNVgl2"], ["created_at", "2018-01-17 16:25:29.305459"], ["updated_at", "2018-01-17 16:25:29.305459"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Bucaneve"], ["label", "Doria"], ["package", "500g"], ["created_at", "2018-01-17 16:25:29.309092"], ["updated_at", "2018-01-17 16:25:29.309092"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.313429"], ["updated_at", "2018-01-17 16:25:29.313429"]]
  [1m[35mManager Exists (0.3ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?[0m  [["market_id", 1], ["updated_at", "2018-01-17 16:25:29.316828"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.1ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 1], ["stock", 40], ["price", 4.2], ["created_at", "2018-01-17 16:25:29.321677"], ["updated_at", "2018-01-17 16:25:29.321677"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."id" != 1 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$hVK67eWNZMfKVvbVrnRNeO8Gr2xmOlqUPYy8EXshQs9yGx6UP732."], ["created_at", "2018-01-17 16:25:29.332737"], ["updated_at", "2018-01-17 16:25:29.332737"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Bucaneve"], ["label", "Doria"], ["package", "500g"], ["created_at", "2018-01-17 16:25:29.335515"], ["updated_at", "2018-01-17 16:25:29.335515"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.338458"], ["updated_at", "2018-01-17 16:25:29.338458"]]
  [1m[36mManager Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?  [["market_id", 1], ["updated_at", "2018-01-17 16:25:29.341740"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 1], ["stock", 40], ["price", 4.2], ["created_at", "2018-01-17 16:25:29.345465"], ["updated_at", "2018-01-17 16:25:29.345465"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.2ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" IS NULL AND "owners"."id" != 1 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mManager Exists (0.0ms)[0m  SELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$WW5BaHcxgPssfj.pI4T0kejcCmJxoyhrIHaYGua0mGlA7biC4GVIi"], ["created_at", "2018-01-17 16:25:29.354229"], ["updated_at", "2018-01-17 16:25:29.354229"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Bucaneve"], ["label", "Doria"], ["package", "500g"], ["created_at", "2018-01-17 16:25:29.356379"], ["updated_at", "2018-01-17 16:25:29.356379"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.359791"], ["updated_at", "2018-01-17 16:25:29.359791"]]
  [1m[35mManager Exists (0.2ms)[0m  SELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?[0m  [["market_id", 1], ["updated_at", "2018-01-17 16:25:29.362411"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOwner Exists (0.3ms)[0m  SELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["market_id", 1], ["product_id", 1], ["stock", 40], ["price", 4.2], ["created_at", "2018-01-17 16:25:29.365918"], ["updated_at", "2018-01-17 16:25:29.365918"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."id" != 1 AND "owners"."market_id" IS NULL) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$3eK1juTbxsWVH.U4vvgzveaRYcmZhHi2Y8Z6msl7bWGgNHwUVWeEG"], ["created_at", "2018-01-17 16:25:29.374618"], ["updated_at", "2018-01-17 16:25:29.374618"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Bucaneve"], ["label", "Doria"], ["package", "500g"], ["created_at", "2018-01-17 16:25:29.377801"], ["updated_at", "2018-01-17 16:25:29.377801"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.380596"], ["updated_at", "2018-01-17 16:25:29.380596"]]
  [1m[36mManager Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?  [["market_id", 1], ["updated_at", "2018-01-17 16:25:29.383170"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 1], ["stock", 40], ["price", 4.2], ["created_at", "2018-01-17 16:25:29.387865"], ["updated_at", "2018-01-17 16:25:29.387865"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE LOWER("managers"."email") = LOWER('mariorossi@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "managers" ("name", "surname", "email", "tel", "yearofbirth", "curriculum", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Mario"], ["surname", "Rossi"], ["email", "mariorossi@gmail.com"], ["tel", "3365894127"], ["yearofbirth", 1992], ["curriculum", "BLA BLA BLA"], ["password_digest", "$2a$04$awuI/vsagIHYltVjZ6XPX.xfRLLapxuIK5H3hV3sne3vJuBT6zPBi"], ["created_at", "2018-01-17 16:25:29.395463"], ["updated_at", "2018-01-17 16:25:29.395463"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Bucaneve"], ["label", "Doria"], ["package", "500g"], ["created_at", "2018-01-17 16:25:29.398030"], ["updated_at", "2018-01-17 16:25:29.398030"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "markets" ("address", "group", "info", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["address", "via alessandro severo, 71, 00145 Roma RM"], ["group", "Conad"], ["info", "BLABLABLA"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.400942"], ["updated_at", "2018-01-17 16:25:29.400942"]]
  [1m[36mManager Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "managers" WHERE (LOWER("managers"."email") = LOWER('mariorossi@gmail.com') AND "managers"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "managers" SET "market_id" = ?, "updated_at" = ? WHERE "managers"."id" = ?  [["market_id", 1], ["updated_at", "2018-01-17 16:25:29.403980"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOwner Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "owners" WHERE ("owners"."product_id" = 1 AND "owners"."market_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "owners" ("market_id", "product_id", "stock", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["market_id", 1], ["product_id", 1], ["stock", 40], ["price", 4.2], ["created_at", "2018-01-17 16:25:29.408372"], ["updated_at", "2018-01-17 16:25:29.408372"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Bucaneve"], ["label", "Doria"], ["package", "500g"], ["created_at", "2018-01-17 16:25:29.412352"], ["updated_at", "2018-01-17 16:25:29.412352"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Bucaneve"], ["label", "Doria"], ["package", "500g"], ["created_at", "2018-01-17 16:25:29.416544"], ["updated_at", "2018-01-17 16:25:29.416544"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Bucaneve"], ["label", "Doria"], ["package", "500g"], ["created_at", "2018-01-17 16:25:29.420905"], ["updated_at", "2018-01-17 16:25:29.420905"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Bucaneve"], ["label", "Doria"], ["package", "500g"], ["created_at", "2018-01-17 16:25:29.425102"], ["updated_at", "2018-01-17 16:25:29.425102"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Bucaneve"], ["label", "Doria"], ["package", "500g"], ["created_at", "2018-01-17 16:25:29.431157"], ["updated_at", "2018-01-17 16:25:29.431157"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Bucaneve"], ["label", "Doria"], ["package", "500g"], ["created_at", "2018-01-17 16:25:29.436402"], ["updated_at", "2018-01-17 16:25:29.436402"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Bucaneve"], ["label", "Doria"], ["package", "500g"], ["created_at", "2018-01-17 16:25:29.440978"], ["updated_at", "2018-01-17 16:25:29.440978"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Bucaneve"], ["label", "Doria"], ["package", "500g"], ["created_at", "2018-01-17 16:25:29.446689"], ["updated_at", "2018-01-17 16:25:29.446689"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Bucaneve"], ["label", "Doria"], ["package", "500g"], ["created_at", "2018-01-17 16:25:29.450804"], ["updated_at", "2018-01-17 16:25:29.450804"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Bucaneve"], ["label", "Doria"], ["package", "500g"], ["created_at", "2018-01-17 16:25:29.454923"], ["updated_at", "2018-01-17 16:25:29.454923"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$VkPuqpYEaJoQ2Xnz5b0BzuspRTiqmI.y1MbRIeqn9c9dBcQoVRfT2"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:29.464537"], ["updated_at", "2018-01-17 16:25:29.464537"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", "2018-01-17 16:25:29.468237"], ["updated_at", "2018-01-17 16:25:29.468237"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "products" ("name", "label", "package", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Bucaneve"], ["label", "Doria"], ["package", "500g"], ["created_at", "2018-01-17 16:25:29.470288"], ["updated_at", "2018-01-17 16:25:29.470288"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "requests" ("shopper_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["shopper_id", 1], ["product_id", 1], ["created_at", "2018-01-17 16:25:29.473561"], ["updated_at", "2018-01-17 16:25:29.473561"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$jj3U4LrfeT.M22ycg6oRCOilEm.xOTyBLVWT8aaG03N4OzJBipTcS"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:29.480499"], ["updated_at", "2018-01-17 16:25:29.480499"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2018-01-17 16:25:29.483966"], ["updated_at", "2018-01-17 16:25:29.483966"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$CKHmxxcFI5UTFDeoNZ/FQ.qPnVPHFIqF5kKUmOtoPMq2sjuznsgNO"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:29.490843"], ["updated_at", "2018-01-17 16:25:29.490843"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", "2018-01-17 16:25:29.494594"], ["updated_at", "2018-01-17 16:25:29.494594"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$9M0FaDnCUOUux5Z6gFPd6uRODc6uM0y/D2ooHSKQbjFhj89CmlML."], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:29.504014"], ["updated_at", "2018-01-17 16:25:29.504014"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)  [["user_id", 1], ["created_at", "2018-01-17 16:25:29.506442"], ["updated_at", "2018-01-17 16:25:29.506442"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('flavioasdf@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "flavioasdf@gmail.com"], ["yearofbirth", 1992], ["address", "via saudoni, 42, 03030 Castrocielo FR"], ["password_digest", "$2a$04$J491NZYgklaR8doink2uQ.zs2VO.Wk9BqalTR87HVtwJg.gY5WsFy"], ["latitude", 41.4729934], ["longitude", 13.6842442], ["created_at", "2018-01-17 16:25:29.512934"], ["updated_at", "2018-01-17 16:25:29.512934"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "shoppers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", "2018-01-17 16:25:29.516178"], ["updated_at", "2018-01-17 16:25:29.516178"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsamaggiore123@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsamaggiore123@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$D2pQ4EXBgCJta6kKSxwNheninMHDMeMvRm7NZdsPvsheGarpqyyXG"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.524341"], ["updated_at", "2018-01-17 16:25:29.524341"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsaminore456@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsaminore456@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$LdF5Bifvem51h9bfjtX48.RSquivyvl75Rltw1NKTnNzjcmlNbm72"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.530007"], ["updated_at", "2018-01-17 16:25:29.530007"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('orsaminore456@gmail.com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsamaggiore123@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsamaggiore123@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$i9d0c1uon3FV3/SUMumHOOgF.nWmh5LHWUgXiWgetnIk/Vm4loORm"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.538658"], ["updated_at", "2018-01-17 16:25:29.538658"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsaminore456@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsaminore456@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$8.PRmeaOxE6egHEkMQ7IT.A/KYMUP5Z6pJukf8PCtmEi7DowuKYnG"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.543861"], ["updated_at", "2018-01-17 16:25:29.543861"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('orsaminore456@gmail.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsamaggiore123@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsamaggiore123@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$3vznNmsD7dJjYcaZ4A/Lz.uqz3Js5vpAaIJXPGa2ZUALLOUks7.TO"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.554027"], ["updated_at", "2018-01-17 16:25:29.554027"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsaminore456@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsaminore456@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$LYdPsmrl8NHhvMrJPLMHy.SB5HtWhKPSTZLytWmYzdWRaZFHBJJQK"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.560675"], ["updated_at", "2018-01-17 16:25:29.560675"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('orsaminore456@gmail.com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsamaggiore123@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsamaggiore123@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$ewEruBAetFMp2cG6Y6woJuWsTf1o7mvtReUxvkSZO1gkhQiqIUAv6"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.570221"], ["updated_at", "2018-01-17 16:25:29.570221"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsaminore456@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsaminore456@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$iNxzXD8LxVRMyYZV5TVFzO/11qp1K1cMKwSjAd8gMa7B67zVcx0za"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.575992"], ["updated_at", "2018-01-17 16:25:29.575992"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('orsaminore456@gmail.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsamaggiore123@gmail.com') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsamaggiore123@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$QT4ET.mcKAN0SqHXUWvoL.48RYeSd0rguHD86Fbp8qYF3R4xnuRjq"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.586364"], ["updated_at", "2018-01-17 16:25:29.586364"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsaminore456@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsaminore456@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$OOBNYkulYB7GjDw/iWLzGuy6a4rIOGbIHeG71/SMMNIsGrEIiDfMK"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.592862"], ["updated_at", "2018-01-17 16:25:29.592862"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."email" IS NULL AND "users"."id" != 2) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsamaggiore123@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsamaggiore123@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$.4JBIa6sQExAov.edzvBzeuKc59zQ4o.Kdq.FDba/nPRXKz6XRz9i"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.602135"], ["updated_at", "2018-01-17 16:25:29.602135"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsaminore456@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsaminore456@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$AMB9cTCTNluFK/pZ9xhc8urCVkbfYC6qPE5S/RrGWNSq6e4uR0y6O"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.608009"], ["updated_at", "2018-01-17 16:25:29.608009"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('orsaminore456@gmail.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsamaggiore123@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsamaggiore123@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$WXUkIPT9y1cDYLiaEOK1dedVOLZokQABZdqyecThs.dms905XZH5G"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.620178"], ["updated_at", "2018-01-17 16:25:29.620178"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsaminore456@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsaminore456@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$VkZfXWqOT8upoHDk4Q.Ov.ivxvJbwcIV49ASIlnN/ryCguxlOMpNe"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.626824"], ["updated_at", "2018-01-17 16:25:29.626824"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('orsaminore456@gmail.com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsamaggiore123@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsamaggiore123@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$N3DhVTVeEfhd8MsRXd9W9uSgNzfOowRR/.0EPddIzLQ/LMGnZfxrm"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.636715"], ["updated_at", "2018-01-17 16:25:29.636715"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsaminore456@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsaminore456@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$qkXmAYgcsPI6y3GTDBaB/ePvFM8RARHDLcf2d2lvdu0pr36E0BkMK"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.643819"], ["updated_at", "2018-01-17 16:25:29.643819"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('orsaminore456@gmail.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsamaggiore123@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsamaggiore123@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$VKjqTmof96YlfUVqeBfMIuXkg1yF9E8n/hX4PZlxuwMHiAl4ASP9C"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.654155"], ["updated_at", "2018-01-17 16:25:29.654155"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsaminore456@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsaminore456@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$JBbOlqG38kTIzr5nlqWzJ.pB7.tZFA7p87auC6HeLFjrKogOeBAVK"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.660136"], ["updated_at", "2018-01-17 16:25:29.660136"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('orsaminore456@gmail.com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsamaggiore123@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsamaggiore123@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$r3JKduyodk/zsEX0wTw2MO8fR7gwx5BES.1UEMkhbGeRHvMaltEre"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.670453"], ["updated_at", "2018-01-17 16:25:29.670453"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsaminore456@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsaminore456@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$3XxQgHIRAuJdjYFGSdd1aeM6rsPcPk4WL/sQMaASM9Hw/tyK/XLQy"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.675795"], ["updated_at", "2018-01-17 16:25:29.675795"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('orsaminore456@gmail.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsamaggiore123@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsamaggiore123@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$AGRVsK.6zVTaYhHLjn8ZpuEx4XHwFCh6/PPCdpnnLz/WyD7xItGaC"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.686119"], ["updated_at", "2018-01-17 16:25:29.686119"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsaminore456@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsaminore456@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$WY0zVV4E9TbFgAf8yh6IRe.dHdDwjiTii14UwUv5HUxiPcxbf/lmK"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.691355"], ["updated_at", "2018-01-17 16:25:29.691355"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@bbbb.it') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsamaggiore123@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsamaggiore123@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$ffQsQNNXk3r1JSeWkunwxOB.bYgrEPmrCAzFMmeyQPzVv8aFgY9EW"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.701319"], ["updated_at", "2018-01-17 16:25:29.701319"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsaminore456@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsaminore456@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$UUfzSLStI.8Nk3YLWjPDjOeNk/.Fv2sNcoii6b/ZUKjt6xKBOyFTO"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.705949"], ["updated_at", "2018-01-17 16:25:29.705949"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('orsaminore456@gmail.com') AND "users"."id" != 2) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsamaggiore123@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsamaggiore123@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$wLh55RScrlqblyeTeUXyVOIFFZDdI4g9yG2lun6y2Lf5/4tj1iESq"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.719692"], ["updated_at", "2018-01-17 16:25:29.719692"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsaminore456@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsaminore456@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$LxI0rCDfYIoGNFImcuVVA.F7Cn2xnkn0yZuJAS9HtrRWNTJVxarEW"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.726073"], ["updated_at", "2018-01-17 16:25:29.726073"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example,com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user_at_foo.org') AND "users"."id" != 2) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user.name@example.') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar_baz.com') AND "users"."id" != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar+baz.com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsamaggiore123@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsamaggiore123@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$8vd/OgQepk6GlE4/KqgrcucOVxNKNJs9yyNN5s5qWeBxUXOca/KZW"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.742229"], ["updated_at", "2018-01-17 16:25:29.742229"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsaminore456@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsaminore456@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$uSoYEojaM5SZCnodj7KjhuBPJMV4inVvdCJg9eWJoZVRj2E0OSd3W"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.747997"], ["updated_at", "2018-01-17 16:25:29.747997"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('orsaminore456@gmail.com') AND "users"."id" != 2) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('orsaminore456@gmail.com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsamaggiore123@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsamaggiore123@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$2vbd00dktb1v44oN4Wxy1uGv3IZyKjAWmkPU47GWe1BUzAa.ndPEi"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.758259"], ["updated_at", "2018-01-17 16:25:29.758259"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsaminore456@gmail.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsaminore456@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$8RdO0.moVC0LvjCil98w8.Se8Di3309y05KLixMxaUCL5jZa3ktP2"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.764752"], ["updated_at", "2018-01-17 16:25:29.764752"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('orsaminore456@gmail.com') AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsamaggiore123@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsamaggiore123@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$DjHAiNZb7Ht4qbzXKb6jb.czbcIC97fzI9EdNJLJVOUE41ilpPUzm"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.777140"], ["updated_at", "2018-01-17 16:25:29.777140"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsaminore456@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsaminore456@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$eT12V5msWScpCVadZRCp3e6fqwFyOQOnO8th8cigVI5M93Ta7ynkW"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.782892"], ["updated_at", "2018-01-17 16:25:29.782892"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsamaggiore123@gmail.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsamaggiore123@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$UqlrP43djYjOVkhproIZ9uQ7OEJd60/fRDiHsZTb53HbdjQrXC0D2"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.790771"], ["updated_at", "2018-01-17 16:25:29.790771"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('orsaminore456@gmail.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "surname", "email", "yearofbirth", "address", "password_digest", "latitude", "longitude", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Flavio"], ["surname", "Forlini"], ["email", "orsaminore456@gmail.com"], ["yearofbirth", 1992], ["address", "via alessandro severo, 71, 00145 Roma RM"], ["password_digest", "$2a$04$3Um8eLEIGzUnbumLfG8hme6ZqWA9JGWSyhbXsrPN.hJkmzMvWgfmq"], ["latitude", 41.8552904], ["longitude", 12.4827564], ["created_at", "2018-01-17 16:25:29.797762"], ["updated_at", "2018-01-17 16:25:29.797762"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
